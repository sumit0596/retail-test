import{a as ql,b as ji,c as Mn,d as ui,e as Du}from"./chunk-7IPKTMG7.js";import{a as dp}from"./chunk-23ETMDCW.js";import{G as cp,H as up,I as xm,K as Am,M as Sm,N as Em,O as Tm,P as Om,Q as Su,S as Dm,T as Mm,U as km,a as _u,b as em,c as oi,d as tm,e as Bi,g as Sr,h as ai,i as nm,k as Va,l as rm,m as ra,n as bu,o as zr,r as si,s as im,t as om,u as li,v as Ms,w as ci,z as gm}from"./chunk-FQU4EXR4.js";import{$ as Is,B as oa,C as hm,E as vm,J as mm,K as ym,L as xu,N as sp,P as lp,Q as _m,R as bm,S as wm,T as Au,W as Cm,X as Eu,Y as Tu,Z as Ps,a as am,aa as Pm,b as sm,ba as Im,c as wu,d as lm,e as Kl,f as Er,g as cm,i as ap,k as ia,m as um,n as Ra,o as Cu,p as dm,r as fm,t as pm,u as ks,v as Fa}from"./chunk-FLJC444F.js";import{d as Ds,m as Jv,p as Ou}from"./chunk-IPZIKDLO.js";import{f as Qv,j as yu,p as Xv}from"./chunk-TBJJFKUM.js";import{$ as Nl,$b as Wl,$c as Ar,Aa as Xe,Ac as Yl,B as kv,Ba as Ma,Da as ta,E as Ta,Ec as Gv,F as Pv,Fa as ka,Fb as xn,Fc as xr,G as ro,Gb as ie,H as Iv,Ha as fo,Hb as po,Ib as jr,J as Lv,Jb as An,Kc as Ni,Lc as Yv,Mb as zl,N as fu,Na as jv,Nb as op,O as Vv,Ob as Pa,Pb as Ia,Q as Rv,Qb as te,Rb as ae,Rc as Zl,Sb as pt,Ta as jl,Tb as _r,Ub as br,Vb as na,Wb as Ct,X as Oa,Xb as Wv,Y as pu,Yb as qe,Z as ea,Zb as ne,_b as Ul,_c as Hi,a as Yt,ad as fn,b as Cn,ba as Da,bd as Es,ca as Br,cc as Gl,cd as Ts,da as ms,db as _s,dc as Dn,eb as pr,ec as un,ed as Zv,f as tp,fa as fr,fc as dn,fd as Os,g as dr,gb as zv,gd as Kv,h as yr,ha as ys,hd as qv,ia as Ye,ib as X,ic as wr,j as np,ja as Fv,jc as $e,jd as $v,ka as Nv,kb as bs,kc as Kt,kd as $t,lb as rp,lc as qt,m as Wt,mb as ip,mc as La,n as Ov,nb as Gt,nc as Cs,ob as Uv,oc as xs,pa as Hn,pb as hu,pc as As,q as Dv,qa as Ne,ra as He,rc as ii,sa as uo,sc as gu,t as Ti,ta as Hl,tc as Cr,ua as Hv,ub as Lt,vb as ws,wa as Bl,wb as Eo,x as Mv,xa as Bv,xc as Ss,yb as Oi,yc as vu,zb as et,zc as mu}from"./chunk-4KZPWME3.js";var lb={982:(o,r,e)=>{var t,n,i;(function(s){n=[e(523),e(391)],t=s,i=typeof t=="function"?t.apply(r,n):t,i!==void 0&&(o.exports=i)})(function(s,c){var u=Array.prototype.slice;function d(K,he,B){return B.length<=4?K.call(he,B[0],B[1],B[2],B[3]):K.apply(he,B)}function h(K,he){return u.call(K,he)}function v(K,he){return K==null?!1:(s.isArray(he)||(he=h(arguments,1)),s.all(he,function(B){return B in K}))}var m=function(){var K=!1,he=-1;function B(){he++,K=!0,s.defer(function(){K=!1})}return function(){return K||B(),he}}();function _(){this.registeredObjects=[],this.cidIndexes=[]}_.prototype={isRegistered:function(K){return K&&K.cid?this.registeredObjects[K.cid]:s.contains(this.registeredObjects,K)},register:function(K){return this.isRegistered(K)?!1:(K&&K.cid?(this.registeredObjects[K.cid]=K,this.cidIndexes.push(K.cid)):this.registeredObjects.push(K),!0)},unregister:function(K){if(this.isRegistered(K)){if(K&&K.cid)delete this.registeredObjects[K.cid],this.cidIndexes.splice(s.indexOf(this.cidIndexes,K.cid),1);else{var he=s.indexOf(this.registeredObjects,K);this.registeredObjects.splice(he,1)}return!0}return!1},get:function(){return s.map(this.cidIndexes,function(K){return this.registeredObjects[K]},this).concat(this.registeredObjects)}};function w(K,he,B,L){for(var z=0,j=he.length,oe;z<j;z++)if(oe=he[z],!!oe){if(K==="on"){if(!L.objectRegistry.register(oe))continue}else if(!L.objectRegistry.unregister(oe))continue;s.isFunction(oe[K])&&oe[K]("all",B,L)}}function x(K,he){var B=he.type,L=he.undoTypes,z=!L[B]||L[B][K];s.isFunction(z)&&z(he.object,he.before,he.after,he.options)}function E(K,he,B,L,z){if(!(B.isCurrentlyUndoRedoing||K==="undo"&&B.pointer===-1||K==="redo"&&B.pointer===B.length-1)){B.isCurrentlyUndoRedoing=!0;var j,oe,D=K==="undo";for(z?oe=D&&B.pointer===B.length-1||!D&&B.pointer===-1?s.clone(B.models):u.apply(B.models,D?[0,B.pointer]:[B.pointer,B.length-1]):(j=B.at(D?B.pointer:B.pointer+1),oe=L?B.where({magicFusionIndex:j.get("magicFusionIndex")}):[j]),B.pointer+=(D?-1:1)*oe.length;j=D?oe.pop():oe.shift();)j[K]();B.isCurrentlyUndoRedoing=!1,he.trigger(K,he)}}function F(K,he){var B=K.condition,L=typeof B;return L==="function"?!!d(B,K,he):L==="boolean"?B:!0}function U(K,he,B,L){if(K.track&&!K.isCurrentlyUndoRedoing&&he in L&&F(L[he],B)){var z=d(L[he].on,L[he],B),j;if(v(z,"object","before","after")){if(z.type=he,z.magicFusionIndex=m(),z.undoTypes=L,K.pointer<K.length-1)for(var j=K.length-K.pointer-1;j--;)K.pop();K.pointer=K.length,K.add(z),K.length>K.maximumStackLength&&(K.shift(),K.pointer--)}}}var R={add:{undo:function(K,he,B,L){K.remove(B,L)},redo:function(K,he,B,L){L.index&&(L.at=L.index),K.add(B,L)},on:function(K,he,B){return{object:he,before:void 0,after:K,options:s.clone(B)}}},remove:{undo:function(K,he,B,L){"index"in L&&(L.at=L.index),K.add(he,L)},redo:function(K,he,B,L){K.remove(he,L)},on:function(K,he,B){return{object:he,before:K,after:void 0,options:s.clone(B)}}},change:{undo:function(K,he,B,L){s.isEmpty(he)?s.each(s.keys(B),K.unset,K):(K.set(he),L&&L.unsetData&&L.unsetData.before&&L.unsetData.before.length&&s.each(L.unsetData.before,K.unset,K))},redo:function(K,he,B,L){s.isEmpty(B)?s.each(s.keys(he),K.unset,K):(K.set(B),L&&L.unsetData&&L.unsetData.after&&L.unsetData.after.length&&s.each(L.unsetData.after,K.unset,K))},on:function(K,he){var B=K.changedAttributes(),L=s.keys(B),z=s.pick(K.previousAttributes(),L),j=s.keys(z),oe=(he||(he={})).unsetData={after:[],before:[]};return L.length!=j.length&&(L.length>j.length?s.each(L,function(D){D in z||oe.before.push(D)},this):s.each(j,function(D){D in B||oe.after.push(D)})),{object:K,before:z,after:B,options:s.clone(he)}}},reset:{undo:function(K,he,B){K.reset(he)},redo:function(K,he,B){K.reset(B)},on:function(K,he){return{object:K,before:he.previousModels,after:s.clone(K.models)}}}};function W(){}W.prototype=R;function de(K,he,B,L){if(typeof he=="object")return s.each(he,function(z,j){K===2?de(K,z,B,L):de(K,j,z,B)});switch(K){case 0:v(B,"undo","redo","on")&&s.all(s.pick(B,"undo","redo","on"),s.isFunction)&&(L[he]=B);break;case 1:L[he]&&s.isObject(B)&&(L[he]=s.extend({},L[he],B));break;case 2:delete L[he];break}return this}var Ae=c.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(K){x("undo",this.attributes)},redo:function(K){x("redo",this.attributes)}}),Te=c.Collection.extend({model:Ae,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(K){this.maximumStackLength=K}}),pe=c.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(K){this.stack=new Te,this.objectRegistry=new _,this.undoTypes=new W,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(he,B){this.stack.setMaxLength(B)},this),K&&K.track&&this.startTracking(),K&&K.register&&(s.isArray(K.register)||s.isArguments(K.register)?d(this.register,this,K.register):this.register(K.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(K){U(this.stack,K,h(arguments,1),this.undoTypes)},register:function(){w("on",arguments,this._addToStack,this)},unregister:function(){w("off",arguments,this._addToStack,this)},unregisterAll:function(){d(this.unregister,this,this.objectRegistry.get())},undo:function(K){E("undo",this,this.stack,K)},undoAll:function(){E("undo",this,this.stack,!1,!0)},redo:function(K){E("redo",this,this.stack,K)},redoAll:function(){E("redo",this,this.stack,!1,!0)},isAvailable:function(K){var he=this.stack,B=he.length;switch(K){case"undo":return B>0&&he.pointer>-1;case"redo":return B>0&&he.pointer<B-1;default:return!1}},merge:function(K){for(var he=s.isArray(K)?K:h(arguments),B;B=he.pop();)B instanceof pe&&B.stack instanceof Te&&(B.stack=this.stack)},addUndoType:function(K,he){de(0,K,he,this.undoTypes)},changeUndoType:function(K,he){de(1,K,he,this.undoTypes)},removeUndoType:function(K){de(2,K,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return s.extend(pe,{defaults:function(K){s.extend(pe.prototype.defaults,K)},addUndoType:function(K,he){de(0,K,he,R)},changeUndoType:function(K,he){de(1,K,he,R)},removeUndoType:function(K){de(2,K,void 0,R)}}),c.UndoManager=pe})},391:(o,r,e)=>{var t,n;(function(i){var s=typeof self=="object"&&self.self===self&&self||typeof e.g=="object"&&e.g.global===e.g&&e.g;if(1)t=[e(523),e(694),r],n=function(d,h,v){s.Backbone=i(s,v,d,h)}.apply(r,t),n!==void 0&&(o.exports=n);else var c,u})(function(i,s,c,u){var d=i.Backbone,h=Array.prototype.slice;s.VERSION="1.4.1",s.$=u,s.noConflict=function(){return i.Backbone=d,this},s.emulateHTTP=!1,s.emulateJSON=!1;var v=s.Events={},m=/\s+/,_,w=function(T,N,Z,ue,Ce){var G=0,ve;if(Z&&typeof Z=="object")for(ue!==void 0&&("context"in Ce)&&Ce.context===void 0&&(Ce.context=ue),ve=c.keys(Z);G<ve.length;G++)N=w(T,N,ve[G],Z[ve[G]],Ce);else if(Z&&m.test(Z))for(ve=Z.split(m);G<ve.length;G++)N=T(N,ve[G],ue,Ce);else N=T(N,Z,ue,Ce);return N};v.on=function(T,N,Z){if(this._events=w(x,this._events||{},T,N,{context:Z,ctx:this,listening:_}),_){var ue=this._listeners||(this._listeners={});ue[_.id]=_,_.interop=!1}return this},v.listenTo=function(T,N,Z){if(!T)return this;var ue=T._listenId||(T._listenId=c.uniqueId("l")),Ce=this._listeningTo||(this._listeningTo={}),G=_=Ce[ue];G||(this._listenId||(this._listenId=c.uniqueId("l")),G=_=Ce[ue]=new de(this,T));var ve=E(T,N,Z,this);if(_=void 0,ve)throw ve;return G.interop&&G.on(N,Z),this};var x=function(T,N,Z,ue){if(Z){var Ce=T[N]||(T[N]=[]),G=ue.context,ve=ue.ctx,ce=ue.listening;ce&&ce.count++,Ce.push({callback:Z,context:G,ctx:G||ve,listening:ce})}return T},E=function(T,N,Z,ue){try{T.on(N,Z,ue)}catch(Ce){return Ce}};v.off=function(T,N,Z){return this._events?(this._events=w(F,this._events,T,N,{context:Z,listeners:this._listeners}),this):this},v.stopListening=function(T,N,Z){var ue=this._listeningTo;if(!ue)return this;for(var Ce=T?[T._listenId]:c.keys(ue),G=0;G<Ce.length;G++){var ve=ue[Ce[G]];if(!ve)break;ve.obj.off(N,Z,this),ve.interop&&ve.off(N,Z)}return c.isEmpty(ue)&&(this._listeningTo=void 0),this};var F=function(T,N,Z,ue){if(T){var Ce=ue.context,G=ue.listeners,ve=0,ce;if(!N&&!Ce&&!Z){for(ce=c.keys(G);ve<ce.length;ve++)G[ce[ve]].cleanup();return}for(ce=N?[N]:c.keys(T);ve<ce.length;ve++){N=ce[ve];var gt=T[N];if(!gt)break;for(var kt=[],Et=0;Et<gt.length;Et++){var H=gt[Et];if(Z&&Z!==H.callback&&Z!==H.callback._callback||Ce&&Ce!==H.context)kt.push(H);else{var re=H.listening;re&&re.off(N,Z)}}kt.length?T[N]=kt:delete T[N]}return T}};v.once=function(T,N,Z){var ue=w(U,{},T,N,this.off.bind(this));return typeof T=="string"&&Z==null&&(N=void 0),this.on(ue,N,Z)},v.listenToOnce=function(T,N,Z){var ue=w(U,{},N,Z,this.stopListening.bind(this,T));return this.listenTo(T,ue)};var U=function(T,N,Z,ue){if(Z){var Ce=T[N]=c.once(function(){ue(N,Ce),Z.apply(this,arguments)});Ce._callback=Z}return T};v.trigger=function(T){if(!this._events)return this;for(var N=Math.max(0,arguments.length-1),Z=Array(N),ue=0;ue<N;ue++)Z[ue]=arguments[ue+1];return w(R,this._events,T,void 0,Z),this};var R=function(T,N,Z,ue){if(T){var Ce=T[N],G=T.all;Ce&&G&&(G=G.slice()),Ce&&W(Ce,ue),G&&W(G,[N].concat(ue))}return T},W=function(T,N){var Z,ue=-1,Ce=T.length,G=N[0],ve=N[1],ce=N[2];switch(N.length){case 0:for(;++ue<Ce;)(Z=T[ue]).callback.call(Z.ctx);return;case 1:for(;++ue<Ce;)(Z=T[ue]).callback.call(Z.ctx,G);return;case 2:for(;++ue<Ce;)(Z=T[ue]).callback.call(Z.ctx,G,ve);return;case 3:for(;++ue<Ce;)(Z=T[ue]).callback.call(Z.ctx,G,ve,ce);return;default:for(;++ue<Ce;)(Z=T[ue]).callback.apply(Z.ctx,N);return}},de=function(T,N){this.id=T._listenId,this.listener=T,this.obj=N,this.interop=!0,this.count=0,this._events=void 0};de.prototype.on=v.on,de.prototype.off=function(T,N){var Z;this.interop?(this._events=w(F,this._events,T,N,{context:void 0,listeners:void 0}),Z=!this._events):(this.count--,Z=this.count===0),Z&&this.cleanup()},de.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},v.bind=v.on,v.unbind=v.off,c.extend(s,v);var Ae=s.Model=function(T,N){var Z=T||{};N||(N={}),this.preinitialize.apply(this,arguments),this.cid=c.uniqueId(this.cidPrefix),this.attributes={},N.collection&&(this.collection=N.collection),N.parse&&(Z=this.parse(Z,N)||{});var ue=c.result(this,"defaults");Z=c.defaults(c.extend({},ue,Z),ue),this.set(Z,N),this.changed={},this.initialize.apply(this,arguments)};c.extend(Ae.prototype,v,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(T){return c.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(T){return this.attributes[T]},escape:function(T){return c.escape(this.get(T))},has:function(T){return this.get(T)!=null},matches:function(T){return!!c.iteratee(T,this)(this.attributes)},set:function(T,N,Z){if(T==null)return this;var ue;if(typeof T=="object"?(ue=T,Z=N):(ue={})[T]=N,Z||(Z={}),!this._validate(ue,Z))return!1;var Ce=Z.unset,G=Z.silent,ve=[],ce=this._changing;this._changing=!0,ce||(this._previousAttributes=c.clone(this.attributes),this.changed={});var gt=this.attributes,kt=this.changed,Et=this._previousAttributes;for(var H in ue)N=ue[H],c.isEqual(gt[H],N)||ve.push(H),c.isEqual(Et[H],N)?delete kt[H]:kt[H]=N,Ce?delete gt[H]:gt[H]=N;if(this.idAttribute in ue){var re=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,re,Z)}if(!G){ve.length&&(this._pending=Z);for(var k=0;k<ve.length;k++)this.trigger("change:"+ve[k],this,gt[ve[k]],Z)}if(ce)return this;if(!G)for(;this._pending;)Z=this._pending,this._pending=!1,this.trigger("change",this,Z);return this._pending=!1,this._changing=!1,this},unset:function(T,N){return this.set(T,void 0,c.extend({},N,{unset:!0}))},clear:function(T){var N={};for(var Z in this.attributes)N[Z]=void 0;return this.set(N,c.extend({},T,{unset:!0}))},hasChanged:function(T){return T==null?!c.isEmpty(this.changed):c.has(this.changed,T)},changedAttributes:function(T){if(!T)return this.hasChanged()?c.clone(this.changed):!1;var N=this._changing?this._previousAttributes:this.attributes,Z={},ue;for(var Ce in T){var G=T[Ce];c.isEqual(N[Ce],G)||(Z[Ce]=G,ue=!0)}return ue?Z:!1},previous:function(T){return T==null||!this._previousAttributes?null:this._previousAttributes[T]},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(T){T=c.extend({parse:!0},T);var N=this,Z=T.success;return T.success=function(ue){var Ce=T.parse?N.parse(ue,T):ue;if(!N.set(Ce,T))return!1;Z&&Z.call(T.context,N,ue,T),N.trigger("sync",N,ue,T)},Tt(this,T),this.sync("read",this,T)},save:function(T,N,Z){var ue;T==null||typeof T=="object"?(ue=T,Z=N):(ue={})[T]=N,Z=c.extend({validate:!0,parse:!0},Z);var Ce=Z.wait;if(ue&&!Ce){if(!this.set(ue,Z))return!1}else if(!this._validate(ue,Z))return!1;var G=this,ve=Z.success,ce=this.attributes;Z.success=function(Et){G.attributes=ce;var H=Z.parse?G.parse(Et,Z):Et;if(Ce&&(H=c.extend({},ue,H)),H&&!G.set(H,Z))return!1;ve&&ve.call(Z.context,G,Et,Z),G.trigger("sync",G,Et,Z)},Tt(this,Z),ue&&Ce&&(this.attributes=c.extend({},ce,ue));var gt=this.isNew()?"create":Z.patch?"patch":"update";gt==="patch"&&!Z.attrs&&(Z.attrs=ue);var kt=this.sync(gt,this,Z);return this.attributes=ce,kt},destroy:function(T){T=T?c.clone(T):{};var N=this,Z=T.success,ue=T.wait,Ce=function(){N.stopListening(),N.trigger("destroy",N,N.collection,T)};T.success=function(ve){ue&&Ce(),Z&&Z.call(T.context,N,ve,T),N.isNew()||N.trigger("sync",N,ve,T)};var G=!1;return this.isNew()?c.defer(T.success):(Tt(this,T),G=this.sync("delete",this,T)),ue||Ce(),G},url:function(){var T=c.result(this,"urlRoot")||c.result(this.collection,"url")||tn();if(this.isNew())return T;var N=this.get(this.idAttribute);return T.replace(/[^\/]$/,"$&/")+encodeURIComponent(N)},parse:function(T,N){return T},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(T){return this._validate({},c.extend({},T,{validate:!0}))},_validate:function(T,N){if(!N.validate||!this.validate)return!0;T=c.extend({},this.attributes,T);var Z=this.validationError=this.validate(T,N)||null;return Z?(this.trigger("invalid",this,Z,c.extend(N,{validationError:Z})),!1):!0}});var Te=s.Collection=function(T,N){N||(N={}),this.preinitialize.apply(this,arguments),N.model&&(this.model=N.model),N.comparator!==void 0&&(this.comparator=N.comparator),this._reset(),this.initialize.apply(this,arguments),T&&this.reset(T,c.extend({silent:!0},N))},pe={add:!0,remove:!0,merge:!0},K={add:!0,remove:!1},he=function(T,N,Z){Z=Math.min(Math.max(Z,0),T.length);var ue=Array(T.length-Z),Ce=N.length,G;for(G=0;G<ue.length;G++)ue[G]=T[G+Z];for(G=0;G<Ce;G++)T[G+Z]=N[G];for(G=0;G<ue.length;G++)T[G+Ce+Z]=ue[G]};c.extend(Te.prototype,v,{model:Ae,preinitialize:function(){},initialize:function(){},toJSON:function(T){return this.map(function(N){return N.toJSON(T)})},sync:function(){return s.sync.apply(this,arguments)},add:function(T,N){return this.set(T,c.extend({merge:!1},N,K))},remove:function(T,N){N=c.extend({},N);var Z=!c.isArray(T);T=Z?[T]:T.slice();var ue=this._removeModels(T,N);return!N.silent&&ue.length&&(N.changes={added:[],merged:[],removed:ue},this.trigger("update",this,N)),Z?ue[0]:ue},set:function(T,N){if(T!=null){N=c.extend({},pe,N),N.parse&&!this._isModel(T)&&(T=this.parse(T,N)||[]);var Z=!c.isArray(T);T=Z?[T]:T.slice();var ue=N.at;ue!=null&&(ue=+ue),ue>this.length&&(ue=this.length),ue<0&&(ue+=this.length+1);var Ce=[],G=[],ve=[],ce=[],gt={},kt=N.add,Et=N.merge,H=N.remove,re=!1,k=this.comparator&&ue==null&&N.sort!==!1,ke=c.isString(this.comparator)?this.comparator:null,_e,Be;for(Be=0;Be<T.length;Be++){_e=T[Be];var lt=this.get(_e);if(lt){if(Et&&_e!==lt){var st=this._isModel(_e)?_e.attributes:_e;N.parse&&(st=lt.parse(st,N)),lt.set(st,N),ve.push(lt),k&&!re&&(re=lt.hasChanged(ke))}gt[lt.cid]||(gt[lt.cid]=!0,Ce.push(lt)),T[Be]=lt}else kt&&(_e=T[Be]=this._prepareModel(_e,N),_e&&(G.push(_e),this._addReference(_e,N),gt[_e.cid]=!0,Ce.push(_e)))}if(H){for(Be=0;Be<this.length;Be++)_e=this.models[Be],gt[_e.cid]||ce.push(_e);ce.length&&this._removeModels(ce,N)}var Je=!1,vt=!k&&kt&&H;if(Ce.length&&vt?(Je=this.length!==Ce.length||c.some(this.models,function(Nt,Ut){return Nt!==Ce[Ut]}),this.models.length=0,he(this.models,Ce,0),this.length=this.models.length):G.length&&(k&&(re=!0),he(this.models,G,ue??this.length),this.length=this.models.length),re&&this.sort({silent:!0}),!N.silent){for(Be=0;Be<G.length;Be++)ue!=null&&(N.index=ue+Be),_e=G[Be],_e.trigger("add",_e,this,N);(re||Je)&&this.trigger("sort",this,N),(G.length||ce.length||ve.length)&&(N.changes={added:G,removed:ce,merged:ve},this.trigger("update",this,N))}return Z?T[0]:T}},reset:function(T,N){N=N?c.clone(N):{};for(var Z=0;Z<this.models.length;Z++)this._removeReference(this.models[Z],N);return N.previousModels=this.models,this._reset(),T=this.add(T,c.extend({silent:!0},N)),N.silent||this.trigger("reset",this,N),T},push:function(T,N){return this.add(T,c.extend({at:this.length},N))},pop:function(T){var N=this.at(this.length-1);return this.remove(N,T)},unshift:function(T,N){return this.add(T,c.extend({at:0},N))},shift:function(T){var N=this.at(0);return this.remove(N,T)},slice:function(){return h.apply(this.models,arguments)},get:function(T){if(T!=null)return this._byId[T]||this._byId[this.modelId(this._isModel(T)?T.attributes:T,T.idAttribute)]||T.cid&&this._byId[T.cid]},has:function(T){return this.get(T)!=null},at:function(T){return T<0&&(T+=this.length),this.models[T]},where:function(T,N){return this[N?"find":"filter"](T)},findWhere:function(T){return this.where(T,!0)},sort:function(T){var N=this.comparator;if(!N)throw new Error("Cannot sort a set without a comparator");T||(T={});var Z=N.length;return c.isFunction(N)&&(N=N.bind(this)),Z===1||c.isString(N)?this.models=this.sortBy(N):this.models.sort(N),T.silent||this.trigger("sort",this,T),this},pluck:function(T){return this.map(T+"")},fetch:function(T){T=c.extend({parse:!0},T);var N=T.success,Z=this;return T.success=function(ue){var Ce=T.reset?"reset":"set";Z[Ce](ue,T),N&&N.call(T.context,Z,ue,T),Z.trigger("sync",Z,ue,T)},Tt(this,T),this.sync("read",this,T)},create:function(T,N){N=N?c.clone(N):{};var Z=N.wait;if(T=this._prepareModel(T,N),!T)return!1;Z||this.add(T,N);var ue=this,Ce=N.success;return N.success=function(G,ve,ce){Z&&ue.add(G,ce),Ce&&Ce.call(ce.context,G,ve,ce)},T.save(null,N),T},parse:function(T,N){return T},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(T,N){return T[N||this.model.prototype.idAttribute||"id"]},values:function(){return new L(this,z)},keys:function(){return new L(this,j)},entries:function(){return new L(this,oe)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(T,N){if(this._isModel(T))return T.collection||(T.collection=this),T;N=N?c.clone(N):{},N.collection=this;var Z;return this.model.prototype?Z=new this.model(T,N):Z=this.model(T,N),Z.validationError?(this.trigger("invalid",this,Z.validationError,N),!1):Z},_removeModels:function(T,N){for(var Z=[],ue=0;ue<T.length;ue++){var Ce=this.get(T[ue]);if(Ce){var G=this.indexOf(Ce);this.models.splice(G,1),this.length--,delete this._byId[Ce.cid];var ve=this.modelId(Ce.attributes,Ce.idAttribute);ve!=null&&delete this._byId[ve],N.silent||(N.index=G,Ce.trigger("remove",Ce,this,N)),Z.push(Ce),this._removeReference(Ce,N)}}return Z},_isModel:function(T){return T instanceof Ae},_addReference:function(T,N){this._byId[T.cid]=T;var Z=this.modelId(T.attributes,T.idAttribute);Z!=null&&(this._byId[Z]=T),T.on("all",this._onModelEvent,this)},_removeReference:function(T,N){delete this._byId[T.cid];var Z=this.modelId(T.attributes,T.idAttribute);Z!=null&&delete this._byId[Z],this===T.collection&&delete T.collection,T.off("all",this._onModelEvent,this)},_onModelEvent:function(T,N,Z,ue){if(N){if((T==="add"||T==="remove")&&Z!==this)return;if(T==="destroy"&&this.remove(N,ue),T==="changeId"){var Ce=this.modelId(N.previousAttributes(),N.idAttribute),G=this.modelId(N.attributes,N.idAttribute);Ce!=null&&delete this._byId[Ce],G!=null&&(this._byId[G]=N)}}this.trigger.apply(this,arguments)}});var B=typeof Symbol=="function"&&Symbol.iterator;B&&(Te.prototype[B]=Te.prototype.values);var L=function(T,N){this._collection=T,this._kind=N,this._index=0},z=1,j=2,oe=3;B&&(L.prototype[B]=function(){return this}),L.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var T=this._collection.at(this._index);this._index++;var N;if(this._kind===z)N=T;else{var Z=this._collection.modelId(T.attributes,T.idAttribute);this._kind===j?N=Z:N=[Z,T]}return{value:N,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var D=s.View=function(T){this.cid=c.uniqueId("view"),this.preinitialize.apply(this,arguments),c.extend(this,c.pick(T,we)),this._ensureElement(),this.initialize.apply(this,arguments)},be=/^(\S+)\s*(.*)$/,we=["model","collection","el","id","attributes","className","tagName","events"];c.extend(D.prototype,v,{tagName:"div",$:function(T){return this.$el.find(T)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(T){return this.undelegateEvents(),this._setElement(T),this.delegateEvents(),this},_setElement:function(T){this.$el=T instanceof s.$?T:s.$(T),this.el=this.$el[0]},delegateEvents:function(T){if(T||(T=c.result(this,"events")),!T)return this;this.undelegateEvents();for(var N in T){var Z=T[N];if(c.isFunction(Z)||(Z=this[Z]),!!Z){var ue=N.match(be);this.delegate(ue[1],ue[2],Z.bind(this))}}return this},delegate:function(T,N,Z){return this.$el.on(T+".delegateEvents"+this.cid,N,Z),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(T,N,Z){return this.$el.off(T+".delegateEvents"+this.cid,N,Z),this},_createElement:function(T){return document.createElement(T)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var T=c.extend({},c.result(this,"attributes"));this.id&&(T.id=c.result(this,"id")),this.className&&(T.class=c.result(this,"className")),this.setElement(this._createElement(c.result(this,"tagName"))),this._setAttributes(T)}},_setAttributes:function(T){this.$el.attr(T)}});var Re=function(T,N,Z,ue){switch(N){case 1:return function(){return T[Z](this[ue])};case 2:return function(Ce){return T[Z](this[ue],Ce)};case 3:return function(Ce,G){return T[Z](this[ue],ct(Ce,this),G)};case 4:return function(Ce,G,ve){return T[Z](this[ue],ct(Ce,this),G,ve)};default:return function(){var Ce=h.call(arguments);return Ce.unshift(this[ue]),T[Z].apply(T,Ce)}}},at=function(T,N,Z,ue){c.each(Z,function(Ce,G){N[G]&&(T.prototype[G]=Re(N,Ce,G,ue))})},ct=function(T,N){return c.isFunction(T)?T:c.isObject(T)&&!N._isModel(T)?Ot(T):c.isString(T)?function(Z){return Z.get(T)}:T},Ot=function(T){var N=c.matches(T);return function(Z){return N(Z.attributes)}},xe={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Ee={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};c.each([[Te,xe,"models"],[Ae,Ee,"attributes"]],function(T){var N=T[0],Z=T[1],ue=T[2];N.mixin=function(Ce){var G=c.reduce(c.functions(Ce),function(ve,ce){return ve[ce]=0,ve},{});at(N,Ce,G,ue)},at(N,c,Z,ue)}),s.sync=function(T,N,Z){var ue=ze[T];c.defaults(Z||(Z={}),{emulateHTTP:s.emulateHTTP,emulateJSON:s.emulateJSON});var Ce={type:ue,dataType:"json"};if(Z.url||(Ce.url=c.result(N,"url")||tn()),Z.data==null&&N&&(T==="create"||T==="update"||T==="patch")&&(Ce.contentType="application/json",Ce.data=JSON.stringify(Z.attrs||N.toJSON(Z))),Z.emulateJSON&&(Ce.contentType="application/x-www-form-urlencoded",Ce.data=Ce.data?{model:Ce.data}:{}),Z.emulateHTTP&&(ue==="PUT"||ue==="DELETE"||ue==="PATCH")){Ce.type="POST",Z.emulateJSON&&(Ce.data._method=ue);var G=Z.beforeSend;Z.beforeSend=function(gt){if(gt.setRequestHeader("X-HTTP-Method-Override",ue),G)return G.apply(this,arguments)}}Ce.type!=="GET"&&!Z.emulateJSON&&(Ce.processData=!1);var ve=Z.error;Z.error=function(gt,kt,Et){Z.textStatus=kt,Z.errorThrown=Et,ve&&ve.call(Z.context,gt,kt,Et)};var ce=Z.xhr=s.ajax(c.extend(Ce,Z));return N.trigger("request",N,ce,Z),ce};var ze={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};s.ajax=function(){return s.$.ajax.apply(s.$,arguments)};var se=s.Router=function(T){T||(T={}),this.preinitialize.apply(this,arguments),T.routes&&(this.routes=T.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Se=/\((.*?)\)/g,Me=/(\(\?)?:\w+/g,Ke=/\*\w+/g,Ze=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(se.prototype,v,{preinitialize:function(){},initialize:function(){},route:function(T,N,Z){c.isRegExp(T)||(T=this._routeToRegExp(T)),c.isFunction(N)&&(Z=N,N=""),Z||(Z=this[N]);var ue=this;return s.history.route(T,function(Ce){var G=ue._extractParameters(T,Ce);ue.execute(Z,G,N)!==!1&&(ue.trigger.apply(ue,["route:"+N].concat(G)),ue.trigger("route",N,G),s.history.trigger("route",ue,N,G))}),this},execute:function(T,N,Z){T&&T.apply(this,N)},navigate:function(T,N){return s.history.navigate(T,N),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var T,N=c.keys(this.routes);(T=N.pop())!=null;)this.route(T,this.routes[T])}},_routeToRegExp:function(T){return T=T.replace(Ze,"\\$&").replace(Se,"(?:$1)?").replace(Me,function(N,Z){return Z?N:"([^/?]+)"}).replace(Ke,"([^?]*?)"),new RegExp("^"+T+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(T,N){var Z=T.exec(N).slice(1);return c.map(Z,function(ue,Ce){return Ce===Z.length-1?ue||null:ue?decodeURIComponent(ue):null})}});var We=s.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ut=/^[#\/]|\s+$/g,zt=/^\/+|\/+$/g,xt=/#.*$/;We.started=!1,c.extend(We.prototype,v,{interval:50,atRoot:function(){var T=this.location.pathname.replace(/[^\/]$/,"$&/");return T===this.root&&!this.getSearch()},matchRoot:function(){var T=this.decodeFragment(this.location.pathname),N=T.slice(0,this.root.length-1)+"/";return N===this.root},decodeFragment:function(T){return decodeURI(T.replace(/%25/g,"%2525"))},getSearch:function(){var T=this.location.href.replace(/#.*/,"").match(/\?.+/);return T?T[0]:""},getHash:function(T){var N=(T||this).location.href.match(/#(.*)$/);return N?N[1]:""},getPath:function(){var T=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return T.charAt(0)==="/"?T.slice(1):T},getFragment:function(T){return T==null&&(this._usePushState||!this._wantsHashChange?T=this.getPath():T=this.getHash()),T.replace(ut,"")},start:function(T){if(We.started)throw new Error("Backbone.history has already been started");if(We.started=!0,this.options=c.extend({root:"/"},this.options,T),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(zt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var N=this.root.slice(0,-1)||"/";return this.location.replace(N+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Z=document.body,ue=Z.insertBefore(this.iframe,Z.firstChild).contentWindow;ue.document.open(),ue.document.close(),ue.location.hash="#"+this.fragment}var Ce=window.addEventListener||function(G,ve){return attachEvent("on"+G,ve)};if(this._usePushState?Ce("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ce("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var T=window.removeEventListener||function(N,Z){return detachEvent("on"+N,Z)};this._usePushState?T("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&T("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),We.started=!1},route:function(T,N){this.handlers.unshift({route:T,callback:N})},checkUrl:function(T){var N=this.getFragment();if(N===this.fragment&&this.iframe&&(N=this.getHash(this.iframe.contentWindow)),N===this.fragment)return!1;this.iframe&&this.navigate(N),this.loadUrl()},loadUrl:function(T){return this.matchRoot()?(T=this.fragment=this.getFragment(T),c.some(this.handlers,function(N){if(N.route.test(T))return N.callback(T),!0})):!1},navigate:function(T,N){if(!We.started)return!1;(!N||N===!0)&&(N={trigger:!!N}),T=this.getFragment(T||"");var Z=this.root;(T===""||T.charAt(0)==="?")&&(Z=Z.slice(0,-1)||"/");var ue=Z+T;T=T.replace(xt,"");var Ce=this.decodeFragment(T);if(this.fragment!==Ce){if(this.fragment=Ce,this._usePushState)this.history[N.replace?"replaceState":"pushState"]({},document.title,ue);else if(this._wantsHashChange){if(this._updateHash(this.location,T,N.replace),this.iframe&&T!==this.getHash(this.iframe.contentWindow)){var G=this.iframe.contentWindow;N.replace||(G.document.open(),G.document.close()),this._updateHash(G.location,T,N.replace)}}else return this.location.assign(ue);if(N.trigger)return this.loadUrl(T)}},_updateHash:function(T,N,Z){if(Z){var ue=T.href.replace(/(javascript:|#).*$/,"");T.replace(ue+"#"+N)}else T.hash="#"+N}}),s.history=new We;var pn=function(T,N){var Z=this,ue;return T&&c.has(T,"constructor")?ue=T.constructor:ue=function(){return Z.apply(this,arguments)},c.extend(ue,Z,N),ue.prototype=c.create(Z.prototype,T),ue.prototype.constructor=ue,ue.__super__=Z.prototype,ue};Ae.extend=Te.extend=se.extend=D.extend=We.extend=pn;var tn=function(){throw new Error('A "url" property or function must be specified')},Tt=function(T,N){var Z=N.error;N.error=function(ue){Z&&Z.call(N.context,T,ue,N),T.trigger("error",T,ue,N)}};return s})},862:(o,r,e)=>{(function(t){t(e(237))})(function(t){t.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,s){return/^[;{}]$/.test(s)}}),t.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,s,c,u){return this.jsonMode?/^[\[,{]$/.test(s)||/^}/.test(c):s==";"&&u.lexical&&u.lexical.type==")"?!1:/^[;{}]$/.test(s)&&!/^;/.test(c)}});var n=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;t.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(i,s,c,u){var d=!1;return this.configuration=="html"&&(d=u.context?n.test(u.context.tagName):!1),!d&&(i=="tag"&&/>$/.test(s)&&u.context||/^</.test(c))}}),t.defineExtension("commentRange",function(i,s,c){var u=this,d=t.innerMode(u.getMode(),u.getTokenAt(s).state).mode;u.operation(function(){if(i)u.replaceRange(d.commentEnd,c),u.replaceRange(d.commentStart,s),s.line==c.line&&s.ch==c.ch&&u.setCursor(s.line,s.ch+d.commentStart.length);else{var h=u.getRange(s,c),v=h.indexOf(d.commentStart),m=h.lastIndexOf(d.commentEnd);v>-1&&m>-1&&m>v&&(h=h.substr(0,v)+h.substring(v+d.commentStart.length,m)+h.substr(m+d.commentEnd.length)),u.replaceRange(h,s,c)}})}),t.defineExtension("autoIndentRange",function(i,s){var c=this;this.operation(function(){for(var u=i.line;u<=s.line;u++)c.indentLine(u,"smart")})}),t.defineExtension("autoFormatRange",function(i,s){var c=this,u=c.getMode(),d=c.getRange(i,s).split(`
`),h=t.copyState(u,c.getTokenAt(i).state),v=c.getOption("tabSize"),m="",_=0,w=i.ch===0;function x(){m+=`
`,w=!0,++_}for(var E=0;E<d.length;++E){for(var F=new t.StringStream(d[E],v);!F.eol();){var U=t.innerMode(u,h),R=u.token(F,h),W=F.current();F.start=F.pos,(!w||/\S/.test(W))&&(m+=W,w=!1),!w&&U.mode.newlineAfterToken&&U.mode.newlineAfterToken(R,W,F.string.slice(F.pos)||d[E+1]||"",U.state)&&x()}!F.pos&&u.blankLine&&u.blankLine(h),!w&&E<d.length-1&&x()}c.operation(function(){c.replaceRange(m,i,s);for(var de=i.line+1,Ae=i.line+_;de<=Ae;++de)c.indentLine(de,"smart");c.setSelection(i,c.getCursor(!1))})})})},237:function(o){(function(r,e){o.exports=e()})(this,function(){"use strict";var r=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),s=/Edge\/(\d+)/.exec(r),c=n||i||s,u=c&&(n?document.documentMode||6:+(s||i)[1]),d=!s&&/WebKit\//.test(r),h=d&&/Qt\/\d+\.\d+/.test(r),v=!s&&/Chrome\//.test(r),m=/Opera\//.test(r),_=/Apple Computer/.test(navigator.vendor),w=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),x=/PhantomJS/.test(r),E=_&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),F=/Android/.test(r),U=E||F||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),R=E||/Mac/.test(e),W=/\bCrOS\b/.test(r),de=/win/i.test(e),Ae=m&&r.match(/Version\/(\d*\.\d*)/);Ae&&(Ae=Number(Ae[1])),Ae&&Ae>=15&&(m=!1,d=!0);var Te=R&&(h||m&&(Ae==null||Ae<12.11)),pe=t||c&&u>=9;function K(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var he=function(a,l){var p=a.className,f=K(l).exec(p);if(f){var g=p.slice(f.index+f[0].length);a.className=p.slice(0,f.index)+(g?f[1]+g:"")}};function B(a){for(var l=a.childNodes.length;l>0;--l)a.removeChild(a.firstChild);return a}function L(a,l){return B(a).appendChild(l)}function z(a,l,p,f){var g=document.createElement(a);if(p&&(g.className=p),f&&(g.style.cssText=f),typeof l=="string")g.appendChild(document.createTextNode(l));else if(l)for(var y=0;y<l.length;++y)g.appendChild(l[y]);return g}function j(a,l,p,f){var g=z(a,l,p,f);return g.setAttribute("role","presentation"),g}var oe;document.createRange?oe=function(a,l,p,f){var g=document.createRange();return g.setEnd(f||a,p),g.setStart(a,l),g}:oe=function(a,l,p){var f=document.body.createTextRange();try{f.moveToElementText(a.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",p),f.moveStart("character",l),f};function D(a,l){if(l.nodeType==3&&(l=l.parentNode),a.contains)return a.contains(l);do if(l.nodeType==11&&(l=l.host),l==a)return!0;while(l=l.parentNode)}function be(){var a;try{a=document.activeElement}catch{a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function we(a,l){var p=a.className;K(l).test(p)||(a.className+=(p?" ":"")+l)}function Re(a,l){for(var p=a.split(" "),f=0;f<p.length;f++)p[f]&&!K(p[f]).test(l)&&(l+=" "+p[f]);return l}var at=function(a){a.select()};E?at=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:c&&(at=function(a){try{a.select()}catch{}});function ct(a){var l=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,l)}}function Ot(a,l,p){l||(l={});for(var f in a)a.hasOwnProperty(f)&&(p!==!1||!l.hasOwnProperty(f))&&(l[f]=a[f]);return l}function xe(a,l,p,f,g){l==null&&(l=a.search(/[^\s\u00a0]/),l==-1&&(l=a.length));for(var y=f||0,b=g||0;;){var C=a.indexOf("	",y);if(C<0||C>=l)return b+(l-y);b+=C-y,b+=p-b%p,y=C+1}}var Ee=function(){this.id=null,this.f=null,this.time=0,this.handler=ct(this.onTimeout,this)};Ee.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Ee.prototype.set=function(a,l){this.f=l;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function ze(a,l){for(var p=0;p<a.length;++p)if(a[p]==l)return p;return-1}var se=50,Se={toString:function(){return"CodeMirror.Pass"}},Me={scroll:!1},Ke={origin:"*mouse"},Ze={origin:"+move"};function We(a,l,p){for(var f=0,g=0;;){var y=a.indexOf("	",f);y==-1&&(y=a.length);var b=y-f;if(y==a.length||g+b>=l)return f+Math.min(b,l-g);if(g+=y-f,g+=p-g%p,f=y+1,g>=l)return f}}var ut=[""];function zt(a){for(;ut.length<=a;)ut.push(xt(ut)+" ");return ut[a]}function xt(a){return a[a.length-1]}function pn(a,l){for(var p=[],f=0;f<a.length;f++)p[f]=l(a[f],f);return p}function tn(a,l,p){for(var f=0,g=p(l);f<a.length&&p(a[f])<=g;)f++;a.splice(f,0,l)}function Tt(){}function T(a,l){var p;return Object.create?p=Object.create(a):(Tt.prototype=a,p=new Tt),l&&Ot(l,p),p}var N=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Z(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||N.test(a))}function ue(a,l){return l?l.source.indexOf("\\w")>-1&&Z(a)?!0:l.test(a):Z(a)}function Ce(a){for(var l in a)if(a.hasOwnProperty(l)&&a[l])return!1;return!0}var G=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ve(a){return a.charCodeAt(0)>=768&&G.test(a)}function ce(a,l,p){for(;(p<0?l>0:l<a.length)&&ve(a.charAt(l));)l+=p;return l}function gt(a,l,p){for(var f=l>p?-1:1;;){if(l==p)return l;var g=(l+p)/2,y=f<0?Math.ceil(g):Math.floor(g);if(y==l)return a(y)?l:p;a(y)?p=y:l=y+f}}function kt(a,l,p,f){if(!a)return f(l,p,"ltr",0);for(var g=!1,y=0;y<a.length;++y){var b=a[y];(b.from<p&&b.to>l||l==p&&b.to==l)&&(f(Math.max(b.from,l),Math.min(b.to,p),b.level==1?"rtl":"ltr",y),g=!0)}g||f(l,p,"ltr")}var Et=null;function H(a,l,p){var f;Et=null;for(var g=0;g<a.length;++g){var y=a[g];if(y.from<l&&y.to>l)return g;y.to==l&&(y.from!=y.to&&p=="before"?f=g:Et=g),y.from==l&&(y.from!=y.to&&p!="before"?f=g:Et=g)}return f??Et}var re=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(O){return O<=247?a.charAt(O):1424<=O&&O<=1524?"R":1536<=O&&O<=1785?l.charAt(O-1536):1774<=O&&O<=2220?"r":8192<=O&&O<=8203?"w":O==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,y=/[LRr]/,b=/[Lb1n]/,C=/[1n]/;function A(O,Y,Q){this.level=O,this.from=Y,this.to=Q}return function(O,Y){var Q=Y=="ltr"?"L":"R";if(O.length==0||Y=="ltr"&&!f.test(O))return!1;for(var me=O.length,le=[],Oe=0;Oe<me;++Oe)le.push(p(O.charCodeAt(Oe)));for(var Ve=0,Ge=Q;Ve<me;++Ve){var rt=le[Ve];rt=="m"?le[Ve]=Ge:Ge=rt}for(var ft=0,it=Q;ft<me;++ft){var ht=le[ft];ht=="1"&&it=="r"?le[ft]="n":y.test(ht)&&(it=ht,ht=="r"&&(le[ft]="R"))}for(var At=1,bt=le[0];At<me-1;++At){var Ht=le[At];Ht=="+"&&bt=="1"&&le[At+1]=="1"?le[At]="1":Ht==","&&bt==le[At+1]&&(bt=="1"||bt=="n")&&(le[At]=bt),bt=Ht}for(var ln=0;ln<me;++ln){var Jn=le[ln];if(Jn==",")le[ln]="N";else if(Jn=="%"){var wn=void 0;for(wn=ln+1;wn<me&&le[wn]=="%";++wn);for(var ri=ln&&le[ln-1]=="!"||wn<me&&le[wn]=="1"?"1":"N",Fr=ln;Fr<wn;++Fr)le[Fr]=ri;ln=wn-1}}for(var Fn=0,Nr=Q;Fn<me;++Fn){var or=le[Fn];Nr=="L"&&or=="1"?le[Fn]="L":y.test(or)&&(Nr=or)}for(var Zn=0;Zn<me;++Zn)if(g.test(le[Zn])){var Nn=void 0;for(Nn=Zn+1;Nn<me&&g.test(le[Nn]);++Nn);for(var On=(Zn?le[Zn-1]:Q)=="L",Hr=(Nn<me?le[Nn]:Q)=="L",gs=On==Hr?On?"L":"R":Q,Jo=Zn;Jo<Nn;++Jo)le[Jo]=gs;Zn=Nn-1}for(var ur=[],co,er=0;er<me;)if(b.test(le[er])){var Jf=er;for(++er;er<me&&b.test(le[er]);++er);ur.push(new A(0,Jf,er))}else{var So=er,Sa=ur.length,Ea=Y=="rtl"?1:0;for(++er;er<me&&le[er]!="L";++er);for(var mr=So;mr<er;)if(C.test(le[mr])){So<mr&&(ur.splice(Sa,0,new A(1,So,mr)),Sa+=Ea);var vs=mr;for(++mr;mr<er&&C.test(le[mr]);++mr);ur.splice(Sa,0,new A(2,vs,mr)),Sa+=Ea,So=mr}else++mr;So<er&&ur.splice(Sa,0,new A(1,So,er))}return Y=="ltr"&&(ur[0].level==1&&(co=O.match(/^\s+/))&&(ur[0].from=co[0].length,ur.unshift(new A(0,0,co[0].length))),xt(ur).level==1&&(co=O.match(/\s+$/))&&(xt(ur).to-=co[0].length,ur.push(new A(0,me-co[0].length,me)))),Y=="rtl"?ur.reverse():ur}}();function k(a,l){var p=a.order;return p==null&&(p=a.order=re(a.text,l)),p}var ke=[],_e=function(a,l,p){if(a.addEventListener)a.addEventListener(l,p,!1);else if(a.attachEvent)a.attachEvent("on"+l,p);else{var f=a._handlers||(a._handlers={});f[l]=(f[l]||ke).concat(p)}};function Be(a,l){return a._handlers&&a._handlers[l]||ke}function lt(a,l,p){if(a.removeEventListener)a.removeEventListener(l,p,!1);else if(a.detachEvent)a.detachEvent("on"+l,p);else{var f=a._handlers,g=f&&f[l];if(g){var y=ze(g,p);y>-1&&(f[l]=g.slice(0,y).concat(g.slice(y+1)))}}}function st(a,l){var p=Be(a,l);if(p.length)for(var f=Array.prototype.slice.call(arguments,2),g=0;g<p.length;++g)p[g].apply(null,f)}function Je(a,l,p){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),st(a,p||l.type,a,l),jn(l)||l.codemirrorIgnore}function vt(a){var l=a._handlers&&a._handlers.cursorActivity;if(l)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),f=0;f<l.length;++f)ze(p,l[f])==-1&&p.push(l[f])}function Nt(a,l){return Be(a,l).length>0}function Ut(a){a.prototype.on=function(l,p){_e(this,l,p)},a.prototype.off=function(l,p){lt(this,l,p)}}function Bt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function _n(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function jn(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function V(a){Bt(a),_n(a)}function J(a){return a.target||a.srcElement}function fe(a){var l=a.which;return l==null&&(a.button&1?l=1:a.button&2?l=3:a.button&4&&(l=2)),R&&a.ctrlKey&&l==1&&(l=3),l}var Ie=function(){if(c&&u<9)return!1;var a=z("div");return"draggable"in a||"dragDrop"in a}(),nt;function mt(a){if(nt==null){var l=z("span","\u200B");L(a,z("span",[l,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(nt=l.offsetWidth<=1&&l.offsetHeight>2&&!(c&&u<8))}var p=nt?z("span","\u200B"):z("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var Mt;function Ln(a){if(Mt!=null)return Mt;var l=L(a,document.createTextNode("A\u062EA")),p=oe(l,0,1).getBoundingClientRect(),f=oe(l,1,2).getBoundingClientRect();return B(a),!p||p.left==p.right?!1:Mt=f.right-p.right<3}var an=`

b`.split(/\n/).length!=3?function(a){for(var l=0,p=[],f=a.length;l<=f;){var g=a.indexOf(`
`,l);g==-1&&(g=a.length);var y=a.slice(l,a.charAt(g-1)=="\r"?g-1:g),b=y.indexOf("\r");b!=-1?(p.push(y.slice(0,b)),l+=b+1):(p.push(y),l=g+1)}return p}:function(a){return a.split(/\r\n?|\n/)},hn=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var l;try{l=a.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=a?!1:l.compareEndPoints("StartToEnd",l)!=0},qr=function(){var a=z("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),zn=null;function gn(a){if(zn!=null)return zn;var l=L(a,z("span","x")),p=l.getBoundingClientRect(),f=oe(l,0,1).getBoundingClientRect();return zn=Math.abs(p.left-f.left)>1}var yi={},sn={};function vn(a,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),yi[a]=l}function bn(a,l){sn[a]=l}function $r(a){if(typeof a=="string"&&sn.hasOwnProperty(a))a=sn[a];else if(a&&typeof a.name=="string"&&sn.hasOwnProperty(a.name)){var l=sn[a.name];typeof l=="string"&&(l={name:l}),a=T(l,a),a.name=l.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return $r("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return $r("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function Zt(a,l){l=$r(l);var p=yi[l.name];if(!p)return Zt(a,"text/plain");var f=p(a,l);if(hr.hasOwnProperty(l.name)){var g=hr[l.name];for(var y in g)g.hasOwnProperty(y)&&(f.hasOwnProperty(y)&&(f["_"+y]=f[y]),f[y]=g[y])}if(f.name=l.name,l.helperType&&(f.helperType=l.helperType),l.modeProps)for(var b in l.modeProps)f[b]=l.modeProps[b];return f}var hr={};function Dt(a,l){var p=hr.hasOwnProperty(a)?hr[a]:hr[a]={};Ot(l,p)}function rr(a,l){if(l===!0)return l;if(a.copyState)return a.copyState(l);var p={};for(var f in l){var g=l[f];g instanceof Array&&(g=g.concat([])),p[f]=g}return p}function Pn(a,l){for(var p;a.innerMode&&(p=a.innerMode(l),!(!p||p.mode==a));)l=p.state,a=p.mode;return p||{mode:a,state:l}}function gr(a,l,p){return a.startState?a.startState(l,p):!0}var Qt=function(a,l,p){this.pos=this.start=0,this.string=a,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Qt.prototype.eol=function(){return this.pos>=this.string.length},Qt.prototype.sol=function(){return this.pos==this.lineStart},Qt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Qt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Qt.prototype.eat=function(a){var l=this.string.charAt(this.pos),p;if(typeof a=="string"?p=l==a:p=l&&(a.test?a.test(l):a(l)),p)return++this.pos,l},Qt.prototype.eatWhile=function(a){for(var l=this.pos;this.eat(a););return this.pos>l},Qt.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Qt.prototype.skipToEnd=function(){this.pos=this.string.length},Qt.prototype.skipTo=function(a){var l=this.string.indexOf(a,this.pos);if(l>-1)return this.pos=l,!0},Qt.prototype.backUp=function(a){this.pos-=a},Qt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=xe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?xe(this.string,this.lineStart,this.tabSize):0)},Qt.prototype.indentation=function(){return xe(this.string,null,this.tabSize)-(this.lineStart?xe(this.string,this.lineStart,this.tabSize):0)},Qt.prototype.match=function(a,l,p){if(typeof a=="string"){var f=function(b){return p?b.toLowerCase():b},g=this.string.substr(this.pos,a.length);if(f(g)==f(a))return l!==!1&&(this.pos+=a.length),!0}else{var y=this.string.slice(this.pos).match(a);return y&&y.index>0?null:(y&&l!==!1&&(this.pos+=y[0].length),y)}},Qt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Qt.prototype.hideFirstChars=function(a,l){this.lineStart+=a;try{return l()}finally{this.lineStart-=a}},Qt.prototype.lookAhead=function(a){var l=this.lineOracle;return l&&l.lookAhead(a)},Qt.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function dt(a,l){if(l-=a.first,l<0||l>=a.size)throw new Error("There is no line "+(l+a.first)+" in the document.");for(var p=a;!p.lines;)for(var f=0;;++f){var g=p.children[f],y=g.chunkSize();if(l<y){p=g;break}l-=y}return p.lines[l]}function Un(a,l,p){var f=[],g=l.line;return a.iter(l.line,p.line+1,function(y){var b=y.text;g==p.line&&(b=b.slice(0,p.ch)),g==l.line&&(b=b.slice(l.ch)),f.push(b),++g}),f}function ar(a,l,p){var f=[];return a.iter(l,p,function(g){f.push(g.text)}),f}function Vn(a,l){var p=l-a.height;if(p)for(var f=a;f;f=f.parent)f.height+=p}function It(a){if(a.parent==null)return null;for(var l=a.parent,p=ze(l.lines,a),f=l.parent;f;l=f,f=f.parent)for(var g=0;f.children[g]!=l;++g)p+=f.children[g].chunkSize();return p+l.first}function on(a,l){var p=a.first;e:do{for(var f=0;f<a.children.length;++f){var g=a.children[f],y=g.height;if(l<y){a=g;continue e}l-=y,p+=g.chunkSize()}return p}while(!a.lines);for(var b=0;b<a.lines.length;++b){var C=a.lines[b],A=C.height;if(l<A)break;l-=A}return p+b}function _i(a,l){return l>=a.first&&l<a.first+a.size}function bi(a,l){return String(a.lineNumberFormatter(l+a.firstLineNumber))}function Fe(a,l,p){if(p===void 0&&(p=null),!(this instanceof Fe))return new Fe(a,l,p);this.line=a,this.ch=l,this.sticky=p}function St(a,l){return a.line-l.line||a.ch-l.ch}function Ir(a,l){return a.sticky==l.sticky&&St(a,l)==0}function P(a){return Fe(a.line,a.ch)}function $(a,l){return St(a,l)<0?l:a}function De(a,l){return St(a,l)<0?a:l}function je(a,l){return Math.max(a.first,Math.min(l,a.first+a.size-1))}function Ue(a,l){if(l.line<a.first)return Fe(a.first,0);var p=a.first+a.size-1;return l.line>p?Fe(p,dt(a,p).text.length):Ft(l,dt(a,l.line).text.length)}function Ft(a,l){var p=a.ch;return p==null||p>l?Fe(a.line,l):p<0?Fe(a.line,0):a}function jt(a,l){for(var p=[],f=0;f<l.length;f++)p[f]=Ue(a,l[f]);return p}var Jt=function(a,l){this.state=a,this.lookAhead=l},nn=function(a,l,p,f){this.state=l,this.doc=a,this.line=p,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};nn.prototype.lookAhead=function(a){var l=this.doc.getLine(this.line+a);return l!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),l},nn.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},nn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},nn.fromSaved=function(a,l,p){return l instanceof Jt?new nn(a,rr(a.mode,l.state),p,l.lookAhead):new nn(a,rr(a.mode,l),p)},nn.prototype.save=function(a){var l=a!==!1?rr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Jt(l,this.maxLookAhead):l};function Po(a,l,p,f){var g=[a.state.modeGen],y={};mo(a,l.text,a.doc.mode,p,function(O,Y){return g.push(O,Y)},y,f);for(var b=p.state,C=function(O){p.baseTokens=g;var Y=a.state.overlays[O],Q=1,me=0;p.state=!0,mo(a,l.text,Y.mode,p,function(le,Oe){for(var Ve=Q;me<le;){var Ge=g[Q];Ge>le&&g.splice(Q,1,le,g[Q+1],Ge),Q+=2,me=Math.min(le,Ge)}if(Oe)if(Y.opaque)g.splice(Ve,Q-Ve,le,"overlay "+Oe),Q=Ve+2;else for(;Ve<Q;Ve+=2){var rt=g[Ve+1];g[Ve+1]=(rt?rt+" ":"")+"overlay "+Oe}},y),p.state=b,p.baseTokens=null,p.baseTokenPos=1},A=0;A<a.state.overlays.length;++A)C(A);return{styles:g,classes:y.bgClass||y.textClass?y:null}}function wi(a,l,p){if(!l.styles||l.styles[0]!=a.state.modeGen){var f=Lr(a,It(l)),g=l.text.length>a.options.maxHighlightLength&&rr(a.doc.mode,f.state),y=Po(a,l,f);g&&(f.state=g),l.stateAfter=f.save(!g),l.styles=y.styles,y.classes?l.styleClasses=y.classes:l.styleClasses&&(l.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return l.styles}function Lr(a,l,p){var f=a.doc,g=a.display;if(!f.mode.startState)return new nn(f,!0,l);var y=$i(a,l,p),b=y>f.first&&dt(f,y-1).stateAfter,C=b?nn.fromSaved(f,b,y):new nn(f,gr(f.mode),y);return f.iter(y,l,function(A){so(a,A.text,C);var O=C.line;A.stateAfter=O==l-1||O%5==0||O>=g.viewFrom&&O<g.viewTo?C.save():null,C.nextLine()}),p&&(f.modeFrontier=C.line),C}function so(a,l,p,f){var g=a.doc.mode,y=new Qt(l,a.options.tabSize,p);for(y.start=y.pos=f||0,l==""&&fa(g,p.state);!y.eol();)Io(g,y,p.state),y.start=y.pos}function fa(a,l){if(a.blankLine)return a.blankLine(l);if(a.innerMode){var p=Pn(a,l);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function Io(a,l,p,f){for(var g=0;g<10;g++){f&&(f[0]=Pn(a,p).mode);var y=a.token(l,p);if(l.pos>l.start)return y}throw new Error("Mode "+a.name+" failed to advance stream.")}var vo=function(a,l,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=l||null,this.state=p};function pa(a,l,p,f){var g=a.doc,y=g.mode,b;l=Ue(g,l);var C=dt(g,l.line),A=Lr(a,l.line,p),O=new Qt(C.text,a.options.tabSize,A),Y;for(f&&(Y=[]);(f||O.pos<l.ch)&&!O.eol();)O.start=O.pos,b=Io(y,O,A.state),f&&Y.push(new vo(O,b,rr(g.mode,A.state)));return f?Y:new vo(O,b,A.state)}function Lo(a,l){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var f=p[1]?"bgClass":"textClass";l[f]==null?l[f]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(l[f])||(l[f]+=" "+p[2])}return a}function mo(a,l,p,f,g,y,b){var C=p.flattenSpans;C==null&&(C=a.options.flattenSpans);var A=0,O=null,Y=new Qt(l,a.options.tabSize,f),Q,me=a.options.addModeClass&&[null];for(l==""&&Lo(fa(p,f.state),y);!Y.eol();){if(Y.pos>a.options.maxHighlightLength?(C=!1,b&&so(a,l,f,Y.pos),Y.pos=l.length,Q=null):Q=Lo(Io(p,Y,f.state,me),y),me){var le=me[0].name;le&&(Q="m-"+(Q?le+" "+Q:le))}if(!C||O!=Q){for(;A<Y.start;)A=Math.min(Y.start,A+5e3),g(A,O);O=Q}Y.start=Y.pos}for(;A<Y.pos;){var Oe=Math.min(Y.pos,A+5e3);g(Oe,O),A=Oe}}function $i(a,l,p){for(var f,g,y=a.doc,b=p?-1:l-(a.doc.mode.innerMode?1e3:100),C=l;C>b;--C){if(C<=y.first)return y.first;var A=dt(y,C-1),O=A.stateAfter;if(O&&(!p||C+(O instanceof Jt?O.lookAhead:0)<=y.modeFrontier))return C;var Y=xe(A.text,null,a.options.tabSize);(g==null||f>Y)&&(g=C-1,f=Y)}return g}function yo(a,l){if(a.modeFrontier=Math.min(a.modeFrontier,l),!(a.highlightFrontier<l-10)){for(var p=a.first,f=l-1;f>p;f--){var g=dt(a,f).stateAfter;if(g&&(!(g instanceof Jt)||f+g.lookAhead<l)){p=f+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var Rn=!1,Wn=!1;function Vo(){Rn=!0}function ha(){Wn=!0}function Qi(a,l,p){this.marker=a,this.from=l,this.to=p}function sr(a,l){if(a)for(var p=0;p<a.length;++p){var f=a[p];if(f.marker==l)return f}}function ga(a,l){for(var p,f=0;f<a.length;++f)a[f]!=l&&(p||(p=[])).push(a[f]);return p}function Vi(a,l,p){var f=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));f&&f.has(a.markedSpans)?a.markedSpans.push(l):(a.markedSpans=a.markedSpans?a.markedSpans.concat([l]):[l],f&&f.add(a.markedSpans)),l.marker.attachLine(a)}function Gn(a,l,p){var f;if(a)for(var g=0;g<a.length;++g){var y=a[g],b=y.marker,C=y.from==null||(b.inclusiveLeft?y.from<=l:y.from<l);if(C||y.from==l&&b.type=="bookmark"&&(!p||!y.marker.insertLeft)){var A=y.to==null||(b.inclusiveRight?y.to>=l:y.to>l);(f||(f=[])).push(new Qi(b,y.from,A?null:y.to))}}return f}function Ro(a,l,p){var f;if(a)for(var g=0;g<a.length;++g){var y=a[g],b=y.marker,C=y.to==null||(b.inclusiveRight?y.to>=l:y.to>l);if(C||y.from==l&&b.type=="bookmark"&&(!p||y.marker.insertLeft)){var A=y.from==null||(b.inclusiveLeft?y.from<=l:y.from<l);(f||(f=[])).push(new Qi(b,A?null:y.from-l,y.to==null?null:y.to-l))}}return f}function Ci(a,l){if(l.full)return null;var p=_i(a,l.from.line)&&dt(a,l.from.line).markedSpans,f=_i(a,l.to.line)&&dt(a,l.to.line).markedSpans;if(!p&&!f)return null;var g=l.from.ch,y=l.to.ch,b=St(l.from,l.to)==0,C=Gn(p,g,b),A=Ro(f,y,b),O=l.text.length==1,Y=xt(l.text).length+(O?g:0);if(C)for(var Q=0;Q<C.length;++Q){var me=C[Q];if(me.to==null){var le=sr(A,me.marker);le?O&&(me.to=le.to==null?null:le.to+Y):me.to=g}}if(A)for(var Oe=0;Oe<A.length;++Oe){var Ve=A[Oe];if(Ve.to!=null&&(Ve.to+=Y),Ve.from==null){var Ge=sr(C,Ve.marker);Ge||(Ve.from=Y,O&&(C||(C=[])).push(Ve))}else Ve.from+=Y,O&&(C||(C=[])).push(Ve)}C&&(C=Ri(C)),A&&A!=C&&(A=Ri(A));var rt=[C];if(!O){var ft=l.text.length-2,it;if(ft>0&&C)for(var ht=0;ht<C.length;++ht)C[ht].to==null&&(it||(it=[])).push(new Qi(C[ht].marker,null,null));for(var At=0;At<ft;++At)rt.push(it);rt.push(A)}return rt}function Ri(a){for(var l=0;l<a.length;++l){var p=a[l];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(l--,1)}return a.length?a:null}function Fo(a,l,p){var f=null;if(a.iter(l.line,p.line+1,function(le){if(le.markedSpans)for(var Oe=0;Oe<le.markedSpans.length;++Oe){var Ve=le.markedSpans[Oe].marker;Ve.readOnly&&(!f||ze(f,Ve)==-1)&&(f||(f=[])).push(Ve)}}),!f)return null;for(var g=[{from:l,to:p}],y=0;y<f.length;++y)for(var b=f[y],C=b.find(0),A=0;A<g.length;++A){var O=g[A];if(!(St(O.to,C.from)<0||St(O.from,C.to)>0)){var Y=[A,1],Q=St(O.from,C.from),me=St(O.to,C.to);(Q<0||!b.inclusiveLeft&&!Q)&&Y.push({from:O.from,to:C.from}),(me>0||!b.inclusiveRight&&!me)&&Y.push({from:C.to,to:O.to}),g.splice.apply(g,Y),A+=Y.length-3}}return g}function xi(a){var l=a.markedSpans;if(l){for(var p=0;p<l.length;++p)l[p].marker.detachLine(a);a.markedSpans=null}}function Qr(a,l){if(l){for(var p=0;p<l.length;++p)l[p].marker.attachLine(a);a.markedSpans=l}}function _o(a){return a.inclusiveLeft?-1:0}function Xi(a){return a.inclusiveRight?1:0}function bo(a,l){var p=a.lines.length-l.lines.length;if(p!=0)return p;var f=a.find(),g=l.find(),y=St(f.from,g.from)||_o(a)-_o(l);if(y)return-y;var b=St(f.to,g.to)||Xi(a)-Xi(l);return b||l.id-a.id}function wo(a,l){var p=Wn&&a.markedSpans,f;if(p)for(var g=void 0,y=0;y<p.length;++y)g=p[y],g.marker.collapsed&&(l?g.from:g.to)==null&&(!f||bo(f,g.marker)<0)&&(f=g.marker);return f}function va(a){return wo(a,!0)}function Ai(a){return wo(a,!1)}function _t(a,l){var p=Wn&&a.markedSpans,f;if(p)for(var g=0;g<p.length;++g){var y=p[g];y.marker.collapsed&&(y.from==null||y.from<l)&&(y.to==null||y.to>l)&&(!f||bo(f,y.marker)<0)&&(f=y.marker)}return f}function yt(a,l,p,f,g){var y=dt(a,l),b=Wn&&y.markedSpans;if(b)for(var C=0;C<b.length;++C){var A=b[C];if(A.marker.collapsed){var O=A.marker.find(0),Y=St(O.from,p)||_o(A.marker)-_o(g),Q=St(O.to,f)||Xi(A.marker)-Xi(g);if(!(Y>=0&&Q<=0||Y<=0&&Q>=0)&&(Y<=0&&(A.marker.inclusiveRight&&g.inclusiveLeft?St(O.to,p)>=0:St(O.to,p)>0)||Y>=0&&(A.marker.inclusiveRight&&g.inclusiveLeft?St(O.from,f)<=0:St(O.from,f)<0)))return!0}}}function Vt(a){for(var l;l=va(a);)a=l.find(-1,!0).line;return a}function wt(a){for(var l;l=Ai(a);)a=l.find(1,!0).line;return a}function En(a){for(var l,p;l=Ai(a);)a=l.find(1,!0).line,(p||(p=[])).push(a);return p}function Xr(a,l){var p=dt(a,l),f=Vt(p);return p==f?l:It(f)}function Jr(a,l){if(l>a.lastLine())return l;var p=dt(a,l),f;if(!qn(a,p))return l;for(;f=Ai(p);)p=f.find(1,!0).line;return It(p)+1}function qn(a,l){var p=Wn&&l.markedSpans;if(p){for(var f=void 0,g=0;g<p.length;++g)if(f=p[g],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&ir(a,l,f))return!0}}}function ir(a,l,p){if(p.to==null){var f=p.marker.find(1,!0);return ir(a,f.line,sr(f.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==l.text.length)return!0;for(var g=void 0,y=0;y<l.markedSpans.length;++y)if(g=l.markedSpans[y],g.marker.collapsed&&!g.marker.widgetNode&&g.from==p.to&&(g.to==null||g.to!=p.from)&&(g.marker.inclusiveLeft||p.marker.inclusiveRight)&&ir(a,l,g))return!0}function ei(a){a=Vt(a);for(var l=0,p=a.parent,f=0;f<p.lines.length;++f){var g=p.lines[f];if(g==a)break;l+=g.height}for(var y=p.parent;y;p=y,y=p.parent)for(var b=0;b<y.children.length;++b){var C=y.children[b];if(C==p)break;l+=C.height}return l}function Ji(a){if(a.height==0)return 0;for(var l=a.text.length,p,f=a;p=va(f);){var g=p.find(0,!0);f=g.from.line,l+=g.from.ch-g.to.ch}for(f=a;p=Ai(f);){var y=p.find(0,!0);l-=f.text.length-y.from.ch,f=y.to.line,l+=f.text.length-y.to.ch}return l}function No(a){var l=a.display,p=a.doc;l.maxLine=dt(p,p.first),l.maxLineLength=Ji(l.maxLine),l.maxLineChanged=!0,p.iter(function(f){var g=Ji(f);g>l.maxLineLength&&(l.maxLineLength=g,l.maxLine=f)})}var $n=function(a,l,p){this.text=a,Qr(this,l),this.height=p?p(this):1};$n.prototype.lineNo=function(){return It(this)},Ut($n);function kc(a,l,p,f){a.text=l,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),xi(a),Qr(a,p);var g=f?f(a):1;g!=a.height&&Vn(a,g)}function $a(a){a.parent=null,xi(a)}var Pc={},sl={};function ll(a,l){if(!a||/^\s*$/.test(a))return null;var p=l.addModeClass?sl:Pc;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function Qa(a,l){var p=j("span",null,null,d?"padding-right: .1px":null),f={pre:j("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};l.measure={};for(var g=0;g<=(l.rest?l.rest.length:0);g++){var y=g?l.rest[g-1]:l.line,b=void 0;f.pos=0,f.addToken=Lc,Ln(a.display.measure)&&(b=k(y,a.doc.direction))&&(f.addToken=Vc(f.addToken,b)),f.map=[];var C=l!=a.display.externalMeasured&&It(y);Rc(y,f,wi(a,y,C)),y.styleClasses&&(y.styleClasses.bgClass&&(f.bgClass=Re(y.styleClasses.bgClass,f.bgClass||"")),y.styleClasses.textClass&&(f.textClass=Re(y.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(mt(a.display.measure))),g==0?(l.measure.map=f.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(f.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(d){var A=f.content.lastChild;(/\bcm-tab\b/.test(A.className)||A.querySelector&&A.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return st(a,"renderLine",a,l.line,f.pre),f.pre.className&&(f.textClass=Re(f.pre.className,f.textClass||"")),f}function Ic(a){var l=z("span","\u2022","cm-invalidchar");return l.title="\\u"+a.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Lc(a,l,p,f,g,y,b){if(l){var C=a.splitSpaces?Xa(l,a.trailingSpace):l,A=a.cm.state.specialChars,O=!1,Y;if(!A.test(l))a.col+=l.length,Y=document.createTextNode(C),a.map.push(a.pos,a.pos+l.length,Y),c&&u<9&&(O=!0),a.pos+=l.length;else{Y=document.createDocumentFragment();for(var Q=0;;){A.lastIndex=Q;var me=A.exec(l),le=me?me.index-Q:l.length-Q;if(le){var Oe=document.createTextNode(C.slice(Q,Q+le));c&&u<9?Y.appendChild(z("span",[Oe])):Y.appendChild(Oe),a.map.push(a.pos,a.pos+le,Oe),a.col+=le,a.pos+=le}if(!me)break;Q+=le+1;var Ve=void 0;if(me[0]=="	"){var Ge=a.cm.options.tabSize,rt=Ge-a.col%Ge;Ve=Y.appendChild(z("span",zt(rt),"cm-tab")),Ve.setAttribute("role","presentation"),Ve.setAttribute("cm-text","	"),a.col+=rt}else me[0]=="\r"||me[0]==`
`?(Ve=Y.appendChild(z("span",me[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Ve.setAttribute("cm-text",me[0]),a.col+=1):(Ve=a.cm.options.specialCharPlaceholder(me[0]),Ve.setAttribute("cm-text",me[0]),c&&u<9?Y.appendChild(z("span",[Ve])):Y.appendChild(Ve),a.col+=1);a.map.push(a.pos,a.pos+1,Ve),a.pos++}}if(a.trailingSpace=C.charCodeAt(l.length-1)==32,p||f||g||O||y||b){var ft=p||"";f&&(ft+=f),g&&(ft+=g);var it=z("span",[Y],ft,y);if(b)for(var ht in b)b.hasOwnProperty(ht)&&ht!="style"&&ht!="class"&&it.setAttribute(ht,b[ht]);return a.content.appendChild(it)}a.content.appendChild(Y)}}function Xa(a,l){if(a.length>1&&!/  /.test(a))return a;for(var p=l,f="",g=0;g<a.length;g++){var y=a.charAt(g);y==" "&&p&&(g==a.length-1||a.charCodeAt(g+1)==32)&&(y="\xA0"),f+=y,p=y==" "}return f}function Vc(a,l){return function(p,f,g,y,b,C,A){g=g?g+" cm-force-border":"cm-force-border";for(var O=p.pos,Y=O+f.length;;){for(var Q=void 0,me=0;me<l.length&&(Q=l[me],!(Q.to>O&&Q.from<=O));me++);if(Q.to>=Y)return a(p,f,g,y,b,C,A);a(p,f.slice(0,Q.to-O),g,y,null,C,A),y=null,f=f.slice(Q.to-O),O=Q.to}}}function cl(a,l,p,f){var g=!f&&p.widgetNode;g&&a.map.push(a.pos,a.pos+l,g),!f&&a.cm.display.input.needsContentAttribute&&(g||(g=a.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",p.id)),g&&(a.cm.display.input.setUneditable(g),a.content.appendChild(g)),a.pos+=l,a.trailingSpace=!1}function Rc(a,l,p){var f=a.markedSpans,g=a.text,y=0;if(!f){for(var b=1;b<p.length;b+=2)l.addToken(l,g.slice(y,y=p[b]),ll(p[b+1],l.cm.options));return}for(var C=g.length,A=0,O=1,Y="",Q,me,le=0,Oe,Ve,Ge,rt,ft;;){if(le==A){Oe=Ve=Ge=me="",ft=null,rt=null,le=1/0;for(var it=[],ht=void 0,At=0;At<f.length;++At){var bt=f[At],Ht=bt.marker;if(Ht.type=="bookmark"&&bt.from==A&&Ht.widgetNode)it.push(Ht);else if(bt.from<=A&&(bt.to==null||bt.to>A||Ht.collapsed&&bt.to==A&&bt.from==A)){if(bt.to!=null&&bt.to!=A&&le>bt.to&&(le=bt.to,Ve=""),Ht.className&&(Oe+=" "+Ht.className),Ht.css&&(me=(me?me+";":"")+Ht.css),Ht.startStyle&&bt.from==A&&(Ge+=" "+Ht.startStyle),Ht.endStyle&&bt.to==le&&(ht||(ht=[])).push(Ht.endStyle,bt.to),Ht.title&&((ft||(ft={})).title=Ht.title),Ht.attributes)for(var ln in Ht.attributes)(ft||(ft={}))[ln]=Ht.attributes[ln];Ht.collapsed&&(!rt||bo(rt.marker,Ht)<0)&&(rt=bt)}else bt.from>A&&le>bt.from&&(le=bt.from)}if(ht)for(var Jn=0;Jn<ht.length;Jn+=2)ht[Jn+1]==le&&(Ve+=" "+ht[Jn]);if(!rt||rt.from==A)for(var wn=0;wn<it.length;++wn)cl(l,0,it[wn]);if(rt&&(rt.from||0)==A){if(cl(l,(rt.to==null?C+1:rt.to)-A,rt.marker,rt.from==null),rt.to==null)return;rt.to==A&&(rt=!1)}}if(A>=C)break;for(var ri=Math.min(C,le);;){if(Y){var Fr=A+Y.length;if(!rt){var Fn=Fr>ri?Y.slice(0,ri-A):Y;l.addToken(l,Fn,Q?Q+Oe:Oe,Ge,A+Fn.length==le?Ve:"",me,ft)}if(Fr>=ri){Y=Y.slice(ri-A),A=ri;break}A=Fr,Ge=""}Y=g.slice(y,y=p[O++]),Q=ll(p[O++],l.cm.options)}}}function ul(a,l,p){this.line=l,this.rest=En(l),this.size=this.rest?It(xt(this.rest))-p+1:1,this.node=this.text=null,this.hidden=qn(a,l)}function Ja(a,l,p){for(var f=[],g,y=l;y<p;y=g){var b=new ul(a.doc,dt(a.doc,y),y);g=y+b.size,f.push(b)}return f}var Co=null;function Fc(a){Co?Co.ops.push(a):a.ownsGroup=Co={ops:[a],delayedCallbacks:[]}}function bf(a){var l=a.delayedCallbacks,p=0;do{for(;p<l.length;p++)l[p].call(null);for(var f=0;f<a.ops.length;f++){var g=a.ops[f];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(p<l.length)}function dl(a,l){var p=a.ownsGroup;if(p)try{bf(p)}finally{Co=null,l(p)}}var Ho=null;function Tn(a,l){var p=Be(a,l);if(p.length){var f=Array.prototype.slice.call(arguments,2),g;Co?g=Co.delayedCallbacks:Ho?g=Ho:(g=Ho=[],setTimeout(Bo,0));for(var y=function(C){g.push(function(){return p[C].apply(null,f)})},b=0;b<p.length;++b)y(b)}}function Bo(){var a=Ho;Ho=null;for(var l=0;l<a.length;++l)a[l]()}function lo(a,l,p,f){for(var g=0;g<l.changes.length;g++){var y=l.changes[g];y=="text"?pl(a,l):y=="gutter"?zo(a,l,p,f):y=="class"?es(a,l):y=="widget"&&Hc(a,l,f)}l.changes=null}function jo(a){return a.node==a.text&&(a.node=z("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),c&&u<8&&(a.node.style.zIndex=2)),a.node}function Nc(a,l){var p=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),l.background)p?l.background.className=p:(l.background.parentNode.removeChild(l.background),l.background=null);else if(p){var f=jo(l);l.background=f.insertBefore(z("div",null,p),f.firstChild),a.display.input.setUneditable(l.background)}}function fl(a,l){var p=a.display.externalMeasured;return p&&p.line==l.line?(a.display.externalMeasured=null,l.measure=p.measure,p.built):Qa(a,l)}function pl(a,l){var p=l.text.className,f=fl(a,l);l.text==l.node&&(l.node=f.pre),l.text.parentNode.replaceChild(f.pre,l.text),l.text=f.pre,f.bgClass!=l.bgClass||f.textClass!=l.textClass?(l.bgClass=f.bgClass,l.textClass=f.textClass,es(a,l)):p&&(l.text.className=p)}function es(a,l){Nc(a,l),l.line.wrapClass?jo(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var p=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=p||""}function zo(a,l,p,f){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var g=jo(l);l.gutterBackground=z("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(a.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),a.display.input.setUneditable(l.gutterBackground),g.insertBefore(l.gutterBackground,l.text)}var y=l.line.gutterMarkers;if(a.options.lineNumbers||y){var b=jo(l),C=l.gutter=z("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(C.setAttribute("aria-hidden","true"),a.display.input.setUneditable(C),b.insertBefore(C,l.text),l.line.gutterClass&&(C.className+=" "+l.line.gutterClass),a.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(l.lineNumber=C.appendChild(z("div",bi(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),y)for(var A=0;A<a.display.gutterSpecs.length;++A){var O=a.display.gutterSpecs[A].className,Y=y.hasOwnProperty(O)&&y[O];Y&&C.appendChild(z("div",[Y],"CodeMirror-gutter-elt","left: "+f.gutterLeft[O]+"px; width: "+f.gutterWidth[O]+"px"))}}}function Hc(a,l,p){l.alignable&&(l.alignable=null);for(var f=K("CodeMirror-linewidget"),g=l.node.firstChild,y=void 0;g;g=y)y=g.nextSibling,f.test(g.className)&&l.node.removeChild(g);Uo(a,l,p)}function Bc(a,l,p,f){var g=fl(a,l);return l.text=l.node=g.pre,g.bgClass&&(l.bgClass=g.bgClass),g.textClass&&(l.textClass=g.textClass),es(a,l),zo(a,l,p,f),Uo(a,l,f),l.node}function Uo(a,l,p){if(hl(a,l.line,l,p,!0),l.rest)for(var f=0;f<l.rest.length;f++)hl(a,l.rest[f],l,p,!1)}function hl(a,l,p,f,g){if(l.widgets)for(var y=jo(p),b=0,C=l.widgets;b<C.length;++b){var A=C[b],O=z("div",[A.node],"CodeMirror-linewidget"+(A.className?" "+A.className:""));A.handleMouseEvents||O.setAttribute("cm-ignore-events","true"),jc(A,O,p,f),a.display.input.setUneditable(O),g&&A.above?y.insertBefore(O,p.gutter||p.text):y.appendChild(O),Tn(A,"redraw")}}function jc(a,l,p,f){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(l);var g=f.wrapperWidth;l.style.left=f.fixedPos+"px",a.coverGutter||(g-=f.gutterTotalWidth,l.style.paddingLeft=f.gutterTotalWidth+"px"),l.style.width=g+"px"}a.coverGutter&&(l.style.zIndex=5,l.style.position="relative",a.noHScroll||(l.style.marginLeft=-f.gutterTotalWidth+"px"))}function Wo(a){if(a.height!=null)return a.height;var l=a.doc.cm;if(!l)return 0;if(!D(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+l.display.wrapper.clientWidth+"px;"),L(l.display.measure,z("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function Fi(a,l){for(var p=J(l);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function Go(a){return a.lineSpace.offsetTop}function ma(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function zc(a){if(a.cachedPaddingH)return a.cachedPaddingH;var l=L(a.measure,z("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,f={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(a.cachedPaddingH=f),f}function ti(a){return se-a.display.nativeBarWidth}function xo(a){return a.display.scroller.clientWidth-ti(a)-a.display.barWidth}function S(a){return a.display.scroller.clientHeight-ti(a)-a.display.barHeight}function I(a,l,p){var f=a.options.lineWrapping,g=f&&xo(a);if(!l.measure.heights||f&&l.measure.width!=g){var y=l.measure.heights=[];if(f){l.measure.width=g;for(var b=l.text.firstChild.getClientRects(),C=0;C<b.length-1;C++){var A=b[C],O=b[C+1];Math.abs(A.bottom-O.bottom)>2&&y.push((A.bottom+O.top)/2-p.top)}}y.push(p.bottom-p.top)}}function q(a,l,p){if(a.line==l)return{map:a.measure.map,cache:a.measure.cache};for(var f=0;f<a.rest.length;f++)if(a.rest[f]==l)return{map:a.measure.maps[f],cache:a.measure.caches[f]};for(var g=0;g<a.rest.length;g++)if(It(a.rest[g])>p)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}function ee(a,l){l=Vt(l);var p=It(l),f=a.display.externalMeasured=new ul(a.doc,l,p);f.lineN=p;var g=f.built=Qa(a,f);return f.text=g.pre,L(a.display.lineMeasure,g.pre),f}function ye(a,l,p,f){return Qe(a,Pe(a,l),p,f)}function ge(a,l){if(l>=a.display.viewFrom&&l<a.display.viewTo)return a.display.view[ba(a,l)];var p=a.display.externalMeasured;if(p&&l>=p.lineN&&l<p.lineN+p.size)return p}function Pe(a,l){var p=It(l),f=ge(a,p);f&&!f.text?f=null:f&&f.changes&&(lo(a,f,p,Sf(a)),a.curOp.forceUpdate=!0),f||(f=ee(a,l));var g=q(f,l,p);return{line:l,view:f,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function Qe(a,l,p,f,g){l.before&&(p=-1);var y=p+(f||""),b;return l.cache.hasOwnProperty(y)?b=l.cache[y]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(I(a,l.view,l.rect),l.hasHeights=!0),b=lr(a,l,p,f),b.bogus||(l.cache[y]=b)),{left:b.left,right:b.right,top:g?b.rtop:b.top,bottom:g?b.rbottom:b.bottom}}var Rt={left:0,right:0,top:0,bottom:0};function Pt(a,l,p){for(var f,g,y,b,C,A,O=0;O<a.length;O+=3)if(C=a[O],A=a[O+1],l<C?(g=0,y=1,b="left"):l<A?(g=l-C,y=g+1):(O==a.length-3||l==A&&a[O+3]>l)&&(y=A-C,g=y-1,l>=A&&(b="right")),g!=null){if(f=a[O+2],C==A&&p==(f.insertLeft?"left":"right")&&(b=p),p=="left"&&g==0)for(;O&&a[O-2]==a[O-3]&&a[O-1].insertLeft;)f=a[(O-=3)+2],b="left";if(p=="right"&&g==A-C)for(;O<a.length-3&&a[O+3]==a[O+4]&&!a[O+5].insertLeft;)f=a[(O+=3)+2],b="right";break}return{node:f,start:g,end:y,collapse:b,coverStart:C,coverEnd:A}}function Yn(a,l){var p=Rt;if(l=="left")for(var f=0;f<a.length&&(p=a[f]).left==p.right;f++);else for(var g=a.length-1;g>=0&&(p=a[g]).left==p.right;g--);return p}function lr(a,l,p,f){var g=Pt(l.map,p,f),y=g.node,b=g.start,C=g.end,A=g.collapse,O;if(y.nodeType==3){for(var Y=0;Y<4;Y++){for(;b&&ve(l.line.text.charAt(g.coverStart+b));)--b;for(;g.coverStart+C<g.coverEnd&&ve(l.line.text.charAt(g.coverStart+C));)++C;if(c&&u<9&&b==0&&C==g.coverEnd-g.coverStart?O=y.parentNode.getBoundingClientRect():O=Yn(oe(y,b,C).getClientRects(),f),O.left||O.right||b==0)break;C=b,b=b-1,A="right"}c&&u<11&&(O=Uc(a.display.measure,O))}else{b>0&&(A=f="right");var Q;a.options.lineWrapping&&(Q=y.getClientRects()).length>1?O=Q[f=="right"?Q.length-1:0]:O=y.getBoundingClientRect()}if(c&&u<9&&!b&&(!O||!O.left&&!O.right)){var me=y.parentNode.getClientRects()[0];me?O={left:me.left,right:me.left+ns(a.display),top:me.top,bottom:me.bottom}:O=Rt}for(var le=O.top-l.rect.top,Oe=O.bottom-l.rect.top,Ve=(le+Oe)/2,Ge=l.view.measure.heights,rt=0;rt<Ge.length-1&&!(Ve<Ge[rt]);rt++);var ft=rt?Ge[rt-1]:0,it=Ge[rt],ht={left:(A=="right"?O.right:O.left)-l.rect.left,right:(A=="left"?O.left:O.right)-l.rect.left,top:ft,bottom:it};return!O.left&&!O.right&&(ht.bogus=!0),a.options.singleCursorHeightPerLine||(ht.rtop=le,ht.rbottom=Oe),ht}function Uc(a,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!gn(a))return l;var p=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*p,right:l.right*p,top:l.top*f,bottom:l.bottom*f}}function gl(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var l=0;l<a.rest.length;l++)a.measure.caches[l]={}}function og(a){a.display.externalMeasure=null,B(a.display.lineMeasure);for(var l=0;l<a.display.view.length;l++)gl(a.display.view[l])}function vl(a){og(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function ag(){return v&&F?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function sg(){return v&&F?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function wf(a){var l=0;if(a.widgets)for(var p=0;p<a.widgets.length;++p)a.widgets[p].above&&(l+=Wo(a.widgets[p]));return l}function Wc(a,l,p,f,g){if(!g){var y=wf(l);p.top+=y,p.bottom+=y}if(f=="line")return p;f||(f="local");var b=ei(l);if(f=="local"?b+=Go(a.display):b-=a.display.viewOffset,f=="page"||f=="window"){var C=a.display.lineSpace.getBoundingClientRect();b+=C.top+(f=="window"?0:sg());var A=C.left+(f=="window"?0:ag());p.left+=A,p.right+=A}return p.top+=b,p.bottom+=b,p}function lg(a,l,p){if(p=="div")return l;var f=l.left,g=l.top;if(p=="page")f-=ag(),g-=sg();else if(p=="local"||!p){var y=a.display.sizer.getBoundingClientRect();f+=y.left,g+=y.top}var b=a.display.lineSpace.getBoundingClientRect();return{left:f-b.left,top:g-b.top}}function Gc(a,l,p,f,g){return f||(f=dt(a.doc,l.line)),Wc(a,f,ye(a,f,l.ch,g),p)}function eo(a,l,p,f,g,y){f=f||dt(a.doc,l.line),g||(g=Pe(a,f));function b(Oe,Ve){var Ge=Qe(a,g,Oe,Ve?"right":"left",y);return Ve?Ge.left=Ge.right:Ge.right=Ge.left,Wc(a,f,Ge,p)}var C=k(f,a.doc.direction),A=l.ch,O=l.sticky;if(A>=f.text.length?(A=f.text.length,O="before"):A<=0&&(A=0,O="after"),!C)return b(O=="before"?A-1:A,O=="before");function Y(Oe,Ve,Ge){var rt=C[Ve],ft=rt.level==1;return b(Ge?Oe-1:Oe,ft!=Ge)}var Q=H(C,A,O),me=Et,le=Y(A,Q,O=="before");return me!=null&&(le.other=Y(A,me,O!="before")),le}function cg(a,l){var p=0;l=Ue(a.doc,l),a.options.lineWrapping||(p=ns(a.display)*l.ch);var f=dt(a.doc,l.line),g=ei(f)+Go(a.display);return{left:p,right:p,top:g,bottom:g+f.height}}function Cf(a,l,p,f,g){var y=Fe(a,l,p);return y.xRel=g,f&&(y.outside=f),y}function xf(a,l,p){var f=a.doc;if(p+=a.display.viewOffset,p<0)return Cf(f.first,0,null,-1,-1);var g=on(f,p),y=f.first+f.size-1;if(g>y)return Cf(f.first+f.size-1,dt(f,y).text.length,null,1,1);l<0&&(l=0);for(var b=dt(f,g);;){var C=G_(a,b,g,l,p),A=_t(b,C.ch+(C.xRel>0||C.outside>0?1:0));if(!A)return C;var O=A.find(1);if(O.line==g)return O;b=dt(f,g=O.line)}}function ug(a,l,p,f){f-=wf(l);var g=l.text.length,y=gt(function(b){return Qe(a,p,b-1).bottom<=f},g,0);return g=gt(function(b){return Qe(a,p,b).top>f},y,g),{begin:y,end:g}}function dg(a,l,p,f){p||(p=Pe(a,l));var g=Wc(a,l,Qe(a,p,f),"line").top;return ug(a,l,p,g)}function Af(a,l,p,f){return a.bottom<=p?!1:a.top>p?!0:(f?a.left:a.right)>l}function G_(a,l,p,f,g){g-=ei(l);var y=Pe(a,l),b=wf(l),C=0,A=l.text.length,O=!0,Y=k(l,a.doc.direction);if(Y){var Q=(a.options.lineWrapping?Z_:Y_)(a,l,p,y,Y,f,g);O=Q.level!=1,C=O?Q.from:Q.to-1,A=O?Q.to:Q.from-1}var me=null,le=null,Oe=gt(function(At){var bt=Qe(a,y,At);return bt.top+=b,bt.bottom+=b,Af(bt,f,g,!1)?(bt.top<=g&&bt.left<=f&&(me=At,le=bt),!0):!1},C,A),Ve,Ge,rt=!1;if(le){var ft=f-le.left<le.right-f,it=ft==O;Oe=me+(it?0:1),Ge=it?"after":"before",Ve=ft?le.left:le.right}else{!O&&(Oe==A||Oe==C)&&Oe++,Ge=Oe==0?"after":Oe==l.text.length?"before":Qe(a,y,Oe-(O?1:0)).bottom+b<=g==O?"after":"before";var ht=eo(a,Fe(p,Oe,Ge),"line",l,y);Ve=ht.left,rt=g<ht.top?-1:g>=ht.bottom?1:0}return Oe=ce(l.text,Oe,1),Cf(p,Oe,Ge,rt,f-Ve)}function Y_(a,l,p,f,g,y,b){var C=gt(function(Q){var me=g[Q],le=me.level!=1;return Af(eo(a,Fe(p,le?me.to:me.from,le?"before":"after"),"line",l,f),y,b,!0)},0,g.length-1),A=g[C];if(C>0){var O=A.level!=1,Y=eo(a,Fe(p,O?A.from:A.to,O?"after":"before"),"line",l,f);Af(Y,y,b,!0)&&Y.top>b&&(A=g[C-1])}return A}function Z_(a,l,p,f,g,y,b){var C=ug(a,l,f,b),A=C.begin,O=C.end;/\s/.test(l.text.charAt(O-1))&&O--;for(var Y=null,Q=null,me=0;me<g.length;me++){var le=g[me];if(!(le.from>=O||le.to<=A)){var Oe=le.level!=1,Ve=Qe(a,f,Oe?Math.min(O,le.to)-1:Math.max(A,le.from)).right,Ge=Ve<y?y-Ve+1e9:Ve-y;(!Y||Q>Ge)&&(Y=le,Q=Ge)}}return Y||(Y=g[g.length-1]),Y.from<A&&(Y={from:A,to:Y.to,level:Y.level}),Y.to>O&&(Y={from:Y.from,to:O,level:Y.level}),Y}var ya;function ts(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(ya==null){ya=z("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)ya.appendChild(document.createTextNode("x")),ya.appendChild(z("br"));ya.appendChild(document.createTextNode("x"))}L(a.measure,ya);var p=ya.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),B(a.measure),p||1}function ns(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var l=z("span","xxxxxxxxxx"),p=z("pre",[l],"CodeMirror-line-like");L(a.measure,p);var f=l.getBoundingClientRect(),g=(f.right-f.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function Sf(a){for(var l=a.display,p={},f={},g=l.gutters.clientLeft,y=l.gutters.firstChild,b=0;y;y=y.nextSibling,++b){var C=a.display.gutterSpecs[b].className;p[C]=y.offsetLeft+y.clientLeft+g,f[C]=y.clientWidth}return{fixedPos:Ef(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:p,gutterWidth:f,wrapperWidth:l.wrapper.clientWidth}}function Ef(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function fg(a){var l=ts(a.display),p=a.options.lineWrapping,f=p&&Math.max(5,a.display.scroller.clientWidth/ns(a.display)-3);return function(g){if(qn(a.doc,g))return 0;var y=0;if(g.widgets)for(var b=0;b<g.widgets.length;b++)g.widgets[b].height&&(y+=g.widgets[b].height);return p?y+(Math.ceil(g.text.length/f)||1)*l:y+l}}function Tf(a){var l=a.doc,p=fg(a);l.iter(function(f){var g=p(f);g!=f.height&&Vn(f,g)})}function _a(a,l,p,f){var g=a.display;if(!p&&J(l).getAttribute("cm-not-content")=="true")return null;var y,b,C=g.lineSpace.getBoundingClientRect();try{y=l.clientX-C.left,b=l.clientY-C.top}catch{return null}var A=xf(a,y,b),O;if(f&&A.xRel>0&&(O=dt(a.doc,A.line).text).length==A.ch){var Y=xe(O,O.length,a.options.tabSize)-O.length;A=Fe(A.line,Math.max(0,Math.round((y-zc(a.display).left)/ns(a.display))-Y))}return A}function ba(a,l){if(l>=a.display.viewTo||(l-=a.display.viewFrom,l<0))return null;for(var p=a.display.view,f=0;f<p.length;f++)if(l-=p[f].size,l<0)return f}function Vr(a,l,p,f){l==null&&(l=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),f||(f=0);var g=a.display;if(f&&p<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>l)&&(g.updateLineNumbers=l),a.curOp.viewChanged=!0,l>=g.viewTo)Wn&&Xr(a.doc,l)<g.viewTo&&Zo(a);else if(p<=g.viewFrom)Wn&&Jr(a.doc,p+f)>g.viewFrom?Zo(a):(g.viewFrom+=f,g.viewTo+=f);else if(l<=g.viewFrom&&p>=g.viewTo)Zo(a);else if(l<=g.viewFrom){var y=Yc(a,p,p+f,1);y?(g.view=g.view.slice(y.index),g.viewFrom=y.lineN,g.viewTo+=f):Zo(a)}else if(p>=g.viewTo){var b=Yc(a,l,l,-1);b?(g.view=g.view.slice(0,b.index),g.viewTo=b.lineN):Zo(a)}else{var C=Yc(a,l,l,-1),A=Yc(a,p,p+f,1);C&&A?(g.view=g.view.slice(0,C.index).concat(Ja(a,C.lineN,A.lineN)).concat(g.view.slice(A.index)),g.viewTo+=f):Zo(a)}var O=g.externalMeasured;O&&(p<O.lineN?O.lineN+=f:l<O.lineN+O.size&&(g.externalMeasured=null))}function Yo(a,l,p){a.curOp.viewChanged=!0;var f=a.display,g=a.display.externalMeasured;if(g&&l>=g.lineN&&l<g.lineN+g.size&&(f.externalMeasured=null),!(l<f.viewFrom||l>=f.viewTo)){var y=f.view[ba(a,l)];if(y.node!=null){var b=y.changes||(y.changes=[]);ze(b,p)==-1&&b.push(p)}}}function Zo(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Yc(a,l,p,f){var g=ba(a,l),y,b=a.display.view;if(!Wn||p==a.doc.first+a.doc.size)return{index:g,lineN:p};for(var C=a.display.viewFrom,A=0;A<g;A++)C+=b[A].size;if(C!=l){if(f>0){if(g==b.length-1)return null;y=C+b[g].size-l,g++}else y=C-l;l+=y,p+=y}for(;Xr(a.doc,p)!=p;){if(g==(f<0?0:b.length-1))return null;p+=f*b[g-(f<0?1:0)].size,g+=f}return{index:g,lineN:p}}function K_(a,l,p){var f=a.display,g=f.view;g.length==0||l>=f.viewTo||p<=f.viewFrom?(f.view=Ja(a,l,p),f.viewFrom=l):(f.viewFrom>l?f.view=Ja(a,l,f.viewFrom).concat(f.view):f.viewFrom<l&&(f.view=f.view.slice(ba(a,l))),f.viewFrom=l,f.viewTo<p?f.view=f.view.concat(Ja(a,f.viewTo,p)):f.viewTo>p&&(f.view=f.view.slice(0,ba(a,p)))),f.viewTo=p}function pg(a){for(var l=a.display.view,p=0,f=0;f<l.length;f++){var g=l[f];!g.hidden&&(!g.node||g.changes)&&++p}return p}function ml(a){a.display.input.showSelection(a.display.input.prepareSelection())}function hg(a,l){l===void 0&&(l=!0);for(var p=a.doc,f={},g=f.cursors=document.createDocumentFragment(),y=f.selection=document.createDocumentFragment(),b=0;b<p.sel.ranges.length;b++)if(!(!l&&b==p.sel.primIndex)){var C=p.sel.ranges[b];if(!(C.from().line>=a.display.viewTo||C.to().line<a.display.viewFrom)){var A=C.empty();(A||a.options.showCursorWhenSelecting)&&gg(a,C.head,g),A||q_(a,C,y)}}return f}function gg(a,l,p){var f=eo(a,l,"div",null,null,!a.options.singleCursorHeightPerLine),g=p.appendChild(z("div","\xA0","CodeMirror-cursor"));if(g.style.left=f.left+"px",g.style.top=f.top+"px",g.style.height=Math.max(0,f.bottom-f.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var y=Gc(a,l,"div",null,null);y.right-y.left>0&&(g.style.width=y.right-y.left+"px")}if(f.other){var b=p.appendChild(z("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));b.style.display="",b.style.left=f.other.left+"px",b.style.top=f.other.top+"px",b.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function Zc(a,l){return a.top-l.top||a.left-l.left}function q_(a,l,p){var f=a.display,g=a.doc,y=document.createDocumentFragment(),b=zc(a.display),C=b.left,A=Math.max(f.sizerWidth,xo(a)-f.sizer.offsetLeft)-b.right,O=g.direction=="ltr";function Y(it,ht,At,bt){ht<0&&(ht=0),ht=Math.round(ht),bt=Math.round(bt),y.appendChild(z("div",null,"CodeMirror-selected","position: absolute; left: "+it+`px;
                             top: `+ht+"px; width: "+(At??A-it)+`px;
                             height: `+(bt-ht)+"px"))}function Q(it,ht,At){var bt=dt(g,it),Ht=bt.text.length,ln,Jn;function wn(Fn,Nr){return Gc(a,Fe(it,Fn),"div",bt,Nr)}function ri(Fn,Nr,or){var Zn=dg(a,bt,null,Fn),Nn=Nr=="ltr"==(or=="after")?"left":"right",On=or=="after"?Zn.begin:Zn.end-(/\s/.test(bt.text.charAt(Zn.end-1))?2:1);return wn(On,Nn)[Nn]}var Fr=k(bt,g.direction);return kt(Fr,ht||0,At??Ht,function(Fn,Nr,or,Zn){var Nn=or=="ltr",On=wn(Fn,Nn?"left":"right"),Hr=wn(Nr-1,Nn?"right":"left"),gs=ht==null&&Fn==0,Jo=At==null&&Nr==Ht,ur=Zn==0,co=!Fr||Zn==Fr.length-1;if(Hr.top-On.top<=3){var er=(O?gs:Jo)&&ur,Jf=(O?Jo:gs)&&co,So=er?C:(Nn?On:Hr).left,Sa=Jf?A:(Nn?Hr:On).right;Y(So,On.top,Sa-So,On.bottom)}else{var Ea,mr,vs,ep;Nn?(Ea=O&&gs&&ur?C:On.left,mr=O?A:ri(Fn,or,"before"),vs=O?C:ri(Nr,or,"after"),ep=O&&Jo&&co?A:Hr.right):(Ea=O?ri(Fn,or,"before"):C,mr=!O&&gs&&ur?A:On.right,vs=!O&&Jo&&co?C:Hr.left,ep=O?ri(Nr,or,"after"):A),Y(Ea,On.top,mr-Ea,On.bottom),On.bottom<Hr.top&&Y(C,On.bottom,null,Hr.top),Y(vs,Hr.top,ep-vs,Hr.bottom)}(!ln||Zc(On,ln)<0)&&(ln=On),Zc(Hr,ln)<0&&(ln=Hr),(!Jn||Zc(On,Jn)<0)&&(Jn=On),Zc(Hr,Jn)<0&&(Jn=Hr)}),{start:ln,end:Jn}}var me=l.from(),le=l.to();if(me.line==le.line)Q(me.line,me.ch,le.ch);else{var Oe=dt(g,me.line),Ve=dt(g,le.line),Ge=Vt(Oe)==Vt(Ve),rt=Q(me.line,me.ch,Ge?Oe.text.length+1:null).end,ft=Q(le.line,Ge?0:null,le.ch).start;Ge&&(rt.top<ft.top-2?(Y(rt.right,rt.top,null,rt.bottom),Y(C,ft.top,ft.left,ft.bottom)):Y(rt.right,rt.top,ft.left-rt.right,rt.bottom)),rt.bottom<ft.top&&Y(C,rt.bottom,null,ft.top)}p.appendChild(y)}function Of(a){if(a.state.focused){var l=a.display;clearInterval(l.blinker);var p=!0;l.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?l.blinker=setInterval(function(){a.hasFocus()||rs(a),l.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function vg(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Mf(a))}function Df(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&rs(a))},100)}function Mf(a,l){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(st(a,"focus",a,l),a.state.focused=!0,we(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),d&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Of(a))}function rs(a,l){a.state.delayingBlurEvent||(a.state.focused&&(st(a,"blur",a,l),a.state.focused=!1,he(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Kc(a){for(var l=a.display,p=l.lineDiv.offsetTop,f=Math.max(0,l.scroller.getBoundingClientRect().top),g=l.lineDiv.getBoundingClientRect().top,y=0,b=0;b<l.view.length;b++){var C=l.view[b],A=a.options.lineWrapping,O=void 0,Y=0;if(!C.hidden){if(g+=C.line.height,c&&u<8){var Q=C.node.offsetTop+C.node.offsetHeight;O=Q-p,p=Q}else{var me=C.node.getBoundingClientRect();O=me.bottom-me.top,!A&&C.text.firstChild&&(Y=C.text.firstChild.getBoundingClientRect().right-me.left-1)}var le=C.line.height-O;if((le>.005||le<-.005)&&(g<f&&(y-=le),Vn(C.line,O),mg(C.line),C.rest))for(var Oe=0;Oe<C.rest.length;Oe++)mg(C.rest[Oe]);if(Y>a.display.sizerWidth){var Ve=Math.ceil(Y/ns(a.display));Ve>a.display.maxLineLength&&(a.display.maxLineLength=Ve,a.display.maxLine=C.line,a.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(l.scroller.scrollTop+=y)}function mg(a){if(a.widgets)for(var l=0;l<a.widgets.length;++l){var p=a.widgets[l],f=p.node.parentNode;f&&(p.height=f.offsetHeight)}}function qc(a,l,p){var f=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;f=Math.floor(f-Go(a));var g=p&&p.bottom!=null?p.bottom:f+a.wrapper.clientHeight,y=on(l,f),b=on(l,g);if(p&&p.ensure){var C=p.ensure.from.line,A=p.ensure.to.line;C<y?(y=C,b=on(l,ei(dt(l,C))+a.wrapper.clientHeight)):Math.min(A,l.lastLine())>=b&&(y=on(l,ei(dt(l,A))-a.wrapper.clientHeight),b=A)}return{from:y,to:Math.max(b,y+1)}}function $_(a,l){if(!Je(a,"scrollCursorIntoView")){var p=a.display,f=p.sizer.getBoundingClientRect(),g=null;if(l.top+f.top<0?g=!0:l.bottom+f.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),g!=null&&!x){var y=z("div","\u200B",null,`position: absolute;
                         top: `+(l.top-p.viewOffset-Go(a.display))+`px;
                         height: `+(l.bottom-l.top+ti(a)+p.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");a.display.lineSpace.appendChild(y),y.scrollIntoView(g),a.display.lineSpace.removeChild(y)}}}function Q_(a,l,p,f){f==null&&(f=0);var g;!a.options.lineWrapping&&l==p&&(p=l.sticky=="before"?Fe(l.line,l.ch+1,"before"):l,l=l.ch?Fe(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var y=0;y<5;y++){var b=!1,C=eo(a,l),A=!p||p==l?C:eo(a,p);g={left:Math.min(C.left,A.left),top:Math.min(C.top,A.top)-f,right:Math.max(C.left,A.left),bottom:Math.max(C.bottom,A.bottom)+f};var O=kf(a,g),Y=a.doc.scrollTop,Q=a.doc.scrollLeft;if(O.scrollTop!=null&&(_l(a,O.scrollTop),Math.abs(a.doc.scrollTop-Y)>1&&(b=!0)),O.scrollLeft!=null&&(wa(a,O.scrollLeft),Math.abs(a.doc.scrollLeft-Q)>1&&(b=!0)),!b)break}return g}function X_(a,l){var p=kf(a,l);p.scrollTop!=null&&_l(a,p.scrollTop),p.scrollLeft!=null&&wa(a,p.scrollLeft)}function kf(a,l){var p=a.display,f=ts(a.display);l.top<0&&(l.top=0);var g=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,y=S(a),b={};l.bottom-l.top>y&&(l.bottom=l.top+y);var C=a.doc.height+ma(p),A=l.top<f,O=l.bottom>C-f;if(l.top<g)b.scrollTop=A?0:l.top;else if(l.bottom>g+y){var Y=Math.min(l.top,(O?C:l.bottom)-y);Y!=g&&(b.scrollTop=Y)}var Q=a.options.fixedGutter?0:p.gutters.offsetWidth,me=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-Q,le=xo(a)-p.gutters.offsetWidth,Oe=l.right-l.left>le;return Oe&&(l.right=l.left+le),l.left<10?b.scrollLeft=0:l.left<me?b.scrollLeft=Math.max(0,l.left+Q-(Oe?0:10)):l.right>le+me-3&&(b.scrollLeft=l.right+(Oe?0:10)-le),b}function Pf(a,l){l!=null&&($c(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+l)}function is(a){$c(a);var l=a.getCursor();a.curOp.scrollToPos={from:l,to:l,margin:a.options.cursorScrollMargin}}function yl(a,l,p){(l!=null||p!=null)&&$c(a),l!=null&&(a.curOp.scrollLeft=l),p!=null&&(a.curOp.scrollTop=p)}function J_(a,l){$c(a),a.curOp.scrollToPos=l}function $c(a){var l=a.curOp.scrollToPos;if(l){a.curOp.scrollToPos=null;var p=cg(a,l.from),f=cg(a,l.to);yg(a,p,f,l.margin)}}function yg(a,l,p,f){var g=kf(a,{left:Math.min(l.left,p.left),top:Math.min(l.top,p.top)-f,right:Math.max(l.right,p.right),bottom:Math.max(l.bottom,p.bottom)+f});yl(a,g.scrollLeft,g.scrollTop)}function _l(a,l){Math.abs(a.doc.scrollTop-l)<2||(t||Lf(a,{top:l}),_g(a,l,!0),t&&Lf(a),Cl(a,100))}function _g(a,l,p){l=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,l)),!(a.display.scroller.scrollTop==l&&!p)&&(a.doc.scrollTop=l,a.display.scrollbars.setScrollTop(l),a.display.scroller.scrollTop!=l&&(a.display.scroller.scrollTop=l))}function wa(a,l,p,f){l=Math.max(0,Math.min(l,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?l==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-l)<2)&&!f)&&(a.doc.scrollLeft=l,Ag(a),a.display.scroller.scrollLeft!=l&&(a.display.scroller.scrollLeft=l),a.display.scrollbars.setScrollLeft(l))}function bl(a){var l=a.display,p=l.gutters.offsetWidth,f=Math.round(a.doc.height+ma(a.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:f,scrollHeight:f+ti(a)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:p}}var Ca=function(a,l,p){this.cm=p;var f=this.vert=z("div",[z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=z("div",[z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=g.tabIndex=-1,a(f),a(g),_e(f,"scroll",function(){f.clientHeight&&l(f.scrollTop,"vertical")}),_e(g,"scroll",function(){g.clientWidth&&l(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ca.prototype.update=function(a){var l=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,f=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=l?f+"px":"0";var g=a.viewHeight-(l?f:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+g)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=p?f+"px":"0",this.horiz.style.left=a.barLeft+"px";var y=a.viewWidth-a.barLeft-(p?f:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?f:0,bottom:l?f:0}},Ca.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ca.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ca.prototype.zeroWidthHack=function(){var a=R&&!w?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ee,this.disableVert=new Ee},Ca.prototype.enableZeroWidthBar=function(a,l,p){a.style.pointerEvents="auto";function f(){var g=a.getBoundingClientRect(),y=p=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);y!=a?a.style.pointerEvents="none":l.set(1e3,f)}l.set(1e3,f)},Ca.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var wl=function(){};wl.prototype.update=function(){return{bottom:0,right:0}},wl.prototype.setScrollLeft=function(){},wl.prototype.setScrollTop=function(){},wl.prototype.clear=function(){};function os(a,l){l||(l=bl(a));var p=a.display.barWidth,f=a.display.barHeight;bg(a,l);for(var g=0;g<4&&p!=a.display.barWidth||f!=a.display.barHeight;g++)p!=a.display.barWidth&&a.options.lineWrapping&&Kc(a),bg(a,bl(a)),p=a.display.barWidth,f=a.display.barHeight}function bg(a,l){var p=a.display,f=p.scrollbars.update(l);p.sizer.style.paddingRight=(p.barWidth=f.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=f.bottom)+"px",p.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=f.bottom+"px",p.scrollbarFiller.style.width=f.right+"px"):p.scrollbarFiller.style.display="",f.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=f.bottom+"px",p.gutterFiller.style.width=l.gutterWidth+"px"):p.gutterFiller.style.display=""}var wg={native:Ca,null:wl};function Cg(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&he(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new wg[a.options.scrollbarStyle](function(l){a.display.wrapper.insertBefore(l,a.display.scrollbarFiller),_e(l,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,p){p=="horizontal"?wa(a,l):_l(a,l)},a),a.display.scrollbars.addClass&&we(a.display.wrapper,a.display.scrollbars.addClass)}var e2=0;function xa(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++e2,markArrays:null},Fc(a.curOp)}function Aa(a){var l=a.curOp;l&&dl(l,function(p){for(var f=0;f<p.ops.length;f++)p.ops[f].cm.curOp=null;t2(p)})}function t2(a){for(var l=a.ops,p=0;p<l.length;p++)n2(l[p]);for(var f=0;f<l.length;f++)r2(l[f]);for(var g=0;g<l.length;g++)i2(l[g]);for(var y=0;y<l.length;y++)o2(l[y]);for(var b=0;b<l.length;b++)a2(l[b])}function n2(a){var l=a.cm,p=l.display;l2(l),a.updateMaxLine&&No(l),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&l.options.lineWrapping,a.update=a.mustUpdate&&new Qc(l,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function r2(a){a.updatedDisplay=a.mustUpdate&&If(a.cm,a.update)}function i2(a){var l=a.cm,p=l.display;a.updatedDisplay&&Kc(l),a.barMeasure=bl(l),p.maxLineChanged&&!l.options.lineWrapping&&(a.adjustWidthTo=ye(l,p.maxLine,p.maxLine.text.length).left+3,l.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+ti(l)+l.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-xo(l))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function o2(a){var l=a.cm;a.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<l.doc.scrollLeft&&wa(l,Math.min(l.display.scroller.scrollLeft,a.maxScrollLeft),!0),l.display.maxLineChanged=!1);var p=a.focus&&a.focus==be();a.preparedSelection&&l.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=l.doc.height)&&os(l,a.barMeasure),a.updatedDisplay&&Rf(l,a.barMeasure),a.selectionChanged&&Of(l),l.state.focused&&a.updateInput&&l.display.input.reset(a.typing),p&&vg(a.cm)}function a2(a){var l=a.cm,p=l.display,f=l.doc;if(a.updatedDisplay&&xg(l,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&_g(l,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&wa(l,a.scrollLeft,!0,!0),a.scrollToPos){var g=Q_(l,Ue(f,a.scrollToPos.from),Ue(f,a.scrollToPos.to),a.scrollToPos.margin);$_(l,g)}var y=a.maybeHiddenMarkers,b=a.maybeUnhiddenMarkers;if(y)for(var C=0;C<y.length;++C)y[C].lines.length||st(y[C],"hide");if(b)for(var A=0;A<b.length;++A)b[A].lines.length&&st(b[A],"unhide");p.wrapper.offsetHeight&&(f.scrollTop=l.display.scroller.scrollTop),a.changeObjs&&st(l,"changes",l,a.changeObjs),a.update&&a.update.finish()}function ni(a,l){if(a.curOp)return l();xa(a);try{return l()}finally{Aa(a)}}function Qn(a,l){return function(){if(a.curOp)return l.apply(a,arguments);xa(a);try{return l.apply(a,arguments)}finally{Aa(a)}}}function vr(a){return function(){if(this.curOp)return a.apply(this,arguments);xa(this);try{return a.apply(this,arguments)}finally{Aa(this)}}}function Xn(a){return function(){var l=this.cm;if(!l||l.curOp)return a.apply(this,arguments);xa(l);try{return a.apply(this,arguments)}finally{Aa(l)}}}function Cl(a,l){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(l,ct(s2,a))}function s2(a){var l=a.doc;if(!(l.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,f=Lr(a,l.highlightFrontier),g=[];l.iter(f.line,Math.min(l.first+l.size,a.display.viewTo+500),function(y){if(f.line>=a.display.viewFrom){var b=y.styles,C=y.text.length>a.options.maxHighlightLength?rr(l.mode,f.state):null,A=Po(a,y,f,!0);C&&(f.state=C),y.styles=A.styles;var O=y.styleClasses,Y=A.classes;Y?y.styleClasses=Y:O&&(y.styleClasses=null);for(var Q=!b||b.length!=y.styles.length||O!=Y&&(!O||!Y||O.bgClass!=Y.bgClass||O.textClass!=Y.textClass),me=0;!Q&&me<b.length;++me)Q=b[me]!=y.styles[me];Q&&g.push(f.line),y.stateAfter=f.save(),f.nextLine()}else y.text.length<=a.options.maxHighlightLength&&so(a,y.text,f),y.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>p)return Cl(a,a.options.workDelay),!0}),l.highlightFrontier=f.line,l.modeFrontier=Math.max(l.modeFrontier,f.line),g.length&&ni(a,function(){for(var y=0;y<g.length;y++)Yo(a,g[y],"text")})}}var Qc=function(a,l,p){var f=a.display;this.viewport=l,this.visible=qc(f,a.doc,l),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=xo(a),this.force=p,this.dims=Sf(a),this.events=[]};Qc.prototype.signal=function(a,l){Nt(a,l)&&this.events.push(arguments)},Qc.prototype.finish=function(){for(var a=0;a<this.events.length;a++)st.apply(null,this.events[a])};function l2(a){var l=a.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=ti(a)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=ti(a)+"px",l.scrollbarsClipped=!0)}function c2(a){if(a.hasFocus())return null;var l=be();if(!l||!D(a.display.lineDiv,l))return null;var p={activeElt:l};if(window.getSelection){var f=window.getSelection();f.anchorNode&&f.extend&&D(a.display.lineDiv,f.anchorNode)&&(p.anchorNode=f.anchorNode,p.anchorOffset=f.anchorOffset,p.focusNode=f.focusNode,p.focusOffset=f.focusOffset)}return p}function u2(a){if(!(!a||!a.activeElt||a.activeElt==be())&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&D(document.body,a.anchorNode)&&D(document.body,a.focusNode))){var l=window.getSelection(),p=document.createRange();p.setEnd(a.anchorNode,a.anchorOffset),p.collapse(!1),l.removeAllRanges(),l.addRange(p),l.extend(a.focusNode,a.focusOffset)}}function If(a,l){var p=a.display,f=a.doc;if(l.editorIsHidden)return Zo(a),!1;if(!l.force&&l.visible.from>=p.viewFrom&&l.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&pg(a)==0)return!1;Sg(a)&&(Zo(a),l.dims=Sf(a));var g=f.first+f.size,y=Math.max(l.visible.from-a.options.viewportMargin,f.first),b=Math.min(g,l.visible.to+a.options.viewportMargin);p.viewFrom<y&&y-p.viewFrom<20&&(y=Math.max(f.first,p.viewFrom)),p.viewTo>b&&p.viewTo-b<20&&(b=Math.min(g,p.viewTo)),Wn&&(y=Xr(a.doc,y),b=Jr(a.doc,b));var C=y!=p.viewFrom||b!=p.viewTo||p.lastWrapHeight!=l.wrapperHeight||p.lastWrapWidth!=l.wrapperWidth;K_(a,y,b),p.viewOffset=ei(dt(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var A=pg(a);if(!C&&A==0&&!l.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var O=c2(a);return A>4&&(p.lineDiv.style.display="none"),d2(a,p.updateLineNumbers,l.dims),A>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,u2(O),B(p.cursorDiv),B(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,C&&(p.lastWrapHeight=l.wrapperHeight,p.lastWrapWidth=l.wrapperWidth,Cl(a,400)),p.updateLineNumbers=null,!0}function xg(a,l){for(var p=l.viewport,f=!0;;f=!1){if(!f||!a.options.lineWrapping||l.oldDisplayWidth==xo(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+ma(a.display)-S(a),p.top)}),l.visible=qc(a.display,a.doc,p),l.visible.from>=a.display.viewFrom&&l.visible.to<=a.display.viewTo)break}else f&&(l.visible=qc(a.display,a.doc,p));if(!If(a,l))break;Kc(a);var g=bl(a);ml(a),os(a,g),Rf(a,g),l.force=!1}l.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(l.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Lf(a,l){var p=new Qc(a,l);if(If(a,p)){Kc(a),xg(a,p);var f=bl(a);ml(a),os(a,f),Rf(a,f),p.finish()}}function d2(a,l,p){var f=a.display,g=a.options.lineNumbers,y=f.lineDiv,b=y.firstChild;function C(Oe){var Ve=Oe.nextSibling;return d&&R&&a.display.currentWheelTarget==Oe?Oe.style.display="none":Oe.parentNode.removeChild(Oe),Ve}for(var A=f.view,O=f.viewFrom,Y=0;Y<A.length;Y++){var Q=A[Y];if(!Q.hidden)if(!Q.node||Q.node.parentNode!=y){var me=Bc(a,Q,O,p);y.insertBefore(me,b)}else{for(;b!=Q.node;)b=C(b);var le=g&&l!=null&&l<=O&&Q.lineNumber;Q.changes&&(ze(Q.changes,"gutter")>-1&&(le=!1),lo(a,Q,O,p)),le&&(B(Q.lineNumber),Q.lineNumber.appendChild(document.createTextNode(bi(a.options,O)))),b=Q.node.nextSibling}O+=Q.size}for(;b;)b=C(b)}function Vf(a){var l=a.gutters.offsetWidth;a.sizer.style.marginLeft=l+"px",Tn(a,"gutterChanged",a)}function Rf(a,l){a.display.sizer.style.minHeight=l.docHeight+"px",a.display.heightForcer.style.top=l.docHeight+"px",a.display.gutters.style.height=l.docHeight+a.display.barHeight+ti(a)+"px"}function Ag(a){var l=a.display,p=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!a.options.fixedGutter))){for(var f=Ef(l)-l.scroller.scrollLeft+a.doc.scrollLeft,g=l.gutters.offsetWidth,y=f+"px",b=0;b<p.length;b++)if(!p[b].hidden){a.options.fixedGutter&&(p[b].gutter&&(p[b].gutter.style.left=y),p[b].gutterBackground&&(p[b].gutterBackground.style.left=y));var C=p[b].alignable;if(C)for(var A=0;A<C.length;A++)C[A].style.left=y}a.options.fixedGutter&&(l.gutters.style.left=f+g+"px")}}function Sg(a){if(!a.options.lineNumbers)return!1;var l=a.doc,p=bi(a.options,l.first+l.size-1),f=a.display;if(p.length!=f.lineNumChars){var g=f.measure.appendChild(z("div",[z("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=g.firstChild.offsetWidth,b=g.offsetWidth-y;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(y,f.lineGutter.offsetWidth-b)+1,f.lineNumWidth=f.lineNumInnerWidth+b,f.lineNumChars=f.lineNumInnerWidth?p.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Vf(a.display),!0}return!1}function Ff(a,l){for(var p=[],f=!1,g=0;g<a.length;g++){var y=a[g],b=null;if(typeof y!="string"&&(b=y.style,y=y.className),y=="CodeMirror-linenumbers")if(l)f=!0;else continue;p.push({className:y,style:b})}return l&&!f&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Eg(a){var l=a.gutters,p=a.gutterSpecs;B(l),a.lineGutter=null;for(var f=0;f<p.length;++f){var g=p[f],y=g.className,b=g.style,C=l.appendChild(z("div",null,"CodeMirror-gutter "+y));b&&(C.style.cssText=b),y=="CodeMirror-linenumbers"&&(a.lineGutter=C,C.style.width=(a.lineNumWidth||1)+"px")}l.style.display=p.length?"":"none",Vf(a)}function xl(a){Eg(a.display),Vr(a),Ag(a)}function f2(a,l,p,f){var g=this;this.input=p,g.scrollbarFiller=z("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=z("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=j("div",null,"CodeMirror-code"),g.selectionDiv=z("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=z("div",null,"CodeMirror-cursors"),g.measure=z("div",null,"CodeMirror-measure"),g.lineMeasure=z("div",null,"CodeMirror-measure"),g.lineSpace=j("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var y=j("div",[g.lineSpace],"CodeMirror-lines");g.mover=z("div",[y],null,"position: relative"),g.sizer=z("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=z("div",null,null,"position: absolute; height: "+se+"px; width: 1px;"),g.gutters=z("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=z("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=z("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),g.wrapper.setAttribute("translate","no"),c&&u<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!d&&!(t&&U)&&(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=l.first,g.reportedViewFrom=g.reportedViewTo=l.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Ff(f.gutters,f.lineNumbers),Eg(g),p.init(g)}var Xc=0,Si=null;c?Si=-.53:t?Si=15:v?Si=-.7:_&&(Si=-.3333333333333333);function Tg(a){var l=a.wheelDeltaX,p=a.wheelDeltaY;return l==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(l=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:l,y:p}}function p2(a){var l=Tg(a);return l.x*=Si,l.y*=Si,l}function Og(a,l){var p=Tg(l),f=p.x,g=p.y,y=a.display,b=y.scroller,C=b.scrollWidth>b.clientWidth,A=b.scrollHeight>b.clientHeight;if(f&&C||g&&A){if(g&&R&&d){e:for(var O=l.target,Y=y.view;O!=b;O=O.parentNode)for(var Q=0;Q<Y.length;Q++)if(Y[Q].node==O){a.display.currentWheelTarget=O;break e}}if(f&&!t&&!m&&Si!=null){g&&A&&_l(a,Math.max(0,b.scrollTop+g*Si)),wa(a,Math.max(0,b.scrollLeft+f*Si)),(!g||g&&A)&&Bt(l),y.wheelStartX=null;return}if(g&&Si!=null){var me=g*Si,le=a.doc.scrollTop,Oe=le+y.wrapper.clientHeight;me<0?le=Math.max(0,le+me-50):Oe=Math.min(a.doc.height,Oe+me+50),Lf(a,{top:le,bottom:Oe})}Xc<20&&(y.wheelStartX==null?(y.wheelStartX=b.scrollLeft,y.wheelStartY=b.scrollTop,y.wheelDX=f,y.wheelDY=g,setTimeout(function(){if(y.wheelStartX!=null){var Ve=b.scrollLeft-y.wheelStartX,Ge=b.scrollTop-y.wheelStartY,rt=Ge&&y.wheelDY&&Ge/y.wheelDY||Ve&&y.wheelDX&&Ve/y.wheelDX;y.wheelStartX=y.wheelStartY=null,rt&&(Si=(Si*Xc+rt)/(Xc+1),++Xc)}},200)):(y.wheelDX+=f,y.wheelDY+=g))}}var Ei=function(a,l){this.ranges=a,this.primIndex=l};Ei.prototype.primary=function(){return this.ranges[this.primIndex]},Ei.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var p=this.ranges[l],f=a.ranges[l];if(!Ir(p.anchor,f.anchor)||!Ir(p.head,f.head))return!1}return!0},Ei.prototype.deepCopy=function(){for(var a=[],l=0;l<this.ranges.length;l++)a[l]=new Xt(P(this.ranges[l].anchor),P(this.ranges[l].head));return new Ei(a,this.primIndex)},Ei.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},Ei.prototype.contains=function(a,l){l||(l=a);for(var p=0;p<this.ranges.length;p++){var f=this.ranges[p];if(St(l,f.from())>=0&&St(a,f.to())<=0)return p}return-1};var Xt=function(a,l){this.anchor=a,this.head=l};Xt.prototype.from=function(){return De(this.anchor,this.head)},Xt.prototype.to=function(){return $(this.anchor,this.head)},Xt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function to(a,l,p){var f=a&&a.options.selectionsMayTouch,g=l[p];l.sort(function(me,le){return St(me.from(),le.from())}),p=ze(l,g);for(var y=1;y<l.length;y++){var b=l[y],C=l[y-1],A=St(C.to(),b.from());if(f&&!b.empty()?A>0:A>=0){var O=De(C.from(),b.from()),Y=$(C.to(),b.to()),Q=C.empty()?b.from()==b.head:C.from()==C.head;y<=p&&--p,l.splice(--y,2,new Xt(Q?Y:O,Q?O:Y))}}return new Ei(l,p)}function Ko(a,l){return new Ei([new Xt(a,l||a)],0)}function qo(a){return a.text?Fe(a.from.line+a.text.length-1,xt(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Dg(a,l){if(St(a,l.from)<0)return a;if(St(a,l.to)<=0)return qo(l);var p=a.line+l.text.length-(l.to.line-l.from.line)-1,f=a.ch;return a.line==l.to.line&&(f+=qo(l).ch-l.to.ch),Fe(p,f)}function Nf(a,l){for(var p=[],f=0;f<a.sel.ranges.length;f++){var g=a.sel.ranges[f];p.push(new Xt(Dg(g.anchor,l),Dg(g.head,l)))}return to(a.cm,p,a.sel.primIndex)}function Mg(a,l,p){return a.line==l.line?Fe(p.line,a.ch-l.ch+p.ch):Fe(p.line+(a.line-l.line),a.ch)}function h2(a,l,p){for(var f=[],g=Fe(a.first,0),y=g,b=0;b<l.length;b++){var C=l[b],A=Mg(C.from,g,y),O=Mg(qo(C),g,y);if(g=C.to,y=O,p=="around"){var Y=a.sel.ranges[b],Q=St(Y.head,Y.anchor)<0;f[b]=new Xt(Q?O:A,Q?A:O)}else f[b]=new Xt(A,A)}return new Ei(f,a.sel.primIndex)}function Hf(a){a.doc.mode=Zt(a.options,a.doc.modeOption),Al(a)}function Al(a){a.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Cl(a,100),a.state.modeGen++,a.curOp&&Vr(a)}function kg(a,l){return l.from.ch==0&&l.to.ch==0&&xt(l.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Bf(a,l,p,f){function g(ft){return p?p[ft]:null}function y(ft,it,ht){kc(ft,it,ht,f),Tn(ft,"change",ft,l)}function b(ft,it){for(var ht=[],At=ft;At<it;++At)ht.push(new $n(O[At],g(At),f));return ht}var C=l.from,A=l.to,O=l.text,Y=dt(a,C.line),Q=dt(a,A.line),me=xt(O),le=g(O.length-1),Oe=A.line-C.line;if(l.full)a.insert(0,b(0,O.length)),a.remove(O.length,a.size-O.length);else if(kg(a,l)){var Ve=b(0,O.length-1);y(Q,Q.text,le),Oe&&a.remove(C.line,Oe),Ve.length&&a.insert(C.line,Ve)}else if(Y==Q)if(O.length==1)y(Y,Y.text.slice(0,C.ch)+me+Y.text.slice(A.ch),le);else{var Ge=b(1,O.length-1);Ge.push(new $n(me+Y.text.slice(A.ch),le,f)),y(Y,Y.text.slice(0,C.ch)+O[0],g(0)),a.insert(C.line+1,Ge)}else if(O.length==1)y(Y,Y.text.slice(0,C.ch)+O[0]+Q.text.slice(A.ch),g(0)),a.remove(C.line+1,Oe);else{y(Y,Y.text.slice(0,C.ch)+O[0],g(0)),y(Q,me+Q.text.slice(A.ch),le);var rt=b(1,O.length-1);Oe>1&&a.remove(C.line+1,Oe-1),a.insert(C.line+1,rt)}Tn(a,"change",a,l)}function $o(a,l,p){function f(g,y,b){if(g.linked)for(var C=0;C<g.linked.length;++C){var A=g.linked[C];if(A.doc!=y){var O=b&&A.sharedHist;p&&!O||(l(A.doc,O),f(A.doc,g,O))}}}f(a,null,!0)}function Pg(a,l){if(l.cm)throw new Error("This document is already in use.");a.doc=l,l.cm=a,Tf(a),Hf(a),Ig(a),a.options.direction=l.direction,a.options.lineWrapping||No(a),a.options.mode=l.modeOption,Vr(a)}function Ig(a){(a.doc.direction=="rtl"?we:he)(a.display.lineDiv,"CodeMirror-rtl")}function g2(a){ni(a,function(){Ig(a),Vr(a)})}function Jc(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function jf(a,l){var p={from:P(l.from),to:qo(l),text:Un(a,l.from,l.to)};return Rg(a,p,l.from.line,l.to.line+1),$o(a,function(f){return Rg(f,p,l.from.line,l.to.line+1)},!0),p}function Lg(a){for(;a.length;){var l=xt(a);if(l.ranges)a.pop();else break}}function v2(a,l){if(l)return Lg(a.done),xt(a.done);if(a.done.length&&!xt(a.done).ranges)return xt(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),xt(a.done)}function Vg(a,l,p,f){var g=a.history;g.undone.length=0;var y=+new Date,b,C;if((g.lastOp==f||g.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&g.lastModTime>y-(a.cm?a.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(b=v2(g,g.lastOp==f)))C=xt(b.changes),St(l.from,l.to)==0&&St(l.from,C.to)==0?C.to=qo(l):b.changes.push(jf(a,l));else{var A=xt(g.done);for((!A||!A.ranges)&&eu(a.sel,g.done),b={changes:[jf(a,l)],generation:g.generation},g.done.push(b);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(p),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=y,g.lastOp=g.lastSelOp=f,g.lastOrigin=g.lastSelOrigin=l.origin,C||st(a,"historyAdded")}function m2(a,l,p,f){var g=l.charAt(0);return g=="*"||g=="+"&&p.ranges.length==f.ranges.length&&p.somethingSelected()==f.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function y2(a,l,p,f){var g=a.history,y=f&&f.origin;p==g.lastSelOp||y&&g.lastSelOrigin==y&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==y||m2(a,y,xt(g.done),l))?g.done[g.done.length-1]=l:eu(l,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=y,g.lastSelOp=p,f&&f.clearRedo!==!1&&Lg(g.undone)}function eu(a,l){var p=xt(l);p&&p.ranges&&p.equals(a)||l.push(a)}function Rg(a,l,p,f){var g=l["spans_"+a.id],y=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,f),function(b){b.markedSpans&&((g||(g=l["spans_"+a.id]={}))[y]=b.markedSpans),++y})}function _2(a){if(!a)return null;for(var l,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?l||(l=a.slice(0,p)):l&&l.push(a[p]);return l?l.length?l:null:a}function b2(a,l){var p=l["spans_"+a.id];if(!p)return null;for(var f=[],g=0;g<l.text.length;++g)f.push(_2(p[g]));return f}function Fg(a,l){var p=b2(a,l),f=Ci(a,l);if(!p)return f;if(!f)return p;for(var g=0;g<p.length;++g){var y=p[g],b=f[g];if(y&&b)e:for(var C=0;C<b.length;++C){for(var A=b[C],O=0;O<y.length;++O)if(y[O].marker==A.marker)continue e;y.push(A)}else b&&(p[g]=b)}return p}function as(a,l,p){for(var f=[],g=0;g<a.length;++g){var y=a[g];if(y.ranges){f.push(p?Ei.prototype.deepCopy.call(y):y);continue}var b=y.changes,C=[];f.push({changes:C});for(var A=0;A<b.length;++A){var O=b[A],Y=void 0;if(C.push({from:O.from,to:O.to,text:O.text}),l)for(var Q in O)(Y=Q.match(/^spans_(\d+)$/))&&ze(l,Number(Y[1]))>-1&&(xt(C)[Q]=O[Q],delete O[Q])}}return f}function zf(a,l,p,f){if(f){var g=a.anchor;if(p){var y=St(l,g)<0;y!=St(p,g)<0?(g=l,l=p):y!=St(l,p)<0&&(l=p)}return new Xt(g,l)}else return new Xt(p||l,l)}function tu(a,l,p,f,g){g==null&&(g=a.cm&&(a.cm.display.shift||a.extend)),cr(a,new Ei([zf(a.sel.primary(),l,p,g)],0),f)}function Ng(a,l,p){for(var f=[],g=a.cm&&(a.cm.display.shift||a.extend),y=0;y<a.sel.ranges.length;y++)f[y]=zf(a.sel.ranges[y],l[y],null,g);var b=to(a.cm,f,a.sel.primIndex);cr(a,b,p)}function Uf(a,l,p,f){var g=a.sel.ranges.slice(0);g[l]=p,cr(a,to(a.cm,g,a.sel.primIndex),f)}function Hg(a,l,p,f){cr(a,Ko(l,p),f)}function w2(a,l,p){var f={ranges:l.ranges,update:function(g){this.ranges=[];for(var y=0;y<g.length;y++)this.ranges[y]=new Xt(Ue(a,g[y].anchor),Ue(a,g[y].head))},origin:p&&p.origin};return st(a,"beforeSelectionChange",a,f),a.cm&&st(a.cm,"beforeSelectionChange",a.cm,f),f.ranges!=l.ranges?to(a.cm,f.ranges,f.ranges.length-1):l}function Bg(a,l,p){var f=a.history.done,g=xt(f);g&&g.ranges?(f[f.length-1]=l,nu(a,l,p)):cr(a,l,p)}function cr(a,l,p){nu(a,l,p),y2(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function nu(a,l,p){(Nt(a,"beforeSelectionChange")||a.cm&&Nt(a.cm,"beforeSelectionChange"))&&(l=w2(a,l,p));var f=p&&p.bias||(St(l.primary().head,a.sel.primary().head)<0?-1:1);jg(a,Ug(a,l,f,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&is(a.cm)}function jg(a,l){l.equals(a.sel)||(a.sel=l,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,vt(a.cm)),Tn(a,"cursorActivity",a))}function zg(a){jg(a,Ug(a,a.sel,null,!1))}function Ug(a,l,p,f){for(var g,y=0;y<l.ranges.length;y++){var b=l.ranges[y],C=l.ranges.length==a.sel.ranges.length&&a.sel.ranges[y],A=ru(a,b.anchor,C&&C.anchor,p,f),O=ru(a,b.head,C&&C.head,p,f);(g||A!=b.anchor||O!=b.head)&&(g||(g=l.ranges.slice(0,y)),g[y]=new Xt(A,O))}return g?to(a.cm,g,l.primIndex):l}function ss(a,l,p,f,g){var y=dt(a,l.line);if(y.markedSpans)for(var b=0;b<y.markedSpans.length;++b){var C=y.markedSpans[b],A=C.marker,O="selectLeft"in A?!A.selectLeft:A.inclusiveLeft,Y="selectRight"in A?!A.selectRight:A.inclusiveRight;if((C.from==null||(O?C.from<=l.ch:C.from<l.ch))&&(C.to==null||(Y?C.to>=l.ch:C.to>l.ch))){if(g&&(st(A,"beforeCursorEnter"),A.explicitlyCleared))if(y.markedSpans){--b;continue}else break;if(!A.atomic)continue;if(p){var Q=A.find(f<0?1:-1),me=void 0;if((f<0?Y:O)&&(Q=Wg(a,Q,-f,Q&&Q.line==l.line?y:null)),Q&&Q.line==l.line&&(me=St(Q,p))&&(f<0?me<0:me>0))return ss(a,Q,l,f,g)}var le=A.find(f<0?-1:1);return(f<0?O:Y)&&(le=Wg(a,le,f,le.line==l.line?y:null)),le?ss(a,le,l,f,g):null}}return l}function ru(a,l,p,f,g){var y=f||1,b=ss(a,l,p,y,g)||!g&&ss(a,l,p,y,!0)||ss(a,l,p,-y,g)||!g&&ss(a,l,p,-y,!0);return b||(a.cantEdit=!0,Fe(a.first,0))}function Wg(a,l,p,f){return p<0&&l.ch==0?l.line>a.first?Ue(a,Fe(l.line-1)):null:p>0&&l.ch==(f||dt(a,l.line)).text.length?l.line<a.first+a.size-1?Fe(l.line+1,0):null:new Fe(l.line,l.ch+p)}function Gg(a){a.setSelection(Fe(a.firstLine(),0),Fe(a.lastLine()),Me)}function Yg(a,l,p){var f={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return f.canceled=!0}};return p&&(f.update=function(g,y,b,C){g&&(f.from=Ue(a,g)),y&&(f.to=Ue(a,y)),b&&(f.text=b),C!==void 0&&(f.origin=C)}),st(a,"beforeChange",a,f),a.cm&&st(a.cm,"beforeChange",a.cm,f),f.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function ls(a,l,p){if(a.cm){if(!a.cm.curOp)return Qn(a.cm,ls)(a,l,p);if(a.cm.state.suppressEdits)return}if(!((Nt(a,"beforeChange")||a.cm&&Nt(a.cm,"beforeChange"))&&(l=Yg(a,l,!0),!l))){var f=Rn&&!p&&Fo(a,l.from,l.to);if(f)for(var g=f.length-1;g>=0;--g)Zg(a,{from:f[g].from,to:f[g].to,text:g?[""]:l.text,origin:l.origin});else Zg(a,l)}}function Zg(a,l){if(!(l.text.length==1&&l.text[0]==""&&St(l.from,l.to)==0)){var p=Nf(a,l);Vg(a,l,p,a.cm?a.cm.curOp.id:NaN),Sl(a,l,p,Ci(a,l));var f=[];$o(a,function(g,y){!y&&ze(f,g.history)==-1&&(Qg(g.history,l),f.push(g.history)),Sl(g,l,null,Ci(g,l))})}}function iu(a,l,p){var f=a.cm&&a.cm.state.suppressEdits;if(!(f&&!p)){for(var g=a.history,y,b=a.sel,C=l=="undo"?g.done:g.undone,A=l=="undo"?g.undone:g.done,O=0;O<C.length&&(y=C[O],!(p?y.ranges&&!y.equals(a.sel):!y.ranges));O++);if(O!=C.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(y=C.pop(),y.ranges){if(eu(y,A),p&&!y.equals(a.sel)){cr(a,y,{clearRedo:!1});return}b=y}else if(f){C.push(y);return}else break;var Y=[];eu(b,A),A.push({changes:Y,generation:g.generation}),g.generation=y.generation||++g.maxGeneration;for(var Q=Nt(a,"beforeChange")||a.cm&&Nt(a.cm,"beforeChange"),me=function(Ve){var Ge=y.changes[Ve];if(Ge.origin=l,Q&&!Yg(a,Ge,!1))return C.length=0,{};Y.push(jf(a,Ge));var rt=Ve?Nf(a,Ge):xt(C);Sl(a,Ge,rt,Fg(a,Ge)),!Ve&&a.cm&&a.cm.scrollIntoView({from:Ge.from,to:qo(Ge)});var ft=[];$o(a,function(it,ht){!ht&&ze(ft,it.history)==-1&&(Qg(it.history,Ge),ft.push(it.history)),Sl(it,Ge,null,Fg(it,Ge))})},le=y.changes.length-1;le>=0;--le){var Oe=me(le);if(Oe)return Oe.v}}}}function Kg(a,l){if(l!=0&&(a.first+=l,a.sel=new Ei(pn(a.sel.ranges,function(g){return new Xt(Fe(g.anchor.line+l,g.anchor.ch),Fe(g.head.line+l,g.head.ch))}),a.sel.primIndex),a.cm)){Vr(a.cm,a.first,a.first-l,l);for(var p=a.cm.display,f=p.viewFrom;f<p.viewTo;f++)Yo(a.cm,f,"gutter")}}function Sl(a,l,p,f){if(a.cm&&!a.cm.curOp)return Qn(a.cm,Sl)(a,l,p,f);if(l.to.line<a.first){Kg(a,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>a.lastLine())){if(l.from.line<a.first){var g=l.text.length-1-(a.first-l.from.line);Kg(a,g),l={from:Fe(a.first,0),to:Fe(l.to.line+g,l.to.ch),text:[xt(l.text)],origin:l.origin}}var y=a.lastLine();l.to.line>y&&(l={from:l.from,to:Fe(y,dt(a,y).text.length),text:[l.text[0]],origin:l.origin}),l.removed=Un(a,l.from,l.to),p||(p=Nf(a,l)),a.cm?C2(a.cm,l,f):Bf(a,l,f),nu(a,p,Me),a.cantEdit&&ru(a,Fe(a.firstLine(),0))&&(a.cantEdit=!1)}}function C2(a,l,p){var f=a.doc,g=a.display,y=l.from,b=l.to,C=!1,A=y.line;a.options.lineWrapping||(A=It(Vt(dt(f,y.line))),f.iter(A,b.line+1,function(le){if(le==g.maxLine)return C=!0,!0})),f.sel.contains(l.from,l.to)>-1&&vt(a),Bf(f,l,p,fg(a)),a.options.lineWrapping||(f.iter(A,y.line+l.text.length,function(le){var Oe=Ji(le);Oe>g.maxLineLength&&(g.maxLine=le,g.maxLineLength=Oe,g.maxLineChanged=!0,C=!1)}),C&&(a.curOp.updateMaxLine=!0)),yo(f,y.line),Cl(a,400);var O=l.text.length-(b.line-y.line)-1;l.full?Vr(a):y.line==b.line&&l.text.length==1&&!kg(a.doc,l)?Yo(a,y.line,"text"):Vr(a,y.line,b.line+1,O);var Y=Nt(a,"changes"),Q=Nt(a,"change");if(Q||Y){var me={from:y,to:b,text:l.text,removed:l.removed,origin:l.origin};Q&&Tn(a,"change",a,me),Y&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(me)}a.display.selForContextMenu=null}function cs(a,l,p,f,g){var y;f||(f=p),St(f,p)<0&&(y=[f,p],p=y[0],f=y[1]),typeof l=="string"&&(l=a.splitLines(l)),ls(a,{from:p,to:f,text:l,origin:g})}function qg(a,l,p,f){p<a.line?a.line+=f:l<a.line&&(a.line=l,a.ch=0)}function $g(a,l,p,f){for(var g=0;g<a.length;++g){var y=a[g],b=!0;if(y.ranges){y.copied||(y=a[g]=y.deepCopy(),y.copied=!0);for(var C=0;C<y.ranges.length;C++)qg(y.ranges[C].anchor,l,p,f),qg(y.ranges[C].head,l,p,f);continue}for(var A=0;A<y.changes.length;++A){var O=y.changes[A];if(p<O.from.line)O.from=Fe(O.from.line+f,O.from.ch),O.to=Fe(O.to.line+f,O.to.ch);else if(l<=O.to.line){b=!1;break}}b||(a.splice(0,g+1),g=0)}}function Qg(a,l){var p=l.from.line,f=l.to.line,g=l.text.length-(f-p)-1;$g(a.done,p,f,g),$g(a.undone,p,f,g)}function El(a,l,p,f){var g=l,y=l;return typeof l=="number"?y=dt(a,je(a,l)):g=It(l),g==null?null:(f(y,g)&&a.cm&&Yo(a.cm,g,p),y)}function Tl(a){this.lines=a,this.parent=null;for(var l=0,p=0;p<a.length;++p)a[p].parent=this,l+=a[p].height;this.height=l}Tl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,l){for(var p=a,f=a+l;p<f;++p){var g=this.lines[p];this.height-=g.height,$a(g),Tn(g,"delete")}this.lines.splice(a,l)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,l,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(l).concat(this.lines.slice(a));for(var f=0;f<l.length;++f)l[f].parent=this},iterN:function(a,l,p){for(var f=a+l;a<f;++a)if(p(this.lines[a]))return!0}};function Ol(a){this.children=a;for(var l=0,p=0,f=0;f<a.length;++f){var g=a[f];l+=g.chunkSize(),p+=g.height,g.parent=this}this.size=l,this.height=p,this.parent=null}Ol.prototype={chunkSize:function(){return this.size},removeInner:function(a,l){this.size-=l;for(var p=0;p<this.children.length;++p){var f=this.children[p],g=f.chunkSize();if(a<g){var y=Math.min(l,g-a),b=f.height;if(f.removeInner(a,y),this.height-=b-f.height,g==y&&(this.children.splice(p--,1),f.parent=null),(l-=y)==0)break;a=0}else a-=g}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof Tl))){var C=[];this.collapse(C),this.children=[new Tl(C)],this.children[0].parent=this}},collapse:function(a){for(var l=0;l<this.children.length;++l)this.children[l].collapse(a)},insertInner:function(a,l,p){this.size+=l.length,this.height+=p;for(var f=0;f<this.children.length;++f){var g=this.children[f],y=g.chunkSize();if(a<=y){if(g.insertInner(a,l,p),g.lines&&g.lines.length>50){for(var b=g.lines.length%25+25,C=b;C<g.lines.length;){var A=new Tl(g.lines.slice(C,C+=25));g.height-=A.height,this.children.splice(++f,0,A),A.parent=this}g.lines=g.lines.slice(0,b),this.maybeSpill()}break}a-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var l=a.children.splice(a.children.length-5,5),p=new Ol(l);if(a.parent){a.size-=p.size,a.height-=p.height;var g=ze(a.parent.children,a);a.parent.children.splice(g+1,0,p)}else{var f=new Ol(a.children);f.parent=a,a.children=[f,p],a=f}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,l,p){for(var f=0;f<this.children.length;++f){var g=this.children[f],y=g.chunkSize();if(a<y){var b=Math.min(l,y-a);if(g.iterN(a,b,p))return!0;if((l-=b)==0)break;a=0}else a-=y}}};var Dl=function(a,l,p){if(p)for(var f in p)p.hasOwnProperty(f)&&(this[f]=p[f]);this.doc=a,this.node=l};Dl.prototype.clear=function(){var a=this.doc.cm,l=this.line.widgets,p=this.line,f=It(p);if(!(f==null||!l)){for(var g=0;g<l.length;++g)l[g]==this&&l.splice(g--,1);l.length||(p.widgets=null);var y=Wo(this);Vn(p,Math.max(0,p.height-y)),a&&(ni(a,function(){Xg(a,p,-y),Yo(a,f,"widget")}),Tn(a,"lineWidgetCleared",a,this,f))}},Dl.prototype.changed=function(){var a=this,l=this.height,p=this.doc.cm,f=this.line;this.height=null;var g=Wo(this)-l;g&&(qn(this.doc,f)||Vn(f,f.height+g),p&&ni(p,function(){p.curOp.forceUpdate=!0,Xg(p,f,g),Tn(p,"lineWidgetChanged",p,a,It(f))}))},Ut(Dl);function Xg(a,l,p){ei(l)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Pf(a,p)}function x2(a,l,p,f){var g=new Dl(a,p,f),y=a.cm;return y&&g.noHScroll&&(y.display.alignWidgets=!0),El(a,l,"widget",function(b){var C=b.widgets||(b.widgets=[]);if(g.insertAt==null?C.push(g):C.splice(Math.min(C.length,Math.max(0,g.insertAt)),0,g),g.line=b,y&&!qn(a,b)){var A=ei(b)<a.scrollTop;Vn(b,b.height+Wo(g)),A&&Pf(y,g.height),y.curOp.forceUpdate=!0}return!0}),y&&Tn(y,"lineWidgetAdded",y,g,typeof l=="number"?l:It(l)),g}var Jg=0,Qo=function(a,l){this.lines=[],this.type=l,this.doc=a,this.id=++Jg};Qo.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,l=a&&!a.curOp;if(l&&xa(a),Nt(this,"clear")){var p=this.find();p&&Tn(this,"clear",p.from,p.to)}for(var f=null,g=null,y=0;y<this.lines.length;++y){var b=this.lines[y],C=sr(b.markedSpans,this);a&&!this.collapsed?Yo(a,It(b),"text"):a&&(C.to!=null&&(g=It(b)),C.from!=null&&(f=It(b))),b.markedSpans=ga(b.markedSpans,C),C.from==null&&this.collapsed&&!qn(this.doc,b)&&a&&Vn(b,ts(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var A=0;A<this.lines.length;++A){var O=Vt(this.lines[A]),Y=Ji(O);Y>a.display.maxLineLength&&(a.display.maxLine=O,a.display.maxLineLength=Y,a.display.maxLineChanged=!0)}f!=null&&a&&this.collapsed&&Vr(a,f,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&zg(a.doc)),a&&Tn(a,"markerCleared",a,this,f,g),l&&Aa(a),this.parent&&this.parent.clear()}},Qo.prototype.find=function(a,l){a==null&&this.type=="bookmark"&&(a=1);for(var p,f,g=0;g<this.lines.length;++g){var y=this.lines[g],b=sr(y.markedSpans,this);if(b.from!=null&&(p=Fe(l?y:It(y),b.from),a==-1))return p;if(b.to!=null&&(f=Fe(l?y:It(y),b.to),a==1))return f}return p&&{from:p,to:f}},Qo.prototype.changed=function(){var a=this,l=this.find(-1,!0),p=this,f=this.doc.cm;!l||!f||ni(f,function(){var g=l.line,y=It(l.line),b=ge(f,y);if(b&&(gl(b),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!qn(p.doc,g)&&p.height!=null){var C=p.height;p.height=null;var A=Wo(p)-C;A&&Vn(g,g.height+A)}Tn(f,"markerChanged",f,a)})},Qo.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||ze(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Qo.prototype.detachLine=function(a){if(this.lines.splice(ze(this.lines,a),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},Ut(Qo);function us(a,l,p,f,g){if(f&&f.shared)return A2(a,l,p,f,g);if(a.cm&&!a.cm.curOp)return Qn(a.cm,us)(a,l,p,f,g);var y=new Qo(a,g),b=St(l,p);if(f&&Ot(f,y,!1),b>0||b==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=j("span",[y.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(yt(a,l.line,l,p,y)||l.line!=p.line&&yt(a,p.line,l,p,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");ha()}y.addToHistory&&Vg(a,{from:l,to:p,origin:"markText"},a.sel,NaN);var C=l.line,A=a.cm,O;if(a.iter(C,p.line+1,function(Q){A&&y.collapsed&&!A.options.lineWrapping&&Vt(Q)==A.display.maxLine&&(O=!0),y.collapsed&&C!=l.line&&Vn(Q,0),Vi(Q,new Qi(y,C==l.line?l.ch:null,C==p.line?p.ch:null),a.cm&&a.cm.curOp),++C}),y.collapsed&&a.iter(l.line,p.line+1,function(Q){qn(a,Q)&&Vn(Q,0)}),y.clearOnEnter&&_e(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(Vo(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),y.collapsed&&(y.id=++Jg,y.atomic=!0),A){if(O&&(A.curOp.updateMaxLine=!0),y.collapsed)Vr(A,l.line,p.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var Y=l.line;Y<=p.line;Y++)Yo(A,Y,"text");y.atomic&&zg(A.doc),Tn(A,"markerAdded",A,y)}return y}var Ml=function(a,l){this.markers=a,this.primary=l;for(var p=0;p<a.length;++p)a[p].parent=this};Ml.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Tn(this,"clear")}},Ml.prototype.find=function(a,l){return this.primary.find(a,l)},Ut(Ml);function A2(a,l,p,f,g){f=Ot(f),f.shared=!1;var y=[us(a,l,p,f,g)],b=y[0],C=f.widgetNode;return $o(a,function(A){C&&(f.widgetNode=C.cloneNode(!0)),y.push(us(A,Ue(A,l),Ue(A,p),f,g));for(var O=0;O<A.linked.length;++O)if(A.linked[O].isParent)return;b=xt(y)}),new Ml(y,b)}function ev(a){return a.findMarks(Fe(a.first,0),a.clipPos(Fe(a.lastLine())),function(l){return l.parent})}function S2(a,l){for(var p=0;p<l.length;p++){var f=l[p],g=f.find(),y=a.clipPos(g.from),b=a.clipPos(g.to);if(St(y,b)){var C=us(a,y,b,f.primary,f.primary.type);f.markers.push(C),C.parent=f}}}function E2(a){for(var l=function(f){var g=a[f],y=[g.primary.doc];$o(g.primary.doc,function(A){return y.push(A)});for(var b=0;b<g.markers.length;b++){var C=g.markers[b];ze(y,C.doc)==-1&&(C.parent=null,g.markers.splice(b--,1))}},p=0;p<a.length;p++)l(p)}var T2=0,Rr=function(a,l,p,f,g){if(!(this instanceof Rr))return new Rr(a,l,p,f,g);p==null&&(p=0),Ol.call(this,[new Tl([new $n("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var y=Fe(p,0);this.sel=Ko(y),this.history=new Jc(null),this.id=++T2,this.modeOption=l,this.lineSep=f,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Bf(this,{from:y,to:y,text:a}),cr(this,Ko(y),Me)};Rr.prototype=T(Ol.prototype,{constructor:Rr,iter:function(a,l,p){p?this.iterN(a-this.first,l-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,l){for(var p=0,f=0;f<l.length;++f)p+=l[f].height;this.insertInner(a-this.first,l,p)},remove:function(a,l){this.removeInner(a-this.first,l)},getValue:function(a){var l=ar(this,this.first,this.first+this.size);return a===!1?l:l.join(a||this.lineSeparator())},setValue:Xn(function(a){var l=Fe(this.first,0),p=this.first+this.size-1;ls(this,{from:l,to:Fe(p,dt(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&yl(this.cm,0,0),cr(this,Ko(l),Me)}),replaceRange:function(a,l,p,f){l=Ue(this,l),p=p?Ue(this,p):l,cs(this,a,l,p,f)},getRange:function(a,l,p){var f=Un(this,Ue(this,a),Ue(this,l));return p===!1?f:p===""?f.join(""):f.join(p||this.lineSeparator())},getLine:function(a){var l=this.getLineHandle(a);return l&&l.text},getLineHandle:function(a){if(_i(this,a))return dt(this,a)},getLineNumber:function(a){return It(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=dt(this,a)),Vt(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Ue(this,a)},getCursor:function(a){var l=this.sel.primary(),p;return a==null||a=="head"?p=l.head:a=="anchor"?p=l.anchor:a=="end"||a=="to"||a===!1?p=l.to():p=l.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Xn(function(a,l,p){Hg(this,Ue(this,typeof a=="number"?Fe(a,l||0):a),null,p)}),setSelection:Xn(function(a,l,p){Hg(this,Ue(this,a),Ue(this,l||a),p)}),extendSelection:Xn(function(a,l,p){tu(this,Ue(this,a),l&&Ue(this,l),p)}),extendSelections:Xn(function(a,l){Ng(this,jt(this,a),l)}),extendSelectionsBy:Xn(function(a,l){var p=pn(this.sel.ranges,a);Ng(this,jt(this,p),l)}),setSelections:Xn(function(a,l,p){if(a.length){for(var f=[],g=0;g<a.length;g++)f[g]=new Xt(Ue(this,a[g].anchor),Ue(this,a[g].head||a[g].anchor));l==null&&(l=Math.min(a.length-1,this.sel.primIndex)),cr(this,to(this.cm,f,l),p)}}),addSelection:Xn(function(a,l,p){var f=this.sel.ranges.slice(0);f.push(new Xt(Ue(this,a),Ue(this,l||a))),cr(this,to(this.cm,f,f.length-1),p)}),getSelection:function(a){for(var l=this.sel.ranges,p,f=0;f<l.length;f++){var g=Un(this,l[f].from(),l[f].to());p=p?p.concat(g):g}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var l=[],p=this.sel.ranges,f=0;f<p.length;f++){var g=Un(this,p[f].from(),p[f].to());a!==!1&&(g=g.join(a||this.lineSeparator())),l[f]=g}return l},replaceSelection:function(a,l,p){for(var f=[],g=0;g<this.sel.ranges.length;g++)f[g]=a;this.replaceSelections(f,l,p||"+input")},replaceSelections:Xn(function(a,l,p){for(var f=[],g=this.sel,y=0;y<g.ranges.length;y++){var b=g.ranges[y];f[y]={from:b.from(),to:b.to(),text:this.splitLines(a[y]),origin:p}}for(var C=l&&l!="end"&&h2(this,f,l),A=f.length-1;A>=0;A--)ls(this,f[A]);C?Bg(this,C):this.cm&&is(this.cm)}),undo:Xn(function(){iu(this,"undo")}),redo:Xn(function(){iu(this,"redo")}),undoSelection:Xn(function(){iu(this,"undo",!0)}),redoSelection:Xn(function(){iu(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,l=0,p=0,f=0;f<a.done.length;f++)a.done[f].ranges||++l;for(var g=0;g<a.undone.length;g++)a.undone[g].ranges||++p;return{undo:l,redo:p}},clearHistory:function(){var a=this;this.history=new Jc(this.history),$o(this,function(l){return l.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:as(this.history.done),undone:as(this.history.undone)}},setHistory:function(a){var l=this.history=new Jc(this.history);l.done=as(a.done.slice(0),null,!0),l.undone=as(a.undone.slice(0),null,!0)},setGutterMarker:Xn(function(a,l,p){return El(this,a,"gutter",function(f){var g=f.gutterMarkers||(f.gutterMarkers={});return g[l]=p,!p&&Ce(g)&&(f.gutterMarkers=null),!0})}),clearGutter:Xn(function(a){var l=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&El(l,p,"gutter",function(){return p.gutterMarkers[a]=null,Ce(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var l;if(typeof a=="number"){if(!_i(this,a)||(l=a,a=dt(this,a),!a))return null}else if(l=It(a),l==null)return null;return{line:l,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Xn(function(a,l,p){return El(this,a,l=="gutter"?"gutter":"class",function(f){var g=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!f[g])f[g]=p;else{if(K(p).test(f[g]))return!1;f[g]+=" "+p}return!0})}),removeLineClass:Xn(function(a,l,p){return El(this,a,l=="gutter"?"gutter":"class",function(f){var g=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",y=f[g];if(y)if(p==null)f[g]=null;else{var b=y.match(K(p));if(!b)return!1;var C=b.index+b[0].length;f[g]=y.slice(0,b.index)+(!b.index||C==y.length?"":" ")+y.slice(C)||null}else return!1;return!0})}),addLineWidget:Xn(function(a,l,p){return x2(this,a,l,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,l,p){return us(this,Ue(this,a),Ue(this,l),p,p&&p.type||"range")},setBookmark:function(a,l){var p={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return a=Ue(this,a),us(this,a,a,p,"bookmark")},findMarksAt:function(a){a=Ue(this,a);var l=[],p=dt(this,a.line).markedSpans;if(p)for(var f=0;f<p.length;++f){var g=p[f];(g.from==null||g.from<=a.ch)&&(g.to==null||g.to>=a.ch)&&l.push(g.marker.parent||g.marker)}return l},findMarks:function(a,l,p){a=Ue(this,a),l=Ue(this,l);var f=[],g=a.line;return this.iter(a.line,l.line+1,function(y){var b=y.markedSpans;if(b)for(var C=0;C<b.length;C++){var A=b[C];!(A.to!=null&&g==a.line&&a.ch>=A.to||A.from==null&&g!=a.line||A.from!=null&&g==l.line&&A.from>=l.ch)&&(!p||p(A.marker))&&f.push(A.marker.parent||A.marker)}++g}),f},getAllMarks:function(){var a=[];return this.iter(function(l){var p=l.markedSpans;if(p)for(var f=0;f<p.length;++f)p[f].from!=null&&a.push(p[f].marker)}),a},posFromIndex:function(a){var l,p=this.first,f=this.lineSeparator().length;return this.iter(function(g){var y=g.text.length+f;if(y>a)return l=a,!0;a-=y,++p}),Ue(this,Fe(p,l))},indexFromPos:function(a){a=Ue(this,a);var l=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(f){l+=f.text.length+p}),l},copy:function(a){var l=new Rr(ar(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,a&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(a){a||(a={});var l=this.first,p=this.first+this.size;a.from!=null&&a.from>l&&(l=a.from),a.to!=null&&a.to<p&&(p=a.to);var f=new Rr(ar(this,l,p),a.mode||this.modeOption,l,this.lineSep,this.direction);return a.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:a.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],S2(f,ev(this)),f},unlinkDoc:function(a){if(a instanceof mn&&(a=a.doc),this.linked)for(var l=0;l<this.linked.length;++l){var p=this.linked[l];if(p.doc==a){this.linked.splice(l,1),a.unlinkDoc(this),E2(ev(this));break}}if(a.history==this.history){var f=[a.id];$o(a,function(g){return f.push(g.id)},!0),a.history=new Jc(null),a.history.done=as(this.history.done,f),a.history.undone=as(this.history.undone,f)}},iterLinkedDocs:function(a){$o(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):an(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Xn(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(l){return l.order=null}),this.cm&&g2(this.cm))})}),Rr.prototype.eachLine=Rr.prototype.iter;var tv=0;function O2(a){var l=this;if(nv(l),!(Je(l,a)||Fi(l.display,a))){Bt(a),c&&(tv=+new Date);var p=_a(l,a,!0),f=a.dataTransfer.files;if(!(!p||l.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var g=f.length,y=Array(g),b=0,C=function(){++b==g&&Qn(l,function(){p=Ue(l.doc,p);var le={from:p,to:p,text:l.doc.splitLines(y.filter(function(Oe){return Oe!=null}).join(l.doc.lineSeparator())),origin:"paste"};ls(l.doc,le),Bg(l.doc,Ko(Ue(l.doc,p),Ue(l.doc,qo(le))))})()},A=function(le,Oe){if(l.options.allowDropFileTypes&&ze(l.options.allowDropFileTypes,le.type)==-1){C();return}var Ve=new FileReader;Ve.onerror=function(){return C()},Ve.onload=function(){var Ge=Ve.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ge)){C();return}y[Oe]=Ge,C()},Ve.readAsText(le)},O=0;O<f.length;O++)A(f[O],O);else{if(l.state.draggingText&&l.doc.sel.contains(p)>-1){l.state.draggingText(a),setTimeout(function(){return l.display.input.focus()},20);return}try{var Y=a.dataTransfer.getData("Text");if(Y){var Q;if(l.state.draggingText&&!l.state.draggingText.copy&&(Q=l.listSelections()),nu(l.doc,Ko(p,p)),Q)for(var me=0;me<Q.length;++me)cs(l.doc,"",Q[me].anchor,Q[me].head,"drag");l.replaceSelection(Y,"around","paste"),l.display.input.focus()}}catch{}}}}function D2(a,l){if(c&&(!a.state.draggingText||+new Date-tv<100)){V(l);return}if(!(Je(a,l)||Fi(a.display,l))&&(l.dataTransfer.setData("Text",a.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!_)){var p=z("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),l.dataTransfer.setDragImage(p,0,0),m&&p.parentNode.removeChild(p)}}function M2(a,l){var p=_a(a,l);if(p){var f=document.createDocumentFragment();gg(a,p,f),a.display.dragCursor||(a.display.dragCursor=z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),L(a.display.dragCursor,f)}}function nv(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function rv(a){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),p=[],f=0;f<l.length;f++){var g=l[f].CodeMirror;g&&p.push(g)}p.length&&p[0].operation(function(){for(var y=0;y<p.length;y++)a(p[y])})}}var iv=!1;function k2(){iv||(P2(),iv=!0)}function P2(){var a;_e(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,rv(I2)},100))}),_e(window,"blur",function(){return rv(rs)})}function I2(a){var l=a.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,a.setSize()}for(var Xo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},kl=0;kl<10;kl++)Xo[kl+48]=Xo[kl+96]=String(kl);for(var ou=65;ou<=90;ou++)Xo[ou]=String.fromCharCode(ou);for(var Pl=1;Pl<=12;Pl++)Xo[Pl+111]=Xo[Pl+63235]="F"+Pl;var Ao={};Ao.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ao.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ao.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ao.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ao.default=R?Ao.macDefault:Ao.pcDefault;function L2(a){var l=a.split(/-(?!$)/);a=l[l.length-1];for(var p,f,g,y,b=0;b<l.length-1;b++){var C=l[b];if(/^(cmd|meta|m)$/i.test(C))y=!0;else if(/^a(lt)?$/i.test(C))p=!0;else if(/^(c|ctrl|control)$/i.test(C))f=!0;else if(/^s(hift)?$/i.test(C))g=!0;else throw new Error("Unrecognized modifier name: "+C)}return p&&(a="Alt-"+a),f&&(a="Ctrl-"+a),y&&(a="Cmd-"+a),g&&(a="Shift-"+a),a}function V2(a){var l={};for(var p in a)if(a.hasOwnProperty(p)){var f=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(f=="..."){delete a[p];continue}for(var g=pn(p.split(" "),L2),y=0;y<g.length;y++){var b=void 0,C=void 0;y==g.length-1?(C=g.join(" "),b=f):(C=g.slice(0,y+1).join(" "),b="...");var A=l[C];if(!A)l[C]=b;else if(A!=b)throw new Error("Inconsistent bindings for "+C)}delete a[p]}for(var O in l)a[O]=l[O];return a}function ds(a,l,p,f){l=au(l);var g=l.call?l.call(a,f):l[a];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&p(g))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return ds(a,l.fallthrough,p,f);for(var y=0;y<l.fallthrough.length;y++){var b=ds(a,l.fallthrough[y],p,f);if(b)return b}}}function ov(a){var l=typeof a=="string"?a:Xo[a.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function av(a,l,p){var f=a;return l.altKey&&f!="Alt"&&(a="Alt-"+a),(Te?l.metaKey:l.ctrlKey)&&f!="Ctrl"&&(a="Ctrl-"+a),(Te?l.ctrlKey:l.metaKey)&&f!="Mod"&&(a="Cmd-"+a),!p&&l.shiftKey&&f!="Shift"&&(a="Shift-"+a),a}function sv(a,l){if(m&&a.keyCode==34&&a.char)return!1;var p=Xo[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),av(p,a,l))}function au(a){return typeof a=="string"?Ao[a]:a}function fs(a,l){for(var p=a.doc.sel.ranges,f=[],g=0;g<p.length;g++){for(var y=l(p[g]);f.length&&St(y.from,xt(f).to)<=0;){var b=f.pop();if(St(b.from,y.from)<0){y.from=b.from;break}}f.push(y)}ni(a,function(){for(var C=f.length-1;C>=0;C--)cs(a.doc,"",f[C].from,f[C].to,"+delete");is(a)})}function Wf(a,l,p){var f=ce(a.text,l+p,p);return f<0||f>a.text.length?null:f}function Gf(a,l,p){var f=Wf(a,l.ch,p);return f==null?null:new Fe(l.line,f,p<0?"after":"before")}function Yf(a,l,p,f,g){if(a){l.doc.direction=="rtl"&&(g=-g);var y=k(p,l.doc.direction);if(y){var b=g<0?xt(y):y[0],C=g<0==(b.level==1),A=C?"after":"before",O;if(b.level>0||l.doc.direction=="rtl"){var Y=Pe(l,p);O=g<0?p.text.length-1:0;var Q=Qe(l,Y,O).top;O=gt(function(me){return Qe(l,Y,me).top==Q},g<0==(b.level==1)?b.from:b.to-1,O),A=="before"&&(O=Wf(p,O,1))}else O=g<0?b.to:b.from;return new Fe(f,O,A)}}return new Fe(f,g<0?p.text.length:0,g<0?"before":"after")}function R2(a,l,p,f){var g=k(l,a.doc.direction);if(!g)return Gf(l,p,f);p.ch>=l.text.length?(p.ch=l.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var y=H(g,p.ch,p.sticky),b=g[y];if(a.doc.direction=="ltr"&&b.level%2==0&&(f>0?b.to>p.ch:b.from<p.ch))return Gf(l,p,f);var C=function(rt,ft){return Wf(l,rt instanceof Fe?rt.ch:rt,ft)},A,O=function(rt){return a.options.lineWrapping?(A=A||Pe(a,l),dg(a,l,A,rt)):{begin:0,end:l.text.length}},Y=O(p.sticky=="before"?C(p,-1):p.ch);if(a.doc.direction=="rtl"||b.level==1){var Q=b.level==1==f<0,me=C(p,Q?1:-1);if(me!=null&&(Q?me<=b.to&&me<=Y.end:me>=b.from&&me>=Y.begin)){var le=Q?"before":"after";return new Fe(p.line,me,le)}}var Oe=function(rt,ft,it){for(var ht=function(ln,Jn){return Jn?new Fe(p.line,C(ln,1),"before"):new Fe(p.line,ln,"after")};rt>=0&&rt<g.length;rt+=ft){var At=g[rt],bt=ft>0==(At.level!=1),Ht=bt?it.begin:C(it.end,-1);if(At.from<=Ht&&Ht<At.to||(Ht=bt?At.from:C(At.to,-1),it.begin<=Ht&&Ht<it.end))return ht(Ht,bt)}},Ve=Oe(y+f,f,Y);if(Ve)return Ve;var Ge=f>0?Y.end:C(Y.begin,-1);return Ge!=null&&!(f>0&&Ge==l.text.length)&&(Ve=Oe(f>0?0:g.length-1,f,O(Ge)),Ve)?Ve:null}var Il={selectAll:Gg,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Me)},killLine:function(a){return fs(a,function(l){if(l.empty()){var p=dt(a.doc,l.head.line).text.length;return l.head.ch==p&&l.head.line<a.lastLine()?{from:l.head,to:Fe(l.head.line+1,0)}:{from:l.head,to:Fe(l.head.line,p)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(a){return fs(a,function(l){return{from:Fe(l.from().line,0),to:Ue(a.doc,Fe(l.to().line+1,0))}})},delLineLeft:function(a){return fs(a,function(l){return{from:Fe(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(a){return fs(a,function(l){var p=a.charCoords(l.head,"div").top+5,f=a.coordsChar({left:0,top:p},"div");return{from:f,to:l.from()}})},delWrappedLineRight:function(a){return fs(a,function(l){var p=a.charCoords(l.head,"div").top+5,f=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:l.from(),to:f}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Fe(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Fe(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(l){return lv(a,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(l){return cv(a,l.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(l){return F2(a,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},Ze)},goLineLeft:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},Ze)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5,f=a.coordsChar({left:0,top:p},"div");return f.ch<a.getLine(f.line).search(/\S/)?cv(a,l.head):f},Ze)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var l=[],p=a.listSelections(),f=a.options.tabSize,g=0;g<p.length;g++){var y=p[g].from(),b=xe(a.getLine(y.line),y.ch,f);l.push(zt(f-b%f))}a.replaceSelections(l)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return ni(a,function(){for(var l=a.listSelections(),p=[],f=0;f<l.length;f++)if(l[f].empty()){var g=l[f].head,y=dt(a.doc,g.line).text;if(y){if(g.ch==y.length&&(g=new Fe(g.line,g.ch-1)),g.ch>0)g=new Fe(g.line,g.ch+1),a.replaceRange(y.charAt(g.ch-1)+y.charAt(g.ch-2),Fe(g.line,g.ch-2),g,"+transpose");else if(g.line>a.doc.first){var b=dt(a.doc,g.line-1).text;b&&(g=new Fe(g.line,1),a.replaceRange(y.charAt(0)+a.doc.lineSeparator()+b.charAt(b.length-1),Fe(g.line-1,b.length-1),g,"+transpose"))}}p.push(new Xt(g,g))}a.setSelections(p)})},newlineAndIndent:function(a){return ni(a,function(){for(var l=a.listSelections(),p=l.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),l[p].anchor,l[p].head,"+input");l=a.listSelections();for(var f=0;f<l.length;f++)a.indentLine(l[f].from().line,null,!0);is(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function lv(a,l){var p=dt(a.doc,l),f=Vt(p);return f!=p&&(l=It(f)),Yf(!0,a,f,l,1)}function F2(a,l){var p=dt(a.doc,l),f=wt(p);return f!=p&&(l=It(f)),Yf(!0,a,p,l,-1)}function cv(a,l){var p=lv(a,l.line),f=dt(a.doc,p.line),g=k(f,a.doc.direction);if(!g||g[0].level==0){var y=Math.max(p.ch,f.text.search(/\S/)),b=l.line==p.line&&l.ch<=y&&l.ch;return Fe(p.line,b?0:y,p.sticky)}return p}function su(a,l,p){if(typeof l=="string"&&(l=Il[l],!l))return!1;a.display.input.ensurePolled();var f=a.display.shift,g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),g=l(a)!=Se}finally{a.display.shift=f,a.state.suppressEdits=!1}return g}function N2(a,l,p){for(var f=0;f<a.state.keyMaps.length;f++){var g=ds(l,a.state.keyMaps[f],p,a);if(g)return g}return a.options.extraKeys&&ds(l,a.options.extraKeys,p,a)||ds(l,a.options.keyMap,p,a)}var H2=new Ee;function Ll(a,l,p,f){var g=a.state.keySeq;if(g){if(ov(l))return"handled";if(/\'$/.test(l)?a.state.keySeq=null:H2.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())}),uv(a,g+" "+l,p,f))return!0}return uv(a,l,p,f)}function uv(a,l,p,f){var g=N2(a,l,f);return g=="multi"&&(a.state.keySeq=l),g=="handled"&&Tn(a,"keyHandled",a,l,p),(g=="handled"||g=="multi")&&(Bt(p),Of(a)),!!g}function dv(a,l){var p=sv(l,!0);return p?l.shiftKey&&!a.state.keySeq?Ll(a,"Shift-"+p,l,function(f){return su(a,f,!0)})||Ll(a,p,l,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return su(a,f)}):Ll(a,p,l,function(f){return su(a,f)}):!1}function B2(a,l,p){return Ll(a,"'"+p+"'",l,function(f){return su(a,f,!0)})}var Zf=null;function fv(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&(l.curOp.focus=be(),!Je(l,a))){c&&u<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;l.display.shift=p==16||a.shiftKey;var f=dv(l,a);m&&(Zf=f?p:null,!f&&p==88&&!qr&&(R?a.metaKey:a.ctrlKey)&&l.replaceSelection("",null,"cut")),t&&!R&&!f&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&j2(l)}}function j2(a){var l=a.display.lineDiv;we(l,"CodeMirror-crosshair");function p(f){(f.keyCode==18||!f.altKey)&&(he(l,"CodeMirror-crosshair"),lt(document,"keyup",p),lt(document,"mouseover",p))}_e(document,"keyup",p),_e(document,"mouseover",p)}function pv(a){a.keyCode==16&&(this.doc.sel.shift=!1),Je(this,a)}function hv(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&!(Fi(l.display,a)||Je(l,a)||a.ctrlKey&&!a.altKey||R&&a.metaKey)){var p=a.keyCode,f=a.charCode;if(m&&p==Zf){Zf=null,Bt(a);return}if(!(m&&(!a.which||a.which<10)&&dv(l,a))){var g=String.fromCharCode(f??p);g!="\b"&&(B2(l,a,g)||l.display.input.onKeyPress(a))}}}var z2=400,Kf=function(a,l,p){this.time=a,this.pos=l,this.button=p};Kf.prototype.compare=function(a,l,p){return this.time+z2>a&&St(l,this.pos)==0&&p==this.button};var Vl,Rl;function U2(a,l){var p=+new Date;return Rl&&Rl.compare(p,a,l)?(Vl=Rl=null,"triple"):Vl&&Vl.compare(p,a,l)?(Rl=new Kf(p,a,l),Vl=null,"double"):(Vl=new Kf(p,a,l),Rl=null,"single")}function gv(a){var l=this,p=l.display;if(!(Je(l,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,Fi(p,a)){d||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!qf(l,a)){var f=_a(l,a),g=fe(a),y=f?U2(f,g):"single";window.focus(),g==1&&l.state.selectingText&&l.state.selectingText(a),!(f&&W2(l,g,f,y,a))&&(g==1?f?Y2(l,f,y,a):J(a)==p.scroller&&Bt(a):g==2?(f&&tu(l.doc,f),setTimeout(function(){return p.input.focus()},20)):g==3&&(pe?l.display.input.onContextMenu(a):Df(l)))}}}function W2(a,l,p,f,g){var y="Click";return f=="double"?y="Double"+y:f=="triple"&&(y="Triple"+y),y=(l==1?"Left":l==2?"Middle":"Right")+y,Ll(a,av(y,g),g,function(b){if(typeof b=="string"&&(b=Il[b]),!b)return!1;var C=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),C=b(a,p)!=Se}finally{a.state.suppressEdits=!1}return C})}function G2(a,l,p){var f=a.getOption("configureMouse"),g=f?f(a,l,p):{};if(g.unit==null){var y=W?p.shiftKey&&p.metaKey:p.altKey;g.unit=y?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(g.extend==null||a.doc.extend)&&(g.extend=a.doc.extend||p.shiftKey),g.addNew==null&&(g.addNew=R?p.metaKey:p.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(R?p.altKey:p.ctrlKey)),g}function Y2(a,l,p,f){c?setTimeout(ct(vg,a),0):a.curOp.focus=be();var g=G2(a,p,f),y=a.doc.sel,b;a.options.dragDrop&&Ie&&!a.isReadOnly()&&p=="single"&&(b=y.contains(l))>-1&&(St((b=y.ranges[b]).from(),l)<0||l.xRel>0)&&(St(b.to(),l)>0||l.xRel<0)?Z2(a,f,l,g):K2(a,f,l,g)}function Z2(a,l,p,f){var g=a.display,y=!1,b=Qn(a,function(O){d&&(g.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:Df(a)),lt(g.wrapper.ownerDocument,"mouseup",b),lt(g.wrapper.ownerDocument,"mousemove",C),lt(g.scroller,"dragstart",A),lt(g.scroller,"drop",b),y||(Bt(O),f.addNew||tu(a.doc,p,null,null,f.extend),d&&!_||c&&u==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),C=function(O){y=y||Math.abs(l.clientX-O.clientX)+Math.abs(l.clientY-O.clientY)>=10},A=function(){return y=!0};d&&(g.scroller.draggable=!0),a.state.draggingText=b,b.copy=!f.moveOnDrag,_e(g.wrapper.ownerDocument,"mouseup",b),_e(g.wrapper.ownerDocument,"mousemove",C),_e(g.scroller,"dragstart",A),_e(g.scroller,"drop",b),a.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function vv(a,l,p){if(p=="char")return new Xt(l,l);if(p=="word")return a.findWordAt(l);if(p=="line")return new Xt(Fe(l.line,0),Ue(a.doc,Fe(l.line+1,0)));var f=p(a,l);return new Xt(f.from,f.to)}function K2(a,l,p,f){c&&Df(a);var g=a.display,y=a.doc;Bt(l);var b,C,A=y.sel,O=A.ranges;if(f.addNew&&!f.extend?(C=y.sel.contains(p),C>-1?b=O[C]:b=new Xt(p,p)):(b=y.sel.primary(),C=y.sel.primIndex),f.unit=="rectangle")f.addNew||(b=new Xt(p,p)),p=_a(a,l,!0,!0),C=-1;else{var Y=vv(a,p,f.unit);f.extend?b=zf(b,Y.anchor,Y.head,f.extend):b=Y}f.addNew?C==-1?(C=O.length,cr(y,to(a,O.concat([b]),C),{scroll:!1,origin:"*mouse"})):O.length>1&&O[C].empty()&&f.unit=="char"&&!f.extend?(cr(y,to(a,O.slice(0,C).concat(O.slice(C+1)),0),{scroll:!1,origin:"*mouse"}),A=y.sel):Uf(y,C,b,Ke):(C=0,cr(y,new Ei([b],0),Ke),A=y.sel);var Q=p;function me(it){if(St(Q,it)!=0)if(Q=it,f.unit=="rectangle"){for(var ht=[],At=a.options.tabSize,bt=xe(dt(y,p.line).text,p.ch,At),Ht=xe(dt(y,it.line).text,it.ch,At),ln=Math.min(bt,Ht),Jn=Math.max(bt,Ht),wn=Math.min(p.line,it.line),ri=Math.min(a.lastLine(),Math.max(p.line,it.line));wn<=ri;wn++){var Fr=dt(y,wn).text,Fn=We(Fr,ln,At);ln==Jn?ht.push(new Xt(Fe(wn,Fn),Fe(wn,Fn))):Fr.length>Fn&&ht.push(new Xt(Fe(wn,Fn),Fe(wn,We(Fr,Jn,At))))}ht.length||ht.push(new Xt(p,p)),cr(y,to(a,A.ranges.slice(0,C).concat(ht),C),{origin:"*mouse",scroll:!1}),a.scrollIntoView(it)}else{var Nr=b,or=vv(a,it,f.unit),Zn=Nr.anchor,Nn;St(or.anchor,Zn)>0?(Nn=or.head,Zn=De(Nr.from(),or.anchor)):(Nn=or.anchor,Zn=$(Nr.to(),or.head));var On=A.ranges.slice(0);On[C]=q2(a,new Xt(Ue(y,Zn),Nn)),cr(y,to(a,On,C),Ke)}}var le=g.wrapper.getBoundingClientRect(),Oe=0;function Ve(it){var ht=++Oe,At=_a(a,it,!0,f.unit=="rectangle");if(At)if(St(At,Q)!=0){a.curOp.focus=be(),me(At);var bt=qc(g,y);(At.line>=bt.to||At.line<bt.from)&&setTimeout(Qn(a,function(){Oe==ht&&Ve(it)}),150)}else{var Ht=it.clientY<le.top?-20:it.clientY>le.bottom?20:0;Ht&&setTimeout(Qn(a,function(){Oe==ht&&(g.scroller.scrollTop+=Ht,Ve(it))}),50)}}function Ge(it){a.state.selectingText=!1,Oe=1/0,it&&(Bt(it),g.input.focus()),lt(g.wrapper.ownerDocument,"mousemove",rt),lt(g.wrapper.ownerDocument,"mouseup",ft),y.history.lastSelOrigin=null}var rt=Qn(a,function(it){it.buttons===0||!fe(it)?Ge(it):Ve(it)}),ft=Qn(a,Ge);a.state.selectingText=ft,_e(g.wrapper.ownerDocument,"mousemove",rt),_e(g.wrapper.ownerDocument,"mouseup",ft)}function q2(a,l){var p=l.anchor,f=l.head,g=dt(a.doc,p.line);if(St(p,f)==0&&p.sticky==f.sticky)return l;var y=k(g);if(!y)return l;var b=H(y,p.ch,p.sticky),C=y[b];if(C.from!=p.ch&&C.to!=p.ch)return l;var A=b+(C.from==p.ch==(C.level!=1)?0:1);if(A==0||A==y.length)return l;var O;if(f.line!=p.line)O=(f.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var Y=H(y,f.ch,f.sticky),Q=Y-b||(f.ch-p.ch)*(C.level==1?-1:1);Y==A-1||Y==A?O=Q<0:O=Q>0}var me=y[A+(O?-1:0)],le=O==(me.level==1),Oe=le?me.from:me.to,Ve=le?"after":"before";return p.ch==Oe&&p.sticky==Ve?l:new Xt(new Fe(p.line,Oe,Ve),f)}function mv(a,l,p,f){var g,y;if(l.touches)g=l.touches[0].clientX,y=l.touches[0].clientY;else try{g=l.clientX,y=l.clientY}catch{return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;f&&Bt(l);var b=a.display,C=b.lineDiv.getBoundingClientRect();if(y>C.bottom||!Nt(a,p))return jn(l);y-=C.top-b.viewOffset;for(var A=0;A<a.display.gutterSpecs.length;++A){var O=b.gutters.childNodes[A];if(O&&O.getBoundingClientRect().right>=g){var Y=on(a.doc,y),Q=a.display.gutterSpecs[A];return st(a,p,a,Y,Q.className,l),jn(l)}}}function qf(a,l){return mv(a,l,"gutterClick",!0)}function yv(a,l){Fi(a.display,l)||$2(a,l)||Je(a,l,"contextmenu")||pe||a.display.input.onContextMenu(l)}function $2(a,l){return Nt(a,"gutterContextMenu")?mv(a,l,"gutterContextMenu",!1):!1}function _v(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),vl(a)}var ps={toString:function(){return"CodeMirror.Init"}},bv={},lu={};function Q2(a){var l=a.optionHandlers;function p(f,g,y,b){a.defaults[f]=g,y&&(l[f]=b?function(C,A,O){O!=ps&&y(C,A,O)}:y)}a.defineOption=p,a.Init=ps,p("value","",function(f,g){return f.setValue(g)},!0),p("mode",null,function(f,g){f.doc.modeOption=g,Hf(f)},!0),p("indentUnit",2,Hf,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(f){Al(f),vl(f),Vr(f)},!0),p("lineSeparator",null,function(f,g){if(f.doc.lineSep=g,!!g){var y=[],b=f.doc.first;f.doc.iter(function(A){for(var O=0;;){var Y=A.text.indexOf(g,O);if(Y==-1)break;O=Y+g.length,y.push(Fe(b,Y))}b++});for(var C=y.length-1;C>=0;C--)cs(f.doc,g,y[C],Fe(y[C].line,y[C].ch+g.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(f,g,y){f.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),y!=ps&&f.refresh()}),p("specialCharPlaceholder",Ic,function(f){return f.refresh()},!0),p("electricChars",!0),p("inputStyle",U?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(f,g){return f.getInputField().spellcheck=g},!0),p("autocorrect",!1,function(f,g){return f.getInputField().autocorrect=g},!0),p("autocapitalize",!1,function(f,g){return f.getInputField().autocapitalize=g},!0),p("rtlMoveVisually",!de),p("wholeLineUpdateBefore",!0),p("theme","default",function(f){_v(f),xl(f)},!0),p("keyMap","default",function(f,g,y){var b=au(g),C=y!=ps&&au(y);C&&C.detach&&C.detach(f,b),b.attach&&b.attach(f,C||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,J2,!0),p("gutters",[],function(f,g){f.display.gutterSpecs=Ff(g,f.options.lineNumbers),xl(f)},!0),p("fixedGutter",!0,function(f,g){f.display.gutters.style.left=g?Ef(f.display)+"px":"0",f.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(f){return os(f)},!0),p("scrollbarStyle","native",function(f){Cg(f),os(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),p("lineNumbers",!1,function(f,g){f.display.gutterSpecs=Ff(f.options.gutters,g),xl(f)},!0),p("firstLineNumber",1,xl,!0),p("lineNumberFormatter",function(f){return f},xl,!0),p("showCursorWhenSelecting",!1,ml,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(f,g){g=="nocursor"&&(rs(f),f.display.input.blur()),f.display.input.readOnlyChanged(g)}),p("screenReaderLabel",null,function(f,g){g=g===""?null:g,f.display.input.screenReaderLabelChanged(g)}),p("disableInput",!1,function(f,g){g||f.display.input.reset()},!0),p("dragDrop",!0,X2),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,ml,!0),p("singleCursorHeightPerLine",!0,ml,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Al,!0),p("addModeClass",!1,Al,!0),p("pollInterval",100),p("undoDepth",200,function(f,g){return f.doc.history.undoDepth=g}),p("historyEventDelay",1250),p("viewportMargin",10,function(f){return f.refresh()},!0),p("maxHighlightLength",1e4,Al,!0),p("moveInputWithCursor",!0,function(f,g){g||f.display.input.resetPosition()}),p("tabindex",null,function(f,g){return f.display.input.getField().tabIndex=g||""}),p("autofocus",null),p("direction","ltr",function(f,g){return f.doc.setDirection(g)},!0),p("phrases",null)}function X2(a,l,p){var f=p&&p!=ps;if(!l!=!f){var g=a.display.dragFunctions,y=l?_e:lt;y(a.display.scroller,"dragstart",g.start),y(a.display.scroller,"dragenter",g.enter),y(a.display.scroller,"dragover",g.over),y(a.display.scroller,"dragleave",g.leave),y(a.display.scroller,"drop",g.drop)}}function J2(a){a.options.lineWrapping?(we(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(he(a.display.wrapper,"CodeMirror-wrap"),No(a)),Tf(a),Vr(a),vl(a),setTimeout(function(){return os(a)},100)}function mn(a,l){var p=this;if(!(this instanceof mn))return new mn(a,l);this.options=l=l?Ot(l):{},Ot(bv,l,!1);var f=l.value;typeof f=="string"?f=new Rr(f,l.mode,null,l.lineSeparator,l.direction):l.mode&&(f.modeOption=l.mode),this.doc=f;var g=new mn.inputStyles[l.inputStyle](this),y=this.display=new f2(a,f,g,l);y.wrapper.CodeMirror=this,_v(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Cg(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ee,keySeq:null,specialChars:null},l.autofocus&&!U&&y.input.focus(),c&&u<11&&setTimeout(function(){return p.display.input.reset(!0)},20),eb(this),k2(),xa(this),this.curOp.forceUpdate=!0,Pg(this,f),l.autofocus&&!U||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Mf(p)},20):rs(this);for(var b in lu)lu.hasOwnProperty(b)&&lu[b](this,l[b],ps);Sg(this),l.finishInit&&l.finishInit(this);for(var C=0;C<$f.length;++C)$f[C](this);Aa(this),d&&l.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}mn.defaults=bv,mn.optionHandlers=lu;function eb(a){var l=a.display;_e(l.scroller,"mousedown",Qn(a,gv)),c&&u<11?_e(l.scroller,"dblclick",Qn(a,function(A){if(!Je(a,A)){var O=_a(a,A);if(!(!O||qf(a,A)||Fi(a.display,A))){Bt(A);var Y=a.findWordAt(O);tu(a.doc,Y.anchor,Y.head)}}})):_e(l.scroller,"dblclick",function(A){return Je(a,A)||Bt(A)}),_e(l.scroller,"contextmenu",function(A){return yv(a,A)}),_e(l.input.getField(),"contextmenu",function(A){l.scroller.contains(A.target)||yv(a,A)});var p,f={end:0};function g(){l.activeTouch&&(p=setTimeout(function(){return l.activeTouch=null},1e3),f=l.activeTouch,f.end=+new Date)}function y(A){if(A.touches.length!=1)return!1;var O=A.touches[0];return O.radiusX<=1&&O.radiusY<=1}function b(A,O){if(O.left==null)return!0;var Y=O.left-A.left,Q=O.top-A.top;return Y*Y+Q*Q>400}_e(l.scroller,"touchstart",function(A){if(!Je(a,A)&&!y(A)&&!qf(a,A)){l.input.ensurePolled(),clearTimeout(p);var O=+new Date;l.activeTouch={start:O,moved:!1,prev:O-f.end<=300?f:null},A.touches.length==1&&(l.activeTouch.left=A.touches[0].pageX,l.activeTouch.top=A.touches[0].pageY)}}),_e(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),_e(l.scroller,"touchend",function(A){var O=l.activeTouch;if(O&&!Fi(l,A)&&O.left!=null&&!O.moved&&new Date-O.start<300){var Y=a.coordsChar(l.activeTouch,"page"),Q;!O.prev||b(O,O.prev)?Q=new Xt(Y,Y):!O.prev.prev||b(O,O.prev.prev)?Q=a.findWordAt(Y):Q=new Xt(Fe(Y.line,0),Ue(a.doc,Fe(Y.line+1,0))),a.setSelection(Q.anchor,Q.head),a.focus(),Bt(A)}g()}),_e(l.scroller,"touchcancel",g),_e(l.scroller,"scroll",function(){l.scroller.clientHeight&&(_l(a,l.scroller.scrollTop),wa(a,l.scroller.scrollLeft,!0),st(a,"scroll",a))}),_e(l.scroller,"mousewheel",function(A){return Og(a,A)}),_e(l.scroller,"DOMMouseScroll",function(A){return Og(a,A)}),_e(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(A){Je(a,A)||V(A)},over:function(A){Je(a,A)||(M2(a,A),V(A))},start:function(A){return D2(a,A)},drop:Qn(a,O2),leave:function(A){Je(a,A)||nv(a)}};var C=l.input.getField();_e(C,"keyup",function(A){return pv.call(a,A)}),_e(C,"keydown",Qn(a,fv)),_e(C,"keypress",Qn(a,hv)),_e(C,"focus",function(A){return Mf(a,A)}),_e(C,"blur",function(A){return rs(a,A)})}var $f=[];mn.defineInitHook=function(a){return $f.push(a)};function Fl(a,l,p,f){var g=a.doc,y;p==null&&(p="add"),p=="smart"&&(g.mode.indent?y=Lr(a,l).state:p="prev");var b=a.options.tabSize,C=dt(g,l),A=xe(C.text,null,b);C.stateAfter&&(C.stateAfter=null);var O=C.text.match(/^\s*/)[0],Y;if(!f&&!/\S/.test(C.text))Y=0,p="not";else if(p=="smart"&&(Y=g.mode.indent(y,C.text.slice(O.length),C.text),Y==Se||Y>150)){if(!f)return;p="prev"}p=="prev"?l>g.first?Y=xe(dt(g,l-1).text,null,b):Y=0:p=="add"?Y=A+a.options.indentUnit:p=="subtract"?Y=A-a.options.indentUnit:typeof p=="number"&&(Y=A+p),Y=Math.max(0,Y);var Q="",me=0;if(a.options.indentWithTabs)for(var le=Math.floor(Y/b);le;--le)me+=b,Q+="	";if(me<Y&&(Q+=zt(Y-me)),Q!=O)return cs(g,Q,Fe(l,0),Fe(l,O.length),"+input"),C.stateAfter=null,!0;for(var Oe=0;Oe<g.sel.ranges.length;Oe++){var Ve=g.sel.ranges[Oe];if(Ve.head.line==l&&Ve.head.ch<O.length){var Ge=Fe(l,O.length);Uf(g,Oe,new Xt(Ge,Ge));break}}}var no=null;function cu(a){no=a}function Qf(a,l,p,f,g){var y=a.doc;a.display.shift=!1,f||(f=y.sel);var b=+new Date-200,C=g=="paste"||a.state.pasteIncoming>b,A=an(l),O=null;if(C&&f.ranges.length>1)if(no&&no.text.join(`
`)==l){if(f.ranges.length%no.text.length==0){O=[];for(var Y=0;Y<no.text.length;Y++)O.push(y.splitLines(no.text[Y]))}}else A.length==f.ranges.length&&a.options.pasteLinesPerSelection&&(O=pn(A,function(rt){return[rt]}));for(var Q=a.curOp.updateInput,me=f.ranges.length-1;me>=0;me--){var le=f.ranges[me],Oe=le.from(),Ve=le.to();le.empty()&&(p&&p>0?Oe=Fe(Oe.line,Oe.ch-p):a.state.overwrite&&!C?Ve=Fe(Ve.line,Math.min(dt(y,Ve.line).text.length,Ve.ch+xt(A).length)):C&&no&&no.lineWise&&no.text.join(`
`)==A.join(`
`)&&(Oe=Ve=Fe(Oe.line,0)));var Ge={from:Oe,to:Ve,text:O?O[me%O.length]:A,origin:g||(C?"paste":a.state.cutIncoming>b?"cut":"+input")};ls(a.doc,Ge),Tn(a,"inputRead",a,Ge)}l&&!C&&Cv(a,l),is(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Q),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function wv(a,l){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&ni(l,function(){return Qf(l,p,0,null,"paste")}),!0}function Cv(a,l){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,f=p.ranges.length-1;f>=0;f--){var g=p.ranges[f];if(!(g.head.ch>100||f&&p.ranges[f-1].head.line==g.head.line)){var y=a.getModeAt(g.head),b=!1;if(y.electricChars){for(var C=0;C<y.electricChars.length;C++)if(l.indexOf(y.electricChars.charAt(C))>-1){b=Fl(a,g.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(dt(a.doc,g.head.line).text.slice(0,g.head.ch))&&(b=Fl(a,g.head.line,"smart"));b&&Tn(a,"electricInput",a,g.head.line)}}}function xv(a){for(var l=[],p=[],f=0;f<a.doc.sel.ranges.length;f++){var g=a.doc.sel.ranges[f].head.line,y={anchor:Fe(g,0),head:Fe(g+1,0)};p.push(y),l.push(a.getRange(y.anchor,y.head))}return{text:l,ranges:p}}function Av(a,l,p,f){a.setAttribute("autocorrect",p?"":"off"),a.setAttribute("autocapitalize",f?"":"off"),a.setAttribute("spellcheck",!!l)}function Sv(){var a=z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),l=z("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?a.style.width="1000px":a.setAttribute("wrap","off"),E&&(a.style.border="1px solid black"),Av(a),l}function tb(a){var l=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(f,g){var y=this.options,b=y[f];y[f]==g&&f!="mode"||(y[f]=g,l.hasOwnProperty(f)&&Qn(this,l[f])(this,g,b),st(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,g){this.state.keyMaps[g?"push":"unshift"](au(f))},removeKeyMap:function(f){for(var g=this.state.keyMaps,y=0;y<g.length;++y)if(g[y]==f||g[y].name==f)return g.splice(y,1),!0},addOverlay:vr(function(f,g){var y=f.token?f:a.getMode(this.options,f);if(y.startState)throw new Error("Overlays may not be stateful.");tn(this.state.overlays,{mode:y,modeSpec:f,opaque:g&&g.opaque,priority:g&&g.priority||0},function(b){return b.priority}),this.state.modeGen++,Vr(this)}),removeOverlay:vr(function(f){for(var g=this.state.overlays,y=0;y<g.length;++y){var b=g[y].modeSpec;if(b==f||typeof f=="string"&&b.name==f){g.splice(y,1),this.state.modeGen++,Vr(this);return}}}),indentLine:vr(function(f,g,y){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),_i(this.doc,f)&&Fl(this,f,g,y)}),indentSelection:vr(function(f){for(var g=this.doc.sel.ranges,y=-1,b=0;b<g.length;b++){var C=g[b];if(C.empty())C.head.line>y&&(Fl(this,C.head.line,f,!0),y=C.head.line,b==this.doc.sel.primIndex&&is(this));else{var A=C.from(),O=C.to(),Y=Math.max(y,A.line);y=Math.min(this.lastLine(),O.line-(O.ch?0:1))+1;for(var Q=Y;Q<y;++Q)Fl(this,Q,f);var me=this.doc.sel.ranges;A.ch==0&&g.length==me.length&&me[b].from().ch>0&&Uf(this.doc,b,new Xt(A,me[b].to()),Me)}}}),getTokenAt:function(f,g){return pa(this,f,g)},getLineTokens:function(f,g){return pa(this,Fe(f),g,!0)},getTokenTypeAt:function(f){f=Ue(this.doc,f);var g=wi(this,dt(this.doc,f.line)),y=0,b=(g.length-1)/2,C=f.ch,A;if(C==0)A=g[2];else for(;;){var O=y+b>>1;if((O?g[O*2-1]:0)>=C)b=O;else if(g[O*2+1]<C)y=O+1;else{A=g[O*2+2];break}}var Y=A?A.indexOf("overlay "):-1;return Y<0?A:Y==0?null:A.slice(0,Y-1)},getModeAt:function(f){var g=this.doc.mode;return g.innerMode?a.innerMode(g,this.getTokenAt(f).state).mode:g},getHelper:function(f,g){return this.getHelpers(f,g)[0]},getHelpers:function(f,g){var y=[];if(!p.hasOwnProperty(g))return y;var b=p[g],C=this.getModeAt(f);if(typeof C[g]=="string")b[C[g]]&&y.push(b[C[g]]);else if(C[g])for(var A=0;A<C[g].length;A++){var O=b[C[g][A]];O&&y.push(O)}else C.helperType&&b[C.helperType]?y.push(b[C.helperType]):b[C.name]&&y.push(b[C.name]);for(var Y=0;Y<b._global.length;Y++){var Q=b._global[Y];Q.pred(C,this)&&ze(y,Q.val)==-1&&y.push(Q.val)}return y},getStateAfter:function(f,g){var y=this.doc;return f=je(y,f??y.first+y.size-1),Lr(this,f+1,g).state},cursorCoords:function(f,g){var y,b=this.doc.sel.primary();return f==null?y=b.head:typeof f=="object"?y=Ue(this.doc,f):y=f?b.from():b.to(),eo(this,y,g||"page")},charCoords:function(f,g){return Gc(this,Ue(this.doc,f),g||"page")},coordsChar:function(f,g){return f=lg(this,f,g||"page"),xf(this,f.left,f.top)},lineAtHeight:function(f,g){return f=lg(this,{top:f,left:0},g||"page").top,on(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,g,y){var b=!1,C;if(typeof f=="number"){var A=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>A&&(f=A,b=!0),C=dt(this.doc,f)}else C=f;return Wc(this,C,{top:0,left:0},g||"page",y||b).top+(b?this.doc.height-ei(C):0)},defaultTextHeight:function(){return ts(this.display)},defaultCharWidth:function(){return ns(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,g,y,b,C){var A=this.display;f=eo(this,Ue(this.doc,f));var O=f.bottom,Y=f.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),A.sizer.appendChild(g),b=="over")O=f.top;else if(b=="above"||b=="near"){var Q=Math.max(A.wrapper.clientHeight,this.doc.height),me=Math.max(A.sizer.clientWidth,A.lineSpace.clientWidth);(b=="above"||f.bottom+g.offsetHeight>Q)&&f.top>g.offsetHeight?O=f.top-g.offsetHeight:f.bottom+g.offsetHeight<=Q&&(O=f.bottom),Y+g.offsetWidth>me&&(Y=me-g.offsetWidth)}g.style.top=O+"px",g.style.left=g.style.right="",C=="right"?(Y=A.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(C=="left"?Y=0:C=="middle"&&(Y=(A.sizer.clientWidth-g.offsetWidth)/2),g.style.left=Y+"px"),y&&X_(this,{left:Y,top:O,right:Y+g.offsetWidth,bottom:O+g.offsetHeight})},triggerOnKeyDown:vr(fv),triggerOnKeyPress:vr(hv),triggerOnKeyUp:pv,triggerOnMouseDown:vr(gv),execCommand:function(f){if(Il.hasOwnProperty(f))return Il[f].call(null,this)},triggerElectric:vr(function(f){Cv(this,f)}),findPosH:function(f,g,y,b){var C=1;g<0&&(C=-1,g=-g);for(var A=Ue(this.doc,f),O=0;O<g&&(A=Xf(this.doc,A,C,y,b),!A.hitSide);++O);return A},moveH:vr(function(f,g){var y=this;this.extendSelectionsBy(function(b){return y.display.shift||y.doc.extend||b.empty()?Xf(y.doc,b.head,f,g,y.options.rtlMoveVisually):f<0?b.from():b.to()},Ze)}),deleteH:vr(function(f,g){var y=this.doc.sel,b=this.doc;y.somethingSelected()?b.replaceSelection("",null,"+delete"):fs(this,function(C){var A=Xf(b,C.head,f,g,!1);return f<0?{from:A,to:C.head}:{from:C.head,to:A}})}),findPosV:function(f,g,y,b){var C=1,A=b;g<0&&(C=-1,g=-g);for(var O=Ue(this.doc,f),Y=0;Y<g;++Y){var Q=eo(this,O,"div");if(A==null?A=Q.left:Q.left=A,O=Ev(this,Q,C,y),O.hitSide)break}return O},moveV:vr(function(f,g){var y=this,b=this.doc,C=[],A=!this.display.shift&&!b.extend&&b.sel.somethingSelected();if(b.extendSelectionsBy(function(Y){if(A)return f<0?Y.from():Y.to();var Q=eo(y,Y.head,"div");Y.goalColumn!=null&&(Q.left=Y.goalColumn),C.push(Q.left);var me=Ev(y,Q,f,g);return g=="page"&&Y==b.sel.primary()&&Pf(y,Gc(y,me,"div").top-Q.top),me},Ze),C.length)for(var O=0;O<b.sel.ranges.length;O++)b.sel.ranges[O].goalColumn=C[O]}),findWordAt:function(f){var g=this.doc,y=dt(g,f.line).text,b=f.ch,C=f.ch;if(y){var A=this.getHelper(f,"wordChars");(f.sticky=="before"||C==y.length)&&b?--b:++C;for(var O=y.charAt(b),Y=ue(O,A)?function(Q){return ue(Q,A)}:/\s/.test(O)?function(Q){return/\s/.test(Q)}:function(Q){return!/\s/.test(Q)&&!ue(Q)};b>0&&Y(y.charAt(b-1));)--b;for(;C<y.length&&Y(y.charAt(C));)++C}return new Xt(Fe(f.line,b),Fe(f.line,C))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?we(this.display.cursorDiv,"CodeMirror-overwrite"):he(this.display.cursorDiv,"CodeMirror-overwrite"),st(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==be()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:vr(function(f,g){yl(this,f,g)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-ti(this)-this.display.barHeight,width:f.scrollWidth-ti(this)-this.display.barWidth,clientHeight:S(this),clientWidth:xo(this)}},scrollIntoView:vr(function(f,g){f==null?(f={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof f=="number"?f={from:Fe(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=g||0,f.from.line!=null?J_(this,f):yg(this,f.from,f.to,f.margin)}),setSize:vr(function(f,g){var y=this,b=function(A){return typeof A=="number"||/^\d+$/.test(String(A))?A+"px":A};f!=null&&(this.display.wrapper.style.width=b(f)),g!=null&&(this.display.wrapper.style.height=b(g)),this.options.lineWrapping&&og(this);var C=this.display.viewFrom;this.doc.iter(C,this.display.viewTo,function(A){if(A.widgets){for(var O=0;O<A.widgets.length;O++)if(A.widgets[O].noHScroll){Yo(y,C,"widget");break}}++C}),this.curOp.forceUpdate=!0,st(this,"refresh",this)}),operation:function(f){return ni(this,f)},startOperation:function(){return xa(this)},endOperation:function(){return Aa(this)},refresh:vr(function(){var f=this.display.cachedTextHeight;Vr(this),this.curOp.forceUpdate=!0,vl(this),yl(this,this.doc.scrollLeft,this.doc.scrollTop),Vf(this.display),(f==null||Math.abs(f-ts(this.display))>.5||this.options.lineWrapping)&&Tf(this),st(this,"refresh",this)}),swapDoc:vr(function(f){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Pg(this,f),vl(this),this.display.input.reset(),yl(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,Tn(this,"swapDoc",this,g),g}),phrase:function(f){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,f)?g[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ut(a),a.registerHelper=function(f,g,y){p.hasOwnProperty(f)||(p[f]=a[f]={_global:[]}),p[f][g]=y},a.registerGlobalHelper=function(f,g,y,b){a.registerHelper(f,g,b),p[f]._global.push({pred:y,val:b})}}function Xf(a,l,p,f,g){var y=l,b=p,C=dt(a,l.line),A=g&&a.direction=="rtl"?-p:p;function O(){var ft=l.line+A;return ft<a.first||ft>=a.first+a.size?!1:(l=new Fe(ft,l.ch,l.sticky),C=dt(a,ft))}function Y(ft){var it;if(f=="codepoint"){var ht=C.text.charCodeAt(l.ch+(p>0?0:-1));if(isNaN(ht))it=null;else{var At=p>0?ht>=55296&&ht<56320:ht>=56320&&ht<57343;it=new Fe(l.line,Math.max(0,Math.min(C.text.length,l.ch+p*(At?2:1))),-p)}}else g?it=R2(a.cm,C,l,p):it=Gf(C,l,p);if(it==null)if(!ft&&O())l=Yf(g,a.cm,C,l.line,A);else return!1;else l=it;return!0}if(f=="char"||f=="codepoint")Y();else if(f=="column")Y(!0);else if(f=="word"||f=="group")for(var Q=null,me=f=="group",le=a.cm&&a.cm.getHelper(l,"wordChars"),Oe=!0;!(p<0&&!Y(!Oe));Oe=!1){var Ve=C.text.charAt(l.ch)||`
`,Ge=ue(Ve,le)?"w":me&&Ve==`
`?"n":!me||/\s/.test(Ve)?null:"p";if(me&&!Oe&&!Ge&&(Ge="s"),Q&&Q!=Ge){p<0&&(p=1,Y(),l.sticky="after");break}if(Ge&&(Q=Ge),p>0&&!Y(!Oe))break}var rt=ru(a,l,y,b,!0);return Ir(y,rt)&&(rt.hitSide=!0),rt}function Ev(a,l,p,f){var g=a.doc,y=l.left,b;if(f=="page"){var C=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),A=Math.max(C-.5*ts(a.display),3);b=(p>0?l.bottom:l.top)+p*A}else f=="line"&&(b=p>0?l.bottom+3:l.top-3);for(var O;O=xf(a,y,b),!!O.outside;){if(p<0?b<=0:b>=g.height){O.hitSide=!0;break}b+=p*5}return O}var rn=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ee,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};rn.prototype.init=function(a){var l=this,p=this,f=p.cm,g=p.div=a.lineDiv;g.contentEditable=!0,Av(g,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function y(C){for(var A=C.target;A;A=A.parentNode){if(A==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(A.className))break}return!1}_e(g,"paste",function(C){!y(C)||Je(f,C)||wv(C,f)||u<=11&&setTimeout(Qn(f,function(){return l.updateFromDOM()}),20)}),_e(g,"compositionstart",function(C){l.composing={data:C.data,done:!1}}),_e(g,"compositionupdate",function(C){l.composing||(l.composing={data:C.data,done:!1})}),_e(g,"compositionend",function(C){l.composing&&(C.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),_e(g,"touchstart",function(){return p.forceCompositionEnd()}),_e(g,"input",function(){l.composing||l.readFromDOMSoon()});function b(C){if(!(!y(C)||Je(f,C))){if(f.somethingSelected())cu({lineWise:!1,text:f.getSelections()}),C.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var A=xv(f);cu({lineWise:!0,text:A.text}),C.type=="cut"&&f.operation(function(){f.setSelections(A.ranges,0,Me),f.replaceSelection("",null,"cut")})}else return;if(C.clipboardData){C.clipboardData.clearData();var O=no.text.join(`
`);if(C.clipboardData.setData("Text",O),C.clipboardData.getData("Text")==O){C.preventDefault();return}}var Y=Sv(),Q=Y.firstChild;f.display.lineSpace.insertBefore(Y,f.display.lineSpace.firstChild),Q.value=no.text.join(`
`);var me=be();at(Q),setTimeout(function(){f.display.lineSpace.removeChild(Y),me.focus(),me==g&&p.showPrimarySelection()},50)}}_e(g,"copy",b),_e(g,"cut",b)},rn.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},rn.prototype.prepareSelection=function(){var a=hg(this.cm,!1);return a.focus=be()==this.div,a},rn.prototype.showSelection=function(a,l){!a||!this.cm.display.view.length||((a.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(a))},rn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},rn.prototype.showPrimarySelection=function(){var a=this.getSelection(),l=this.cm,p=l.doc.sel.primary(),f=p.from(),g=p.to();if(l.display.viewTo==l.display.viewFrom||f.line>=l.display.viewTo||g.line<l.display.viewFrom){a.removeAllRanges();return}var y=uu(l,a.anchorNode,a.anchorOffset),b=uu(l,a.focusNode,a.focusOffset);if(!(y&&!y.bad&&b&&!b.bad&&St(De(y,b),f)==0&&St($(y,b),g)==0)){var C=l.display.view,A=f.line>=l.display.viewFrom&&Tv(l,f)||{node:C[0].measure.map[2],offset:0},O=g.line<l.display.viewTo&&Tv(l,g);if(!O){var Y=C[C.length-1].measure,Q=Y.maps?Y.maps[Y.maps.length-1]:Y.map;O={node:Q[Q.length-1],offset:Q[Q.length-2]-Q[Q.length-3]}}if(!A||!O){a.removeAllRanges();return}var me=a.rangeCount&&a.getRangeAt(0),le;try{le=oe(A.node,A.offset,O.offset,O.node)}catch{}le&&(!t&&l.state.focused?(a.collapse(A.node,A.offset),le.collapsed||(a.removeAllRanges(),a.addRange(le))):(a.removeAllRanges(),a.addRange(le)),me&&a.anchorNode==null?a.addRange(me):t&&this.startGracePeriod()),this.rememberSelection()}},rn.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},rn.prototype.showMultipleSelections=function(a){L(this.cm.display.cursorDiv,a.cursors),L(this.cm.display.selectionDiv,a.selection)},rn.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},rn.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var l=a.getRangeAt(0).commonAncestorContainer;return D(this.div,l)},rn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||be()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},rn.prototype.blur=function(){this.div.blur()},rn.prototype.getField=function(){return this.div},rn.prototype.supportsTouch=function(){return!0},rn.prototype.receivedFocus=function(){var a=this,l=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):ni(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function p(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},rn.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},rn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),l=this.cm;if(F&&v&&this.cm.display.gutterSpecs.length&&nb(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=uu(l,a.anchorNode,a.anchorOffset),f=uu(l,a.focusNode,a.focusOffset);p&&f&&ni(l,function(){cr(l.doc,Ko(p,f),Me),(p.bad||f.bad)&&(l.curOp.selectionChanged=!0)})}}},rn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,l=a.display,p=a.doc.sel.primary(),f=p.from(),g=p.to();if(f.ch==0&&f.line>a.firstLine()&&(f=Fe(f.line-1,dt(a.doc,f.line-1).length)),g.ch==dt(a.doc,g.line).text.length&&g.line<a.lastLine()&&(g=Fe(g.line+1,0)),f.line<l.viewFrom||g.line>l.viewTo-1)return!1;var y,b,C;f.line==l.viewFrom||(y=ba(a,f.line))==0?(b=It(l.view[0].line),C=l.view[0].node):(b=It(l.view[y].line),C=l.view[y-1].node.nextSibling);var A=ba(a,g.line),O,Y;if(A==l.view.length-1?(O=l.viewTo-1,Y=l.lineDiv.lastChild):(O=It(l.view[A+1].line)-1,Y=l.view[A+1].node.previousSibling),!C)return!1;for(var Q=a.doc.splitLines(rb(a,C,Y,b,O)),me=Un(a.doc,Fe(b,0),Fe(O,dt(a.doc,O).text.length));Q.length>1&&me.length>1;)if(xt(Q)==xt(me))Q.pop(),me.pop(),O--;else if(Q[0]==me[0])Q.shift(),me.shift(),b++;else break;for(var le=0,Oe=0,Ve=Q[0],Ge=me[0],rt=Math.min(Ve.length,Ge.length);le<rt&&Ve.charCodeAt(le)==Ge.charCodeAt(le);)++le;for(var ft=xt(Q),it=xt(me),ht=Math.min(ft.length-(Q.length==1?le:0),it.length-(me.length==1?le:0));Oe<ht&&ft.charCodeAt(ft.length-Oe-1)==it.charCodeAt(it.length-Oe-1);)++Oe;if(Q.length==1&&me.length==1&&b==f.line)for(;le&&le>f.ch&&ft.charCodeAt(ft.length-Oe-1)==it.charCodeAt(it.length-Oe-1);)le--,Oe++;Q[Q.length-1]=ft.slice(0,ft.length-Oe).replace(/^\u200b+/,""),Q[0]=Q[0].slice(le).replace(/\u200b+$/,"");var At=Fe(b,le),bt=Fe(O,me.length?xt(me).length-Oe:0);if(Q.length>1||Q[0]||St(At,bt))return cs(a.doc,Q,At,bt,"+input"),!0},rn.prototype.ensurePolled=function(){this.forceCompositionEnd()},rn.prototype.reset=function(){this.forceCompositionEnd()},rn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},rn.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},rn.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&ni(this.cm,function(){return Vr(a.cm)})},rn.prototype.setUneditable=function(a){a.contentEditable="false"},rn.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Qn(this.cm,Qf)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},rn.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},rn.prototype.onContextMenu=function(){},rn.prototype.resetPosition=function(){},rn.prototype.needsContentAttribute=!0;function Tv(a,l){var p=ge(a,l.line);if(!p||p.hidden)return null;var f=dt(a.doc,l.line),g=q(p,f,l.line),y=k(f,a.doc.direction),b="left";if(y){var C=H(y,l.ch);b=C%2?"right":"left"}var A=Pt(g.map,l.ch,b);return A.offset=A.collapse=="right"?A.end:A.start,A}function nb(a){for(var l=a;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function hs(a,l){return l&&(a.bad=!0),a}function rb(a,l,p,f,g){var y="",b=!1,C=a.doc.lineSeparator(),A=!1;function O(le){return function(Oe){return Oe.id==le}}function Y(){b&&(y+=C,A&&(y+=C),b=A=!1)}function Q(le){le&&(Y(),y+=le)}function me(le){if(le.nodeType==1){var Oe=le.getAttribute("cm-text");if(Oe){Q(Oe);return}var Ve=le.getAttribute("cm-marker"),Ge;if(Ve){var rt=a.findMarks(Fe(f,0),Fe(g+1,0),O(+Ve));rt.length&&(Ge=rt[0].find(0))&&Q(Un(a.doc,Ge.from,Ge.to).join(C));return}if(le.getAttribute("contenteditable")=="false")return;var ft=/^(pre|div|p|li|table|br)$/i.test(le.nodeName);if(!/^br$/i.test(le.nodeName)&&le.textContent.length==0)return;ft&&Y();for(var it=0;it<le.childNodes.length;it++)me(le.childNodes[it]);/^(pre|p)$/i.test(le.nodeName)&&(A=!0),ft&&(b=!0)}else le.nodeType==3&&Q(le.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;me(l),l!=p;)l=l.nextSibling,A=!1;return y}function uu(a,l,p){var f;if(l==a.display.lineDiv){if(f=a.display.lineDiv.childNodes[p],!f)return hs(a.clipPos(Fe(a.display.viewTo-1)),!0);l=null,p=0}else for(f=l;;f=f.parentNode){if(!f||f==a.display.lineDiv)return null;if(f.parentNode&&f.parentNode==a.display.lineDiv)break}for(var g=0;g<a.display.view.length;g++){var y=a.display.view[g];if(y.node==f)return ib(y,l,p)}}function ib(a,l,p){var f=a.text.firstChild,g=!1;if(!l||!D(f,l))return hs(Fe(It(a.line),0),!0);if(l==f&&(g=!0,l=f.childNodes[p],p=0,!l)){var y=a.rest?xt(a.rest):a.line;return hs(Fe(It(y),y.text.length),g)}var b=l.nodeType==3?l:null,C=l;for(!b&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(b=l.firstChild,p&&(p=b.nodeValue.length));C.parentNode!=f;)C=C.parentNode;var A=a.measure,O=A.maps;function Y(Ge,rt,ft){for(var it=-1;it<(O?O.length:0);it++)for(var ht=it<0?A.map:O[it],At=0;At<ht.length;At+=3){var bt=ht[At+2];if(bt==Ge||bt==rt){var Ht=It(it<0?a.line:a.rest[it]),ln=ht[At]+ft;return(ft<0||bt!=Ge)&&(ln=ht[At+(ft?1:0)]),Fe(Ht,ln)}}}var Q=Y(b,C,p);if(Q)return hs(Q,g);for(var me=C.nextSibling,le=b?b.nodeValue.length-p:0;me;me=me.nextSibling){if(Q=Y(me,me.firstChild,0),Q)return hs(Fe(Q.line,Q.ch-le),g);le+=me.textContent.length}for(var Oe=C.previousSibling,Ve=p;Oe;Oe=Oe.previousSibling){if(Q=Y(Oe,Oe.firstChild,-1),Q)return hs(Fe(Q.line,Q.ch+Ve),g);Ve+=Oe.textContent.length}}var In=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Ee,this.hasSelection=!1,this.composing=null};In.prototype.init=function(a){var l=this,p=this,f=this.cm;this.createField(a);var g=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),E&&(g.style.width="0px"),_e(g,"input",function(){c&&u>=9&&l.hasSelection&&(l.hasSelection=null),p.poll()}),_e(g,"paste",function(b){Je(f,b)||wv(b,f)||(f.state.pasteIncoming=+new Date,p.fastPoll())});function y(b){if(!Je(f,b)){if(f.somethingSelected())cu({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var C=xv(f);cu({lineWise:!0,text:C.text}),b.type=="cut"?f.setSelections(C.ranges,null,Me):(p.prevInput="",g.value=C.text.join(`
`),at(g))}else return;b.type=="cut"&&(f.state.cutIncoming=+new Date)}}_e(g,"cut",y),_e(g,"copy",y),_e(a.scroller,"paste",function(b){if(!(Fi(a,b)||Je(f,b))){if(!g.dispatchEvent){f.state.pasteIncoming=+new Date,p.focus();return}var C=new Event("paste");C.clipboardData=b.clipboardData,g.dispatchEvent(C)}}),_e(a.lineSpace,"selectstart",function(b){Fi(a,b)||Bt(b)}),_e(g,"compositionstart",function(){var b=f.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:b,range:f.markText(b,f.getCursor("to"),{className:"CodeMirror-composing"})}}),_e(g,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},In.prototype.createField=function(a){this.wrapper=Sv(),this.textarea=this.wrapper.firstChild},In.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},In.prototype.prepareSelection=function(){var a=this.cm,l=a.display,p=a.doc,f=hg(a);if(a.options.moveInputWithCursor){var g=eo(a,p.sel.primary().head,"div"),y=l.wrapper.getBoundingClientRect(),b=l.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,g.top+b.top-y.top)),f.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,g.left+b.left-y.left))}return f},In.prototype.showSelection=function(a){var l=this.cm,p=l.display;L(p.cursorDiv,a.cursors),L(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},In.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing)){var l=this.cm;if(l.somethingSelected()){this.prevInput="";var p=l.getSelection();this.textarea.value=p,l.state.focused&&at(this.textarea),c&&u>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",c&&u>=9&&(this.hasSelection=null))}},In.prototype.getField=function(){return this.textarea},In.prototype.supportsTouch=function(){return!1},In.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!U||be()!=this.textarea))try{this.textarea.focus()}catch{}},In.prototype.blur=function(){this.textarea.blur()},In.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},In.prototype.receivedFocus=function(){this.slowPoll()},In.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},In.prototype.fastPoll=function(){var a=!1,l=this;l.pollingFast=!0;function p(){var f=l.poll();!f&&!a?(a=!0,l.polling.set(60,p)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,p)},In.prototype.poll=function(){var a=this,l=this.cm,p=this.textarea,f=this.prevInput;if(this.contextMenuPending||!l.state.focused||hn(p)&&!f&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var g=p.value;if(g==f&&!l.somethingSelected())return!1;if(c&&u>=9&&this.hasSelection===g||R&&/[\uf700-\uf7ff]/.test(g))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var y=g.charCodeAt(0);if(y==8203&&!f&&(f="\u200B"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var b=0,C=Math.min(f.length,g.length);b<C&&f.charCodeAt(b)==g.charCodeAt(b);)++b;return ni(l,function(){Qf(l,g.slice(b),f.length-b,null,a.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=g,a.composing&&(a.composing.range.clear(),a.composing.range=l.markText(a.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},In.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},In.prototype.onKeyPress=function(){c&&u>=9&&(this.hasSelection=null),this.fastPoll()},In.prototype.onContextMenu=function(a){var l=this,p=l.cm,f=p.display,g=l.textarea;l.contextMenuPending&&l.contextMenuPending();var y=_a(p,a),b=f.scroller.scrollTop;if(!y||m)return;var C=p.options.resetSelectionOnContextMenu;C&&p.doc.sel.contains(y)==-1&&Qn(p,cr)(p.doc,Ko(y),Me);var A=g.style.cssText,O=l.wrapper.style.cssText,Y=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-Y.top-5)+"px; left: "+(a.clientX-Y.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Q;d&&(Q=window.scrollY),f.input.focus(),d&&window.scrollTo(null,Q),f.input.reset(),p.somethingSelected()||(g.value=l.prevInput=" "),l.contextMenuPending=le,f.selForContextMenu=p.doc.sel,clearTimeout(f.detectingSelectAll);function me(){if(g.selectionStart!=null){var Ve=p.somethingSelected(),Ge="\u200B"+(Ve?g.value:"");g.value="\u21DA",g.value=Ge,l.prevInput=Ve?"":"\u200B",g.selectionStart=1,g.selectionEnd=Ge.length,f.selForContextMenu=p.doc.sel}}function le(){if(l.contextMenuPending==le&&(l.contextMenuPending=!1,l.wrapper.style.cssText=O,g.style.cssText=A,c&&u<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=b),g.selectionStart!=null)){(!c||c&&u<9)&&me();var Ve=0,Ge=function(){f.selForContextMenu==p.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&l.prevInput=="\u200B"?Qn(p,Gg)(p):Ve++<10?f.detectingSelectAll=setTimeout(Ge,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(Ge,200)}}if(c&&u>=9&&me(),pe){V(a);var Oe=function(){lt(window,"mouseup",Oe),setTimeout(le,20)};_e(window,"mouseup",Oe)}else setTimeout(le,50)},In.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},In.prototype.setUneditable=function(){},In.prototype.needsContentAttribute=!1;function ob(a,l){if(l=l?Ot(l):{},l.value=a.value,!l.tabindex&&a.tabIndex&&(l.tabindex=a.tabIndex),!l.placeholder&&a.placeholder&&(l.placeholder=a.placeholder),l.autofocus==null){var p=be();l.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function f(){a.value=C.getValue()}var g;if(a.form&&(_e(a.form,"submit",f),!l.leaveSubmitMethodAlone)){var y=a.form;g=y.submit;try{var b=y.submit=function(){f(),y.submit=g,y.submit(),y.submit=b}}catch{}}l.finishInit=function(A){A.save=f,A.getTextArea=function(){return a},A.toTextArea=function(){A.toTextArea=isNaN,f(),a.parentNode.removeChild(A.getWrapperElement()),a.style.display="",a.form&&(lt(a.form,"submit",f),!l.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=g))}},a.style.display="none";var C=mn(function(A){return a.parentNode.insertBefore(A,a.nextSibling)},l);return C}function ab(a){a.off=lt,a.on=_e,a.wheelEventPixels=p2,a.Doc=Rr,a.splitLines=an,a.countColumn=xe,a.findColumn=We,a.isWordChar=Z,a.Pass=Se,a.signal=st,a.Line=$n,a.changeEnd=qo,a.scrollbarModel=wg,a.Pos=Fe,a.cmpPos=St,a.modes=yi,a.mimeModes=sn,a.resolveMode=$r,a.getMode=Zt,a.modeExtensions=hr,a.extendMode=Dt,a.copyState=rr,a.startState=gr,a.innerMode=Pn,a.commands=Il,a.keyMap=Ao,a.keyName=sv,a.isModifierKey=ov,a.lookupKey=ds,a.normalizeKeyMap=V2,a.StringStream=Qt,a.SharedTextMarker=Ml,a.TextMarker=Qo,a.LineWidget=Dl,a.e_preventDefault=Bt,a.e_stopPropagation=_n,a.e_stop=V,a.addClass=we,a.contains=D,a.rmClass=he,a.keyNames=Xo}Q2(mn),tb(mn);var sb="iter insert remove copy getEditor constructor".split(" ");for(var du in Rr.prototype)Rr.prototype.hasOwnProperty(du)&&ze(sb,du)<0&&(mn.prototype[du]=function(a){return function(){return a.apply(this.doc,arguments)}}(Rr.prototype[du]));return Ut(Rr),mn.inputStyles={textarea:In,contenteditable:rn},mn.defineMode=function(a){!mn.defaults.mode&&a!="null"&&(mn.defaults.mode=a),vn.apply(this,arguments)},mn.defineMIME=bn,mn.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),mn.defineMIME("text/plain","null"),mn.defineExtension=function(a,l){mn.prototype[a]=l},mn.defineDocExtension=function(a,l){Rr.prototype[a]=l},mn.fromTextArea=ob,ab(mn),mn.version="5.63.0",mn})},656:(o,r,e)=>{(function(t){t(e(237))})(function(t){"use strict";t.defineMode("css",function(B,L){var z=L.inline;L.propertyKeywords||(L=t.resolveMode("text/css"));var j=B.indentUnit,oe=L.tokenHooks,D=L.documentTypes||{},be=L.mediaTypes||{},we=L.mediaFeatures||{},Re=L.mediaValueKeywords||{},at=L.propertyKeywords||{},ct=L.nonStandardPropertyKeywords||{},Ot=L.fontProperties||{},xe=L.counterDescriptors||{},Ee=L.colorKeywords||{},ze=L.valueKeywords||{},se=L.allowNested,Se=L.lineComment,Me=L.supportsAtComponent===!0,Ke=B.highlightNonStandardPropertyKeywords!==!1,Ze,We;function ut(G,ve){return Ze=ve,G}function zt(G,ve){var ce=G.next();if(oe[ce]){var gt=oe[ce](G,ve);if(gt!==!1)return gt}if(ce=="@")return G.eatWhile(/[\w\\\-]/),ut("def",G.current());if(ce=="="||(ce=="~"||ce=="|")&&G.eat("="))return ut(null,"compare");if(ce=='"'||ce=="'")return ve.tokenize=xt(ce),ve.tokenize(G,ve);if(ce=="#")return G.eatWhile(/[\w\\\-]/),ut("atom","hash");if(ce=="!")return G.match(/^\s*\w*/),ut("keyword","important");if(/\d/.test(ce)||ce=="."&&G.eat(/\d/))return G.eatWhile(/[\w.%]/),ut("number","unit");if(ce==="-"){if(/[\d.]/.test(G.peek()))return G.eatWhile(/[\w.%]/),ut("number","unit");if(G.match(/^-[\w\\\-]*/))return G.eatWhile(/[\w\\\-]/),G.match(/^\s*:/,!1)?ut("variable-2","variable-definition"):ut("variable-2","variable");if(G.match(/^\w+-/))return ut("meta","meta")}else return/[,+>*\/]/.test(ce)?ut(null,"select-op"):ce=="."&&G.match(/^-?[_a-z][_a-z0-9-]*/i)?ut("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ce)?ut(null,ce):G.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(G.current())&&(ve.tokenize=pn),ut("variable callee","variable")):/[\w\\\-]/.test(ce)?(G.eatWhile(/[\w\\\-]/),ut("property","word")):ut(null,null)}function xt(G){return function(ve,ce){for(var gt=!1,kt;(kt=ve.next())!=null;){if(kt==G&&!gt){G==")"&&ve.backUp(1);break}gt=!gt&&kt=="\\"}return(kt==G||!gt&&G!=")")&&(ce.tokenize=null),ut("string","string")}}function pn(G,ve){return G.next(),G.match(/^\s*[\"\')]/,!1)?ve.tokenize=null:ve.tokenize=xt(")"),ut(null,"(")}function tn(G,ve,ce){this.type=G,this.indent=ve,this.prev=ce}function Tt(G,ve,ce,gt){return G.context=new tn(ce,ve.indentation()+(gt===!1?0:j),G.context),ce}function T(G){return G.context.prev&&(G.context=G.context.prev),G.context.type}function N(G,ve,ce){return Ce[ce.context.type](G,ve,ce)}function Z(G,ve,ce,gt){for(var kt=gt||1;kt>0;kt--)ce.context=ce.context.prev;return N(G,ve,ce)}function ue(G){var ve=G.current().toLowerCase();ze.hasOwnProperty(ve)?We="atom":Ee.hasOwnProperty(ve)?We="keyword":We="variable"}var Ce={};return Ce.top=function(G,ve,ce){if(G=="{")return Tt(ce,ve,"block");if(G=="}"&&ce.context.prev)return T(ce);if(Me&&/@component/i.test(G))return Tt(ce,ve,"atComponentBlock");if(/^@(-moz-)?document$/i.test(G))return Tt(ce,ve,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(G))return Tt(ce,ve,"atBlock");if(/^@(font-face|counter-style)/i.test(G))return ce.stateArg=G,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(G))return"keyframes";if(G&&G.charAt(0)=="@")return Tt(ce,ve,"at");if(G=="hash")We="builtin";else if(G=="word")We="tag";else{if(G=="variable-definition")return"maybeprop";if(G=="interpolation")return Tt(ce,ve,"interpolation");if(G==":")return"pseudo";if(se&&G=="(")return Tt(ce,ve,"parens")}return ce.context.type},Ce.block=function(G,ve,ce){if(G=="word"){var gt=ve.current().toLowerCase();return at.hasOwnProperty(gt)?(We="property","maybeprop"):ct.hasOwnProperty(gt)?(We=Ke?"string-2":"property","maybeprop"):se?(We=ve.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(We+=" error","maybeprop")}else return G=="meta"?"block":!se&&(G=="hash"||G=="qualifier")?(We="error","block"):Ce.top(G,ve,ce)},Ce.maybeprop=function(G,ve,ce){return G==":"?Tt(ce,ve,"prop"):N(G,ve,ce)},Ce.prop=function(G,ve,ce){if(G==";")return T(ce);if(G=="{"&&se)return Tt(ce,ve,"propBlock");if(G=="}"||G=="{")return Z(G,ve,ce);if(G=="(")return Tt(ce,ve,"parens");if(G=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(ve.current()))We+=" error";else if(G=="word")ue(ve);else if(G=="interpolation")return Tt(ce,ve,"interpolation");return"prop"},Ce.propBlock=function(G,ve,ce){return G=="}"?T(ce):G=="word"?(We="property","maybeprop"):ce.context.type},Ce.parens=function(G,ve,ce){return G=="{"||G=="}"?Z(G,ve,ce):G==")"?T(ce):G=="("?Tt(ce,ve,"parens"):G=="interpolation"?Tt(ce,ve,"interpolation"):(G=="word"&&ue(ve),"parens")},Ce.pseudo=function(G,ve,ce){return G=="meta"?"pseudo":G=="word"?(We="variable-3",ce.context.type):N(G,ve,ce)},Ce.documentTypes=function(G,ve,ce){return G=="word"&&D.hasOwnProperty(ve.current())?(We="tag",ce.context.type):Ce.atBlock(G,ve,ce)},Ce.atBlock=function(G,ve,ce){if(G=="(")return Tt(ce,ve,"atBlock_parens");if(G=="}"||G==";")return Z(G,ve,ce);if(G=="{")return T(ce)&&Tt(ce,ve,se?"block":"top");if(G=="interpolation")return Tt(ce,ve,"interpolation");if(G=="word"){var gt=ve.current().toLowerCase();gt=="only"||gt=="not"||gt=="and"||gt=="or"?We="keyword":be.hasOwnProperty(gt)?We="attribute":we.hasOwnProperty(gt)?We="property":Re.hasOwnProperty(gt)?We="keyword":at.hasOwnProperty(gt)?We="property":ct.hasOwnProperty(gt)?We=Ke?"string-2":"property":ze.hasOwnProperty(gt)?We="atom":Ee.hasOwnProperty(gt)?We="keyword":We="error"}return ce.context.type},Ce.atComponentBlock=function(G,ve,ce){return G=="}"?Z(G,ve,ce):G=="{"?T(ce)&&Tt(ce,ve,se?"block":"top",!1):(G=="word"&&(We="error"),ce.context.type)},Ce.atBlock_parens=function(G,ve,ce){return G==")"?T(ce):G=="{"||G=="}"?Z(G,ve,ce,2):Ce.atBlock(G,ve,ce)},Ce.restricted_atBlock_before=function(G,ve,ce){return G=="{"?Tt(ce,ve,"restricted_atBlock"):G=="word"&&ce.stateArg=="@counter-style"?(We="variable","restricted_atBlock_before"):N(G,ve,ce)},Ce.restricted_atBlock=function(G,ve,ce){return G=="}"?(ce.stateArg=null,T(ce)):G=="word"?(ce.stateArg=="@font-face"&&!Ot.hasOwnProperty(ve.current().toLowerCase())||ce.stateArg=="@counter-style"&&!xe.hasOwnProperty(ve.current().toLowerCase())?We="error":We="property","maybeprop"):"restricted_atBlock"},Ce.keyframes=function(G,ve,ce){return G=="word"?(We="variable","keyframes"):G=="{"?Tt(ce,ve,"top"):N(G,ve,ce)},Ce.at=function(G,ve,ce){return G==";"?T(ce):G=="{"||G=="}"?Z(G,ve,ce):(G=="word"?We="tag":G=="hash"&&(We="builtin"),"at")},Ce.interpolation=function(G,ve,ce){return G=="}"?T(ce):G=="{"||G==";"?Z(G,ve,ce):(G=="word"?We="variable":G!="variable"&&G!="("&&G!=")"&&(We="error"),"interpolation")},{startState:function(G){return{tokenize:null,state:z?"block":"top",stateArg:null,context:new tn(z?"block":"top",G||0,null)}},token:function(G,ve){if(!ve.tokenize&&G.eatSpace())return null;var ce=(ve.tokenize||zt)(G,ve);return ce&&typeof ce=="object"&&(Ze=ce[1],ce=ce[0]),We=ce,Ze!="comment"&&(ve.state=Ce[ve.state](Ze,G,ve)),We},indent:function(G,ve){var ce=G.context,gt=ve&&ve.charAt(0),kt=ce.indent;return ce.type=="prop"&&(gt=="}"||gt==")")&&(ce=ce.prev),ce.prev&&(gt=="}"&&(ce.type=="block"||ce.type=="top"||ce.type=="interpolation"||ce.type=="restricted_atBlock")?(ce=ce.prev,kt=ce.indent):(gt==")"&&(ce.type=="parens"||ce.type=="atBlock_parens")||gt=="{"&&(ce.type=="at"||ce.type=="atBlock"))&&(kt=Math.max(0,ce.indent-j))),kt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Se,fold:"brace"}});function n(B){for(var L={},z=0;z<B.length;++z)L[B[z].toLowerCase()]=!0;return L}var i=["domain","regexp","url","url-prefix"],s=n(i),c=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],u=n(c),d=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],h=n(d),v=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],m=n(v),_=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],w=n(_),x=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],E=n(x),F=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],U=n(F),R=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],W=n(R),de=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Ae=n(de),Te=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],pe=n(Te),K=i.concat(c).concat(d).concat(v).concat(_).concat(x).concat(de).concat(Te);t.registerHelper("hintWords","css",K);function he(B,L){for(var z=!1,j;(j=B.next())!=null;){if(z&&j=="/"){L.tokenize=null;break}z=j=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:s,mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:E,fontProperties:U,counterDescriptors:W,colorKeywords:Ae,valueKeywords:pe,tokenHooks:{"/":function(B,L){return B.eat("*")?(L.tokenize=he,he(B,L)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:E,colorKeywords:Ae,valueKeywords:pe,fontProperties:U,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(B,L){return B.eat("/")?(B.skipToEnd(),["comment","comment"]):B.eat("*")?(L.tokenize=he,he(B,L)):["operator","operator"]},":":function(B){return B.match(/^\s*\{/,!1)?[null,null]:!1},$:function(B){return B.match(/^[\w-]+/),B.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(B){return B.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:E,colorKeywords:Ae,valueKeywords:pe,fontProperties:U,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(B,L){return B.eat("/")?(B.skipToEnd(),["comment","comment"]):B.eat("*")?(L.tokenize=he,he(B,L)):["operator","operator"]},"@":function(B){return B.eat("{")?[null,"interpolation"]:B.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(B.eatWhile(/[\w\\\-]/),B.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:u,mediaFeatures:h,propertyKeywords:w,nonStandardPropertyKeywords:E,fontProperties:U,counterDescriptors:W,colorKeywords:Ae,valueKeywords:pe,supportsAtComponent:!0,tokenHooks:{"/":function(B,L){return B.eat("*")?(L.tokenize=he,he(B,L)):!1}},name:"css",helperType:"gss"})})},520:(o,r,e)=>{(function(t){t(e(237),e(576),e(792),e(656))})(function(t){"use strict";var n={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,_,w){var x=m.current(),E=x.search(_);return E>-1?m.backUp(x.length-E):x.match(/<\/?$/)&&(m.backUp(x.length),m.match(_,!1)||m.match(x)),w}var s={};function c(m){var _=s[m];return _||(s[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function u(m,_){var w=m.match(c(_));return w?/^\s*(.*?)\s*$/.exec(w[2])[1]:""}function d(m,_){return new RegExp((_?"^":"")+"</s*"+m+"s*>","i")}function h(m,_){for(var w in m)for(var x=_[w]||(_[w]=[]),E=m[w],F=E.length-1;F>=0;F--)x.unshift(E[F])}function v(m,_){for(var w=0;w<m.length;w++){var x=m[w];if(!x[0]||x[1].test(u(_,x[0])))return x[2]}}t.defineMode("htmlmixed",function(m,_){var w=t.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:_.multilineTagIndentFactor,multilineTagIndentPastTag:_.multilineTagIndentPastTag,allowMissingTagName:_.allowMissingTagName}),x={},E=_&&_.tags,F=_&&_.scriptTypes;if(h(n,x),E&&h(E,x),F)for(var U=F.length-1;U>=0;U--)x.script.unshift(["type",F[U].matches,F[U].mode]);function R(W,de){var Ae=w.token(W,de.htmlState),Te=/\btag\b/.test(Ae),pe;if(Te&&!/[<>\s\/]/.test(W.current())&&(pe=de.htmlState.tagName&&de.htmlState.tagName.toLowerCase())&&x.hasOwnProperty(pe))de.inTag=pe+" ";else if(de.inTag&&Te&&/>$/.test(W.current())){var K=/^([\S]+) (.*)/.exec(de.inTag);de.inTag=null;var he=W.current()==">"&&v(x[K[1]],K[2]),B=t.getMode(m,he),L=d(K[1],!0),z=d(K[1],!1);de.token=function(j,oe){return j.match(L,!1)?(oe.token=R,oe.localState=oe.localMode=null,null):i(j,z,oe.localMode.token(j,oe.localState))},de.localMode=B,de.localState=t.startState(B,w.indent(de.htmlState,"",""))}else de.inTag&&(de.inTag+=W.current(),W.eol()&&(de.inTag+=" "));return Ae}return{startState:function(){var W=t.startState(w);return{token:R,inTag:null,localMode:null,localState:null,htmlState:W}},copyState:function(W){var de;return W.localState&&(de=t.copyState(W.localMode,W.localState)),{token:W.token,inTag:W.inTag,localMode:W.localMode,localState:de,htmlState:t.copyState(w,W.htmlState)}},token:function(W,de){return de.token(W,de)},indent:function(W,de,Ae){return!W.localMode||/^\s*<\//.test(de)?w.indent(W.htmlState,de,Ae):W.localMode.indent?W.localMode.indent(W.localState,de,Ae):t.Pass},innerMode:function(W){return{state:W.localState||W.htmlState,mode:W.localMode||w}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})},792:(o,r,e)=>{(function(t){t(e(237))})(function(t){"use strict";t.defineMode("javascript",function(n,i){var s=n.indentUnit,c=i.statementIndent,u=i.jsonld,d=i.json||u,h=i.trackScope!==!1,v=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,_=function(){function P(Jt){return{type:Jt,style:"keyword"}}var $=P("keyword a"),De=P("keyword b"),je=P("keyword c"),Ue=P("keyword d"),Ft=P("operator"),jt={type:"atom",style:"atom"};return{if:P("if"),while:$,with:$,else:De,do:De,try:De,finally:De,return:Ue,break:Ue,continue:Ue,new:P("new"),delete:je,void:je,throw:je,debugger:P("debugger"),var:P("var"),const:P("var"),let:P("var"),function:P("function"),catch:P("catch"),for:P("for"),switch:P("switch"),case:P("case"),default:P("default"),in:Ft,typeof:Ft,instanceof:Ft,true:jt,false:jt,null:jt,undefined:jt,NaN:jt,Infinity:jt,this:P("this"),class:P("class"),super:P("atom"),yield:je,export:P("export"),import:P("import"),extends:je,await:je}}(),w=/[+\-*&%=<>!?|~^@]/,x=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function E(P){for(var $=!1,De,je=!1;(De=P.next())!=null;){if(!$){if(De=="/"&&!je)return;De=="["?je=!0:je&&De=="]"&&(je=!1)}$=!$&&De=="\\"}}var F,U;function R(P,$,De){return F=P,U=De,$}function W(P,$){var De=P.next();if(De=='"'||De=="'")return $.tokenize=de(De),$.tokenize(P,$);if(De=="."&&P.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return R("number","number");if(De=="."&&P.match(".."))return R("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(De))return R(De);if(De=="="&&P.eat(">"))return R("=>","operator");if(De=="0"&&P.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return R("number","number");if(/\d/.test(De))return P.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),R("number","number");if(De=="/")return P.eat("*")?($.tokenize=Ae,Ae(P,$)):P.eat("/")?(P.skipToEnd(),R("comment","comment")):Ir(P,$,1)?(E(P),P.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),R("regexp","string-2")):(P.eat("="),R("operator","operator",P.current()));if(De=="`")return $.tokenize=Te,Te(P,$);if(De=="#"&&P.peek()=="!")return P.skipToEnd(),R("meta","meta");if(De=="#"&&P.eatWhile(m))return R("variable","property");if(De=="<"&&P.match("!--")||De=="-"&&P.match("->")&&!/\S/.test(P.string.slice(0,P.start)))return P.skipToEnd(),R("comment","comment");if(w.test(De))return(De!=">"||!$.lexical||$.lexical.type!=">")&&(P.eat("=")?(De=="!"||De=="=")&&P.eat("="):/[<>*+\-|&?]/.test(De)&&(P.eat(De),De==">"&&P.eat(De))),De=="?"&&P.eat(".")?R("."):R("operator","operator",P.current());if(m.test(De)){P.eatWhile(m);var je=P.current();if($.lastType!="."){if(_.propertyIsEnumerable(je)){var Ue=_[je];return R(Ue.type,Ue.style,je)}if(je=="async"&&P.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return R("async","keyword",je)}return R("variable","variable",je)}}function de(P){return function($,De){var je=!1,Ue;if(u&&$.peek()=="@"&&$.match(x))return De.tokenize=W,R("jsonld-keyword","meta");for(;(Ue=$.next())!=null&&!(Ue==P&&!je);)je=!je&&Ue=="\\";return je||(De.tokenize=W),R("string","string")}}function Ae(P,$){for(var De=!1,je;je=P.next();){if(je=="/"&&De){$.tokenize=W;break}De=je=="*"}return R("comment","comment")}function Te(P,$){for(var De=!1,je;(je=P.next())!=null;){if(!De&&(je=="`"||je=="$"&&P.eat("{"))){$.tokenize=W;break}De=!De&&je=="\\"}return R("quasi","string-2",P.current())}var pe="([{}])";function K(P,$){$.fatArrowAt&&($.fatArrowAt=null);var De=P.string.indexOf("=>",P.start);if(!(De<0)){if(v){var je=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(P.string.slice(P.start,De));je&&(De=je.index)}for(var Ue=0,Ft=!1,jt=De-1;jt>=0;--jt){var Jt=P.string.charAt(jt),nn=pe.indexOf(Jt);if(nn>=0&&nn<3){if(!Ue){++jt;break}if(--Ue==0){Jt=="("&&(Ft=!0);break}}else if(nn>=3&&nn<6)++Ue;else if(m.test(Jt))Ft=!0;else if(/["'\/`]/.test(Jt))for(;;--jt){if(jt==0)return;var Po=P.string.charAt(jt-1);if(Po==Jt&&P.string.charAt(jt-2)!="\\"){jt--;break}}else if(Ft&&!Ue){++jt;break}}Ft&&!Ue&&($.fatArrowAt=jt)}}var he={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function B(P,$,De,je,Ue,Ft){this.indented=P,this.column=$,this.type=De,this.prev=Ue,this.info=Ft,je!=null&&(this.align=je)}function L(P,$){if(!h)return!1;for(var De=P.localVars;De;De=De.next)if(De.name==$)return!0;for(var je=P.context;je;je=je.prev)for(var De=je.vars;De;De=De.next)if(De.name==$)return!0}function z(P,$,De,je,Ue){var Ft=P.cc;for(j.state=P,j.stream=Ue,j.marked=null,j.cc=Ft,j.style=$,P.lexical.hasOwnProperty("align")||(P.lexical.align=!0);;){var jt=Ft.length?Ft.pop():d?ut:Ze;if(jt(De,je)){for(;Ft.length&&Ft[Ft.length-1].lex;)Ft.pop()();return j.marked?j.marked:De=="variable"&&L(P,je)?"variable-2":$}}}var j={state:null,column:null,marked:null,cc:null};function oe(){for(var P=arguments.length-1;P>=0;P--)j.cc.push(arguments[P])}function D(){return oe.apply(null,arguments),!0}function be(P,$){for(var De=$;De;De=De.next)if(De.name==P)return!0;return!1}function we(P){var $=j.state;if(j.marked="def",!!h){if($.context){if($.lexical.info=="var"&&$.context&&$.context.block){var De=Re(P,$.context);if(De!=null){$.context=De;return}}else if(!be(P,$.localVars)){$.localVars=new Ot(P,$.localVars);return}}i.globalVars&&!be(P,$.globalVars)&&($.globalVars=new Ot(P,$.globalVars))}}function Re(P,$){if($)if($.block){var De=Re(P,$.prev);return De?De==$.prev?$:new ct(De,$.vars,!0):null}else return be(P,$.vars)?$:new ct($.prev,new Ot(P,$.vars),!1);else return null}function at(P){return P=="public"||P=="private"||P=="protected"||P=="abstract"||P=="readonly"}function ct(P,$,De){this.prev=P,this.vars=$,this.block=De}function Ot(P,$){this.name=P,this.next=$}var xe=new Ot("this",new Ot("arguments",null));function Ee(){j.state.context=new ct(j.state.context,j.state.localVars,!1),j.state.localVars=xe}function ze(){j.state.context=new ct(j.state.context,j.state.localVars,!0),j.state.localVars=null}function se(){j.state.localVars=j.state.context.vars,j.state.context=j.state.context.prev}se.lex=!0;function Se(P,$){var De=function(){var je=j.state,Ue=je.indented;if(je.lexical.type=="stat")Ue=je.lexical.indented;else for(var Ft=je.lexical;Ft&&Ft.type==")"&&Ft.align;Ft=Ft.prev)Ue=Ft.indented;je.lexical=new B(Ue,j.stream.column(),P,null,je.lexical,$)};return De.lex=!0,De}function Me(){var P=j.state;P.lexical.prev&&(P.lexical.type==")"&&(P.indented=P.lexical.indented),P.lexical=P.lexical.prev)}Me.lex=!0;function Ke(P){function $(De){return De==P?D():P==";"||De=="}"||De==")"||De=="]"?oe():D($)}return $}function Ze(P,$){return P=="var"?D(Se("vardef",$),mt,Ke(";"),Me):P=="keyword a"?D(Se("form"),xt,Ze,Me):P=="keyword b"?D(Se("form"),Ze,Me):P=="keyword d"?j.stream.match(/^\s*$/,!1)?D():D(Se("stat"),tn,Ke(";"),Me):P=="debugger"?D(Ke(";")):P=="{"?D(Se("}"),ze,_e,Me,se):P==";"?D():P=="if"?(j.state.lexical.info=="else"&&j.state.cc[j.state.cc.length-1]==Me&&j.state.cc.pop()(),D(Se("form"),xt,Ze,Me,zn)):P=="function"?D(vn):P=="for"?D(Se("form"),ze,gn,Ze,se,Me):P=="class"||v&&$=="interface"?(j.marked="keyword",D(Se("form",P=="class"?P:$),Dt,Me)):P=="variable"?v&&$=="declare"?(j.marked="keyword",D(Ze)):v&&($=="module"||$=="enum"||$=="type")&&j.stream.match(/^\s*\w/,!1)?(j.marked="keyword",$=="enum"?D(bi):$=="type"?D($r,Ke("operator"),vt,Ke(";")):D(Se("form"),Mt,Ke("{"),Se("}"),_e,Me,Me)):v&&$=="namespace"?(j.marked="keyword",D(Se("form"),ut,Ze,Me)):v&&$=="abstract"?(j.marked="keyword",D(Ze)):D(Se("stat"),gt):P=="switch"?D(Se("form"),xt,Ke("{"),Se("}","switch"),ze,_e,Me,Me,se):P=="case"?D(ut,Ke(":")):P=="default"?D(Ke(":")):P=="catch"?D(Se("form"),Ee,We,Ze,Me,se):P=="export"?D(Se("stat"),Qt,Me):P=="import"?D(Se("stat"),Un,Me):P=="async"?D(Ze):$=="@"?D(ut,Ze):oe(Se("stat"),ut,Ke(";"),Me)}function We(P){if(P=="(")return D(Zt,Ke(")"))}function ut(P,$){return pn(P,$,!1)}function zt(P,$){return pn(P,$,!0)}function xt(P){return P!="("?oe():D(Se(")"),tn,Ke(")"),Me)}function pn(P,$,De){if(j.state.fatArrowAt==j.stream.start){var je=De?Ce:ue;if(P=="(")return D(Ee,Se(")"),k(Zt,")"),Me,Ke("=>"),je,se);if(P=="variable")return oe(Ee,Mt,Ke("=>"),je,se)}var Ue=De?T:Tt;return he.hasOwnProperty(P)?D(Ue):P=="function"?D(vn,Ue):P=="class"||v&&$=="interface"?(j.marked="keyword",D(Se("form"),hr,Me)):P=="keyword c"||P=="async"?D(De?zt:ut):P=="("?D(Se(")"),tn,Ke(")"),Me,Ue):P=="operator"||P=="spread"?D(De?zt:ut):P=="["?D(Se("]"),_i,Me,Ue):P=="{"?ke(Et,"}",null,Ue):P=="quasi"?oe(N,Ue):P=="new"?D(G(De)):D()}function tn(P){return P.match(/[;\}\)\],]/)?oe():oe(ut)}function Tt(P,$){return P==","?D(tn):T(P,$,!1)}function T(P,$,De){var je=De==!1?Tt:T,Ue=De==!1?ut:zt;if(P=="=>")return D(Ee,De?Ce:ue,se);if(P=="operator")return/\+\+|--/.test($)||v&&$=="!"?D(je):v&&$=="<"&&j.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?D(Se(">"),k(vt,">"),Me,je):$=="?"?D(ut,Ke(":"),Ue):D(Ue);if(P=="quasi")return oe(N,je);if(P!=";"){if(P=="(")return ke(zt,")","call",je);if(P==".")return D(kt,je);if(P=="[")return D(Se("]"),tn,Ke("]"),Me,je);if(v&&$=="as")return j.marked="keyword",D(vt,je);if(P=="regexp")return j.state.lastType=j.marked="operator",j.stream.backUp(j.stream.pos-j.stream.start-1),D(Ue)}}function N(P,$){return P!="quasi"?oe():$.slice($.length-2)!="${"?D(N):D(tn,Z)}function Z(P){if(P=="}")return j.marked="string-2",j.state.tokenize=Te,D(N)}function ue(P){return K(j.stream,j.state),oe(P=="{"?Ze:ut)}function Ce(P){return K(j.stream,j.state),oe(P=="{"?Ze:zt)}function G(P){return function($){return $=="."?D(P?ce:ve):$=="variable"&&v?D(fe,P?T:Tt):oe(P?zt:ut)}}function ve(P,$){if($=="target")return j.marked="keyword",D(Tt)}function ce(P,$){if($=="target")return j.marked="keyword",D(T)}function gt(P){return P==":"?D(Me,Ze):oe(Tt,Ke(";"),Me)}function kt(P){if(P=="variable")return j.marked="property",D()}function Et(P,$){if(P=="async")return j.marked="property",D(Et);if(P=="variable"||j.style=="keyword"){if(j.marked="property",$=="get"||$=="set")return D(H);var De;return v&&j.state.fatArrowAt==j.stream.start&&(De=j.stream.match(/^\s*:\s*/,!1))&&(j.state.fatArrowAt=j.stream.pos+De[0].length),D(re)}else{if(P=="number"||P=="string")return j.marked=u?"property":j.style+" property",D(re);if(P=="jsonld-keyword")return D(re);if(v&&at($))return j.marked="keyword",D(Et);if(P=="[")return D(ut,Be,Ke("]"),re);if(P=="spread")return D(zt,re);if($=="*")return j.marked="keyword",D(Et);if(P==":")return oe(re)}}function H(P){return P!="variable"?oe(re):(j.marked="property",D(vn))}function re(P){if(P==":")return D(zt);if(P=="(")return oe(vn)}function k(P,$,De){function je(Ue,Ft){if(De?De.indexOf(Ue)>-1:Ue==","){var jt=j.state.lexical;return jt.info=="call"&&(jt.pos=(jt.pos||0)+1),D(function(Jt,nn){return Jt==$||nn==$?oe():oe(P)},je)}return Ue==$||Ft==$?D():De&&De.indexOf(";")>-1?oe(P):D(Ke($))}return function(Ue,Ft){return Ue==$||Ft==$?D():oe(P,je)}}function ke(P,$,De){for(var je=3;je<arguments.length;je++)j.cc.push(arguments[je]);return D(Se($,De),k(P,$),Me)}function _e(P){return P=="}"?D():oe(Ze,_e)}function Be(P,$){if(v){if(P==":")return D(vt);if($=="?")return D(Be)}}function lt(P,$){if(v&&(P==":"||$=="in"))return D(vt)}function st(P){if(v&&P==":")return j.stream.match(/^\s*\w+\s+is\b/,!1)?D(ut,Je,vt):D(vt)}function Je(P,$){if($=="is")return j.marked="keyword",D()}function vt(P,$){if($=="keyof"||$=="typeof"||$=="infer"||$=="readonly")return j.marked="keyword",D($=="typeof"?zt:vt);if(P=="variable"||$=="void")return j.marked="type",D(J);if($=="|"||$=="&")return D(vt);if(P=="string"||P=="number"||P=="atom")return D(J);if(P=="[")return D(Se("]"),k(vt,"]",","),Me,J);if(P=="{")return D(Se("}"),Ut,Me,J);if(P=="(")return D(k(V,")"),Nt,J);if(P=="<")return D(k(vt,">"),vt);if(P=="quasi")return oe(_n,J)}function Nt(P){if(P=="=>")return D(vt)}function Ut(P){return P.match(/[\}\)\]]/)?D():P==","||P==";"?D(Ut):oe(Bt,Ut)}function Bt(P,$){if(P=="variable"||j.style=="keyword")return j.marked="property",D(Bt);if($=="?"||P=="number"||P=="string")return D(Bt);if(P==":")return D(vt);if(P=="[")return D(Ke("variable"),lt,Ke("]"),Bt);if(P=="(")return oe(bn,Bt);if(!P.match(/[;\}\)\],]/))return D()}function _n(P,$){return P!="quasi"?oe():$.slice($.length-2)!="${"?D(_n):D(vt,jn)}function jn(P){if(P=="}")return j.marked="string-2",j.state.tokenize=Te,D(_n)}function V(P,$){return P=="variable"&&j.stream.match(/^\s*[?:]/,!1)||$=="?"?D(V):P==":"?D(vt):P=="spread"?D(V):oe(vt)}function J(P,$){if($=="<")return D(Se(">"),k(vt,">"),Me,J);if($=="|"||P=="."||$=="&")return D(vt);if(P=="[")return D(vt,Ke("]"),J);if($=="extends"||$=="implements")return j.marked="keyword",D(vt);if($=="?")return D(vt,Ke(":"),vt)}function fe(P,$){if($=="<")return D(Se(">"),k(vt,">"),Me,J)}function Ie(){return oe(vt,nt)}function nt(P,$){if($=="=")return D(vt)}function mt(P,$){return $=="enum"?(j.marked="keyword",D(bi)):oe(Mt,Be,hn,qr)}function Mt(P,$){if(v&&at($))return j.marked="keyword",D(Mt);if(P=="variable")return we($),D();if(P=="spread")return D(Mt);if(P=="[")return ke(an,"]");if(P=="{")return ke(Ln,"}")}function Ln(P,$){return P=="variable"&&!j.stream.match(/^\s*:/,!1)?(we($),D(hn)):(P=="variable"&&(j.marked="property"),P=="spread"?D(Mt):P=="}"?oe():P=="["?D(ut,Ke("]"),Ke(":"),Ln):D(Ke(":"),Mt,hn))}function an(){return oe(Mt,hn)}function hn(P,$){if($=="=")return D(zt)}function qr(P){if(P==",")return D(mt)}function zn(P,$){if(P=="keyword b"&&$=="else")return D(Se("form","else"),Ze,Me)}function gn(P,$){if($=="await")return D(gn);if(P=="(")return D(Se(")"),yi,Me)}function yi(P){return P=="var"?D(mt,sn):P=="variable"?D(sn):oe(sn)}function sn(P,$){return P==")"?D():P==";"?D(sn):$=="in"||$=="of"?(j.marked="keyword",D(ut,sn)):oe(ut,sn)}function vn(P,$){if($=="*")return j.marked="keyword",D(vn);if(P=="variable")return we($),D(vn);if(P=="(")return D(Ee,Se(")"),k(Zt,")"),Me,st,Ze,se);if(v&&$=="<")return D(Se(">"),k(Ie,">"),Me,vn)}function bn(P,$){if($=="*")return j.marked="keyword",D(bn);if(P=="variable")return we($),D(bn);if(P=="(")return D(Ee,Se(")"),k(Zt,")"),Me,st,se);if(v&&$=="<")return D(Se(">"),k(Ie,">"),Me,bn)}function $r(P,$){if(P=="keyword"||P=="variable")return j.marked="type",D($r);if($=="<")return D(Se(">"),k(Ie,">"),Me)}function Zt(P,$){return $=="@"&&D(ut,Zt),P=="spread"?D(Zt):v&&at($)?(j.marked="keyword",D(Zt)):v&&P=="this"?D(Be,hn):oe(Mt,Be,hn)}function hr(P,$){return P=="variable"?Dt(P,$):rr(P,$)}function Dt(P,$){if(P=="variable")return we($),D(rr)}function rr(P,$){if($=="<")return D(Se(">"),k(Ie,">"),Me,rr);if($=="extends"||$=="implements"||v&&P==",")return $=="implements"&&(j.marked="keyword"),D(v?vt:ut,rr);if(P=="{")return D(Se("}"),Pn,Me)}function Pn(P,$){if(P=="async"||P=="variable"&&($=="static"||$=="get"||$=="set"||v&&at($))&&j.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return j.marked="keyword",D(Pn);if(P=="variable"||j.style=="keyword")return j.marked="property",D(gr,Pn);if(P=="number"||P=="string")return D(gr,Pn);if(P=="[")return D(ut,Be,Ke("]"),gr,Pn);if($=="*")return j.marked="keyword",D(Pn);if(v&&P=="(")return oe(bn,Pn);if(P==";"||P==",")return D(Pn);if(P=="}")return D();if($=="@")return D(ut,Pn)}function gr(P,$){if($=="!"||$=="?")return D(gr);if(P==":")return D(vt,hn);if($=="=")return D(zt);var De=j.state.lexical.prev,je=De&&De.info=="interface";return oe(je?bn:vn)}function Qt(P,$){return $=="*"?(j.marked="keyword",D(on,Ke(";"))):$=="default"?(j.marked="keyword",D(ut,Ke(";"))):P=="{"?D(k(dt,"}"),on,Ke(";")):oe(Ze)}function dt(P,$){if($=="as")return j.marked="keyword",D(Ke("variable"));if(P=="variable")return oe(zt,dt)}function Un(P){return P=="string"?D():P=="("?oe(ut):P=="."?oe(Tt):oe(ar,Vn,on)}function ar(P,$){return P=="{"?ke(ar,"}"):(P=="variable"&&we($),$=="*"&&(j.marked="keyword"),D(It))}function Vn(P){if(P==",")return D(ar,Vn)}function It(P,$){if($=="as")return j.marked="keyword",D(ar)}function on(P,$){if($=="from")return j.marked="keyword",D(ut)}function _i(P){return P=="]"?D():oe(k(zt,"]"))}function bi(){return oe(Se("form"),Mt,Ke("{"),Se("}"),k(Fe,"}"),Me,Me)}function Fe(){return oe(Mt,hn)}function St(P,$){return P.lastType=="operator"||P.lastType==","||w.test($.charAt(0))||/[,.]/.test($.charAt(0))}function Ir(P,$,De){return $.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test($.lastType)||$.lastType=="quasi"&&/\{\s*$/.test(P.string.slice(0,P.pos-(De||0)))}return{startState:function(P){var $={tokenize:W,lastType:"sof",cc:[],lexical:new B((P||0)-s,0,"block",!1),localVars:i.localVars,context:i.localVars&&new ct(null,null,!1),indented:P||0};return i.globalVars&&typeof i.globalVars=="object"&&($.globalVars=i.globalVars),$},token:function(P,$){if(P.sol()&&($.lexical.hasOwnProperty("align")||($.lexical.align=!1),$.indented=P.indentation(),K(P,$)),$.tokenize!=Ae&&P.eatSpace())return null;var De=$.tokenize(P,$);return F=="comment"?De:($.lastType=F=="operator"&&(U=="++"||U=="--")?"incdec":F,z($,De,F,U,P))},indent:function(P,$){if(P.tokenize==Ae||P.tokenize==Te)return t.Pass;if(P.tokenize!=W)return 0;var De=$&&$.charAt(0),je=P.lexical,Ue;if(!/^\s*else\b/.test($))for(var Ft=P.cc.length-1;Ft>=0;--Ft){var jt=P.cc[Ft];if(jt==Me)je=je.prev;else if(jt!=zn&&jt!=se)break}for(;(je.type=="stat"||je.type=="form")&&(De=="}"||(Ue=P.cc[P.cc.length-1])&&(Ue==Tt||Ue==T)&&!/^[,\.=+\-*:?[\(]/.test($));)je=je.prev;c&&je.type==")"&&je.prev.type=="stat"&&(je=je.prev);var Jt=je.type,nn=De==Jt;return Jt=="vardef"?je.indented+(P.lastType=="operator"||P.lastType==","?je.info.length+1:0):Jt=="form"&&De=="{"?je.indented:Jt=="form"?je.indented+s:Jt=="stat"?je.indented+(St(P,$)?c||s:0):je.info=="switch"&&!nn&&i.doubleIndentSwitch!=!1?je.indented+(/^(?:case|default)\b/.test($)?s:2*s):je.align?je.column+(nn?0:1):je.indented+(nn?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:d?null:"/*",blockCommentEnd:d?null:"*/",blockCommentContinue:d?null:" * ",lineComment:d?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:d?"json":"javascript",jsonldMode:u,jsonMode:d,expressionAllowed:Ir,skipExpression:function(P){z(P,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},576:(o,r,e)=>{(function(t){t(e(237))})(function(t){"use strict";var n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(s,c){var u=s.indentUnit,d={},h=c.htmlMode?n:i;for(var v in h)d[v]=h[v];for(var v in c)d[v]=c[v];var m,_;function w(D,be){function we(ct){return be.tokenize=ct,ct(D,be)}var Re=D.next();if(Re=="<")return D.eat("!")?D.eat("[")?D.match("CDATA[")?we(F("atom","]]>")):null:D.match("--")?we(F("comment","-->")):D.match("DOCTYPE",!0,!0)?(D.eatWhile(/[\w\._\-]/),we(U(1))):null:D.eat("?")?(D.eatWhile(/[\w\._\-]/),be.tokenize=F("meta","?>"),"meta"):(m=D.eat("/")?"closeTag":"openTag",be.tokenize=x,"tag bracket");if(Re=="&"){var at;return D.eat("#")?D.eat("x")?at=D.eatWhile(/[a-fA-F\d]/)&&D.eat(";"):at=D.eatWhile(/[\d]/)&&D.eat(";"):at=D.eatWhile(/[\w\.\-:]/)&&D.eat(";"),at?"atom":"error"}else return D.eatWhile(/[^&<]/),null}w.isInText=!0;function x(D,be){var we=D.next();if(we==">"||we=="/"&&D.eat(">"))return be.tokenize=w,m=we==">"?"endTag":"selfcloseTag","tag bracket";if(we=="=")return m="equals",null;if(we=="<"){be.tokenize=w,be.state=Te,be.tagName=be.tagStart=null;var Re=be.tokenize(D,be);return Re?Re+" tag error":"tag error"}else return/[\'\"]/.test(we)?(be.tokenize=E(we),be.stringStartCol=D.column(),be.tokenize(D,be)):(D.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function E(D){var be=function(we,Re){for(;!we.eol();)if(we.next()==D){Re.tokenize=x;break}return"string"};return be.isInAttribute=!0,be}function F(D,be){return function(we,Re){for(;!we.eol();){if(we.match(be)){Re.tokenize=w;break}we.next()}return D}}function U(D){return function(be,we){for(var Re;(Re=be.next())!=null;){if(Re=="<")return we.tokenize=U(D+1),we.tokenize(be,we);if(Re==">")if(D==1){we.tokenize=w;break}else return we.tokenize=U(D-1),we.tokenize(be,we)}return"meta"}}function R(D){return D&&D.toLowerCase()}function W(D,be,we){this.prev=D.context,this.tagName=be||"",this.indent=D.indented,this.startOfLine=we,(d.doNotIndent.hasOwnProperty(be)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function de(D){D.context&&(D.context=D.context.prev)}function Ae(D,be){for(var we;;){if(!D.context||(we=D.context.tagName,!d.contextGrabbers.hasOwnProperty(R(we))||!d.contextGrabbers[R(we)].hasOwnProperty(R(be))))return;de(D)}}function Te(D,be,we){return D=="openTag"?(we.tagStart=be.column(),pe):D=="closeTag"?K:Te}function pe(D,be,we){return D=="word"?(we.tagName=be.current(),_="tag",L):d.allowMissingTagName&&D=="endTag"?(_="tag bracket",L(D,be,we)):(_="error",pe)}function K(D,be,we){if(D=="word"){var Re=be.current();return we.context&&we.context.tagName!=Re&&d.implicitlyClosed.hasOwnProperty(R(we.context.tagName))&&de(we),we.context&&we.context.tagName==Re||d.matchClosing===!1?(_="tag",he):(_="tag error",B)}else return d.allowMissingTagName&&D=="endTag"?(_="tag bracket",he(D,be,we)):(_="error",B)}function he(D,be,we){return D!="endTag"?(_="error",he):(de(we),Te)}function B(D,be,we){return _="error",he(D,be,we)}function L(D,be,we){if(D=="word")return _="attribute",z;if(D=="endTag"||D=="selfcloseTag"){var Re=we.tagName,at=we.tagStart;return we.tagName=we.tagStart=null,D=="selfcloseTag"||d.autoSelfClosers.hasOwnProperty(R(Re))?Ae(we,Re):(Ae(we,Re),we.context=new W(we,Re,at==we.indented)),Te}return _="error",L}function z(D,be,we){return D=="equals"?j:(d.allowMissing||(_="error"),L(D,be,we))}function j(D,be,we){return D=="string"?oe:D=="word"&&d.allowUnquoted?(_="string",L):(_="error",L(D,be,we))}function oe(D,be,we){return D=="string"?oe:L(D,be,we)}return{startState:function(D){var be={tokenize:w,state:Te,indented:D||0,tagName:null,tagStart:null,context:null};return D!=null&&(be.baseIndent=D),be},token:function(D,be){if(!be.tagName&&D.sol()&&(be.indented=D.indentation()),D.eatSpace())return null;m=null;var we=be.tokenize(D,be);return(we||m)&&we!="comment"&&(_=null,be.state=be.state(m||we,D,be),_&&(we=_=="error"?we+" error":_)),we},indent:function(D,be,we){var Re=D.context;if(D.tokenize.isInAttribute)return D.tagStart==D.indented?D.stringStartCol+1:D.indented+u;if(Re&&Re.noIndent)return t.Pass;if(D.tokenize!=x&&D.tokenize!=w)return we?we.match(/^(\s*)/)[0].length:0;if(D.tagName)return d.multilineTagIndentPastTag!==!1?D.tagStart+D.tagName.length+2:D.tagStart+u*(d.multilineTagIndentFactor||1);if(d.alignCDATA&&/<!\[CDATA\[/.test(be))return 0;var at=be&&/^<(\/)?([\w_:\.-]*)/.exec(be);if(at&&at[1])for(;Re;)if(Re.tagName==at[2]){Re=Re.prev;break}else if(d.implicitlyClosed.hasOwnProperty(R(Re.tagName)))Re=Re.prev;else break;else if(at)for(;Re;){var ct=d.contextGrabbers[R(Re.tagName)];if(ct&&ct.hasOwnProperty(R(at[2])))Re=Re.prev;else break}for(;Re&&Re.prev&&!Re.startOfLine;)Re=Re.prev;return Re?Re.indent+u:D.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:d.htmlMode?"html":"xml",helperType:d.htmlMode?"html":"xml",skipAttribute:function(D){D.state==j&&(D.state=L)},xmlCurrentTag:function(D){return D.tagName?{name:D.tagName,close:D.type=="closeTag"}:null},xmlCurrentContext:function(D){for(var be=[],we=D.context;we;we=we.prev)be.push(we.tagName);return be.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})},578:(o,r,e)=>{e.d(r,{A:()=>s});var t=e(268),n=function(){var c=function(u,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(h[m]=v[m])},c(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),i=function(c){n(u,c);function u(d,h,v){var m=c.call(this,h,v)||this;return m._module=d,m}return Object.defineProperty(u.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),u}(t.Kx);let s=i},683:(o,r,e)=>{e.d(r,{A:()=>c,F:()=>i});var t=e(578),n=function(){var u=function(d,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(v[_]=m[_])},u(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function v(){this.constructor=d}d.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),i=function(u){return u.Select="select",u.Hover="hover",u.Spacing="spacing",u.Target="target",u.Resize="resize",u}(i||{}),s=function(u){n(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(d.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"component",{get:function(){var h,v=this.get("component");return v||((h=this.get("componentView"))===null||h===void 0?void 0:h.model)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"componentView",{get:function(){var h,v=this.get("componentView");return v||((h=this.get("component"))===null||h===void 0?void 0:h.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"el",{get:function(){var h;return(h=this.componentView)===null||h===void 0?void 0:h.el},enumerable:!1,configurable:!0}),d.prototype.getBoxRect=function(h){var v=this,m=v.el,_=v.em,w=_.Canvas.getCanvasView(),x=this.get("boxRect");return x||(m&&w?w.getElBoxRect(m,h):{x:0,y:0,width:0,height:0})},d.prototype.getStyle=function(h){h===void 0&&(h={});var v=h.boxRect||this.getBoxRect(h),m=v.width,_=v.height,w=v.x,x=v.y;return{width:"".concat(m,"px"),height:"".concat(_,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(w,"px ").concat(x,"px")}},d.prototype.isType=function(h){return this.type===h},d}(t.A);let c=s},242:(o,r,e)=>{e.d(r,{A:()=>n});var t=function(i){return i.run="command:run",i._run="run",i.runCommand="command:run:",i._runCommand="run:",i.runBeforeCommand="command:run:before:",i.abort="command:abort:",i._abort="abort:",i.stop="command:stop",i._stop="stop",i.stopCommand="command:stop:",i._stopCommand="stop:",i.stopBeforeCommand="command:stop:before:",i}(t||{});let n=t},404:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});let t={run:function(n){n.Components.clear(),n.Css.clear()}}},228:(o,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(523),n=e(14),i=e(926);let s={run:function(c){(0,t.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=c,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(c){this.toggleMove(),this.disableDragger()},onKeyUp:function(c){(0,i.Ch)(c)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(c){this.toggleDragger(1,c)},disableDragger:function(c){this.toggleDragger(0,c)},toggleDragger:function(c,u){var d=this,h=d.canvasModel,v=d.em,m=this.dragger,_=c?"add":"remove";this.getCanvas().classList[_]("".concat(this.ppfx,"is__grabbing")),m||(m=new n.A({getPosition:function(){return{x:h.get("x"),y:h.get("y")}},setPosition:function(w){var x=w.x,E=w.y;h.set({x,y:E})},onStart:function(w,x){v.trigger("canvas:move:start",x)},onDrag:function(w,x){v.trigger("canvas:move",x)},onEnd:function(w,x){v.trigger("canvas:move:end",x)}}),this.dragger=m),c?m.start(u):m.stop()},toggleMove:function(c){var u=this.ppfx,d=c?"add":"remove",h=c?"on":"off",v={on:i.on,off:i.AU},m=this.getCanvas(),_=["".concat(u,"is__grab")];!c&&_.push("".concat(u,"is__grabbing")),_.forEach(function(w){return m.classList[d](w)}),v[h](document,"keyup",this.onKeyUp),v[h](m,"mousedown",this.enableDragger),v[h](document,"mouseup",this.disableDragger)}}},570:(o,r,e)=>{e.r(r),e.d(r,{default:()=>u,defineCommand:()=>s});var t=e(268),n=e(242),i=function(){var d=function(h,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(m[w]=_[w])},d(h,v)};return function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(h,v);function m(){this.constructor=h}h.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}();function s(d){return d}var c=function(d){i(h,d);function h(v){var m=d.call(this,0)||this;m.config=v||{},m.em=m.config.em||{};var _=m.config.stylePrefix;return m.pfx=_,m.ppfx=m.config.pStylePrefix,m.hoverClass="".concat(_,"hover"),m.badgeClass="".concat(_,"badge"),m.plhClass="".concat(_,"placeholder"),m.freezClass="".concat(m.ppfx,"freezed"),m.canvas=m.em.Canvas,m.init(m.config),m}return h.prototype.onFrameScroll=function(v){},h.prototype.getCanvas=function(){return this.canvas.getElement()},h.prototype.getCanvasBody=function(){return this.canvas.getBody()},h.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},h.prototype.offset=function(v){var m=v.getBoundingClientRect();return{top:m.top+v.ownerDocument.body.scrollTop,left:m.left+v.ownerDocument.body.scrollLeft}},h.prototype.init=function(v){},h.prototype.callRun=function(v,m){m===void 0&&(m={});var _=this.id;if(v.trigger("".concat(n.A.runBeforeCommand).concat(_),{options:m}),v.trigger("".concat(n.A._runCommand).concat(_,":before"),m),m.abort){v.trigger("".concat(n.A.abort).concat(_),{options:m}),v.trigger("".concat(n.A._abort).concat(_),m);return}var w=m.sender||v,x=this.run(v,w,m),E={id:_,result:x,options:m};return v.trigger("".concat(n.A.runCommand).concat(_),E),v.trigger(n.A.run,E),v.trigger("".concat(n.A._runCommand).concat(_),x,m),v.trigger(n.A._run,_,x,m),x},h.prototype.callStop=function(v,m){m===void 0&&(m={});var _=this.id,w=m.sender||v;v.trigger("".concat(n.A.stopBeforeCommand).concat(_),{options:m}),v.trigger("".concat(n.A._stopCommand).concat(_,":before"),m);var x=this.stop(v,w,m),E={id:_,result:x,options:m};return v.trigger("".concat(n.A.stopCommand).concat(_),E),v.trigger(n.A.stop,E),v.trigger("".concat(n.A._stopCommand).concat(_),x,m),v.trigger(n.A._stop,_,x,m),x},h.prototype.stopCommand=function(v){this.em.Commands.stop(this.id,v)},h.prototype.run=function(v,m,_){},h.prototype.stop=function(v,m,_){},h}(t.Kx);let u=c},377:(o,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(523),n=function(c,u,d){if(d||arguments.length===2)for(var h=0,v=u.length,m;h<v;h++)(m||!(h in u))&&(m||(m=Array.prototype.slice.call(u,0,h)),m[h]=u[h]);return c.concat(m||Array.prototype.slice.call(u))},i={run:function(c,u,d){var h=this;d===void 0&&(d={});var v=[],m=d.component||c.getSelectedAll();return m=(0,t.isArray)(m)?n([],m,!0):[m],m.filter(Boolean).forEach(function(_){var w,x;if(!_.get("removable"))return h.em.logWarning("The element is not removable",{component:_});v.push(_);var E=((x=(w=_.delegate)===null||w===void 0?void 0:w.remove)===null||x===void 0?void 0:x.call(w,_))||_;E.remove()}),c.selectRemove(v),v}};let s=i},728:(o,r,e)=>{e.r(r),e.d(r,{default:()=>c});var t=e(523),n=e(14),i=function(){return i=Object.assign||function(u){for(var d,h=1,v=arguments.length;h<v;h++){d=arguments[h];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},i.apply(this,arguments)},s="dmode";let c={run:function(u,d,h){var v=this;h===void 0&&(h={}),(0,t.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var m=h.target,_=h.event,w=h.mode,x=h.dragger,E=x===void 0?{}:x,F=m.getEl(),U=i({doc:F.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return v.guidesStatic},guidesTarget:function(){return v.guidesTarget}},E);this.setupGuides(),this.opts=h,this.editor=u,this.em=u.getModel(),this.target=m,this.isTran=w=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var R=this.dragger;return R?R.setOptions(U):(R=new n.A(U),this.dragger=R),_&&R.start(_),this.toggleDrag(1),this.em.trigger("".concat(s,":start"),this.getEventOpts()),R},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(u){var d=u.guide;d&&d.parentNode.removeChild(d)}),this.guides=[]},getGuidesContainer:function(){var u=this,d=this.guidesEl;if(!d){var h=this,v=h.editor,m=h.em,_=h.opts,w=v.getConfig().stylePrefix,x=document.createElement("div"),E=document.createElement("div"),F='<div class="'.concat(w,"guide-info__line ").concat(w,`danger-bg">
        <div class="`).concat(w,"guide-info__content ").concat(w,`danger-color"></div>
      </div>`);d=document.createElement("div"),d.className="".concat(w,"guides"),x.className="".concat(w,"guide-info ").concat(w,"guide-info__x"),E.className="".concat(w,"guide-info ").concat(w,"guide-info__y"),x.innerHTML=F,E.innerHTML=F,d.appendChild(x),d.appendChild(E),v.Canvas.getGlobalToolsEl().appendChild(d),this.guidesEl=d,this.elGuideInfoX=x,this.elGuideInfoY=E,this.elGuideInfoContentX=x.querySelector(".".concat(w,"guide-info__content")),this.elGuideInfoContentY=E.querySelector(".".concat(w,"guide-info__content")),m.on("canvas:update frame:scroll",(0,t.debounce)(function(){var U;u.updateGuides(),_.debug&&((U=u.guides)===null||U===void 0||U.forEach(function(R){return u.renderGuide(R)}))},200))}return d},getGuidesStatic:function(){var u=this,d=[],h=this.target.getEl(),v=h.parentNode,m=v===void 0?{}:v;return(0,t.each)(m.children,function(_){return d=d.concat(h!==_?u.getElementGuides(_):[])}),d.concat(this.getElementGuides(m))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(u){var d=this,h,v;(u||this.guides).forEach(function(m){var _=m.origin,w=h===_?v:d.getElementPos(_);h=_,v=w,(0,t.each)(d.getGuidePosUpdate(m,w),function(x,E){return m[E]=x}),m.originRect=w})},getGuidePosUpdate:function(u,d){var h={},v=d.top,m=d.height,_=d.left,w=d.width;switch(u.type){case"t":h.y=v;break;case"b":h.y=v+m;break;case"l":h.x=_;break;case"r":h.x=_+w;break;case"x":h.x=_+w/2;break;case"y":h.y=v+m/2;break}return h},renderGuide:function(u){u===void 0&&(u={});var d=u.guide||document.createElement("div"),h="px",v=u.active?2:1,m=d.children[0];return d.style="position: absolute; background-color: ".concat(u.active?"green":"red",";"),d.children.length||(m=document.createElement("div"),m.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",d.appendChild(m)),u.y?(d.style.width="100%",d.style.height="".concat(v).concat(h),d.style.top="".concat(u.y).concat(h),d.style.left=0):(d.style.width="".concat(v).concat(h),d.style.height="100%",d.style.left="".concat(u.x).concat(h),d.style.top="0".concat(h)),!u.guide&&this.guidesContainer.appendChild(d),d},getElementPos:function(u){return this.editor.Canvas.getElementPos(u,{noScroll:1})},getElementGuides:function(u){var d=this,h=this.opts,v=this.getElementPos(u),m=v.top,_=v.height,w=v.left,x=v.width,E=[{type:"t",y:m},{type:"b",y:m+_},{type:"l",x:w},{type:"r",x:w+x},{type:"x",x:w+x/2},{type:"y",y:m+_/2}].map(function(F){return i(i({},F),{origin:u,originRect:v,guide:h.debug&&d.renderGuide(F)})});return E.forEach(function(F){var U;return(U=d.guides)===null||U===void 0?void 0:U.push(F)}),E},getTranslate:function(u,d){d===void 0&&(d="x");var h=0;return(u||"").split(" ").forEach(function(v){var m=v.trim(),_="translate".concat(d.toUpperCase(),"(");m.indexOf(_)===0&&(h=parseFloat(m.replace(_,"")))}),h},setTranslate:function(u,d,h){var v="translate".concat(d.toUpperCase(),"("),m="".concat(v).concat(h,")"),_=(u||"").split(" ").map(function(w){var x=w.trim();return x.indexOf(v)===0&&(w=m),w}).join(" ");return _.indexOf(v)<0&&(_+=" ".concat(m)),_},getPosition:function(){var u=this,d=u.target,h=u.isTran,v=d.getStyle(),m=v.left,_=v.top,w=v.transform,x=0,E=0;return h?(x=this.getTranslate(w),E=this.getTranslate(w,"y")):(x=parseFloat(m||0),E=parseFloat(_||0)),{x,y:E}},setPosition:function(u){var d=u.x,h=u.y,v=u.end,m=u.position,_=u.width,w=u.height,x=this,E=x.target,F=x.isTran,U=x.em,R="px",W=!v,de="".concat(parseInt(d,10)).concat(R),Ae="".concat(parseInt(h,10)).concat(R),Te={};if(F){var pe=E.getStyle().transform||"";pe=this.setTranslate(pe,"x",de),pe=this.setTranslate(pe,"y",Ae),Te={transform:pe,__p:W},E.addStyle(Te,{avoidStore:!v})}else{var K={position:m,width:_,height:w},he={left:de,top:Ae,__p:W};(0,t.keys)(K).forEach(function(B){var L=K[B];L&&(he[B]=L)}),Te=he,E.addStyle(Te,{avoidStore:!v})}U?.Styles.__emitCmpStyleUpdate(Te,{components:U.getSelected()})},_getDragData:function(){var u=this.target;return{target:u,parent:u.parent(),index:u.index()}},onStart:function(u){var d=this,h=d.target,v=d.editor,m=d.isTran,_=d.opts,w=_.center,x=_.onStart,E=v.Canvas,F=h.getStyle(),U="absolute",R=[U,"relative"];if(x&&x(this._getDragData()),!m&&F.position!==U){var W=E.offset(h.getEl()),de=W.left,Ae=W.top,Te=W.width,pe=W.height,K=h.parent(),he=void 0;do{var B=K.getStyle();he=R.indexOf(B.position)>=0?K:null,K=K.parent()}while(K&&!he);if(w){var L=E.getMouseRelativeCanvas(u),z=L.x,j=L.y;de=z,Ae=j}else if(he){var oe=E.offset(he.getEl());de=de-oe.left,Ae=Ae-oe.top}this.setPosition({x:de,y:Ae,width:"".concat(Te,"px"),height:"".concat(pe,"px"),position:U})}},onDrag:function(){for(var u=this,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var v=this,m=v.guidesTarget,_=v.opts,w=_.onDrag;this.updateGuides(m),_.debug&&m.forEach(function(x){return u.renderGuide(x)}),_.guidesInfo&&this.renderGuideInfo(m.filter(function(x){return x.active})),w&&w(this._getDragData())},onEnd:function(u,d,h){h===void 0&&(h={});var v=this,m=v.editor,_=v.opts,w=v.id,x=_.onEnd;x&&x(u,h,i(i({event:u},h),this._getDragData())),m.stopCommand(w),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var u=this;["X","Y"].forEach(function(d){var h=u["elGuideInfo".concat(d)];h&&(h.style.display="none")})},renderGuideInfo:function(u){var d=this;u===void 0&&(u=[]);var h=this.guidesStatic;this.hideGuidesInfo(),u.forEach(function(v){var m=v.origin,_=v.x,w=d.getElementPos(m),x=(0,t.isUndefined)(_)?"y":"x",E=x==="y",F=w[E?"left":"top"],U=w.rect[E?"left":"top"],R=E?F+w.width:F+w.height,W=E?U+w.rect.width:U+w.rect.height,de=d["elGuideInfo".concat(x.toUpperCase())],Ae=d["elGuideInfoContent".concat(x.toUpperCase())],Te=de.style,pe=h?.filter(function(ze){return ze.type===v.type}).map(function(ze){var se=ze.originRect,Se=se.left,Me=se.width,Ke=se.top,Ze=se.height,We=E?Se:Ke,ut=E?Se+Me:Ke+Ze;return{gap:ut<F?F-ut:We-R,guide:ze}}).filter(function(ze){return ze.gap>0}).sort(function(ze,se){return ze.gap-se.gap}).map(function(ze){return ze.guide})[0];if(pe){var K=pe.originRect,he=K.left,B=K.width,L=K.top,z=K.height,j=K.rect,oe=E?he<w.left:L<w.top,D=E?he:L,be=E?j.left:j.top,we=E?he+B:L+z,Re=E?j.left+j.width:j.top+j.height,at=E?v.y:v.x,ct=oe?we:R,Ot="".concat(at,"px"),xe=oe?F-we:D-R,Ee=oe?U-Re:be-W;Te.display="",Te[E?"top":"left"]=Ot,Te[E?"left":"top"]="".concat(ct,"px"),Te[E?"width":"height"]="".concat(xe,"px"),Ae.innerHTML="".concat(Math.round(Ee),"px"),d.em.trigger("".concat(s,":active"),i(i({},d.getEventOpts()),{guide:v,guidesStatic:h,matched:pe,posFirst:at,posSecond:ct,size:xe,sizeRaw:Ee,elGuideInfo:de,elGuideInfoCnt:Ae}))}})},toggleDrag:function(u){var d=this,h=d.ppfx,v=d.editor,m=u?"add":"remove",_=["".concat(h,"is__grabbing")],w=v.Canvas,x=w.getBody();_.forEach(function(E){return x.classList[m](E)}),w[u?"startAutoscroll":"stopAutoscroll"]()}}},462:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});let t={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var c=s.components(),u=c&&c.filter(function(d){return d.get("selectable")})[0];u&&i.push(u)}),i.length&&n.select(i)}}}},658:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});let t={run:function(n,i,s){if(s===void 0&&(s={}),!(!n.Canvas.hasFocus()&&!s.force)){var c=[];n.getSelectedAll().forEach(function(u){for(var d=u.parent();d&&!d.get("selectable");)d=d.parent();d&&c.push(d)}),c.length&&n.select(c)}}}},619:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});let t={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var c=s.parent();if(c){var u=c.components().length,d=0,h=0,v;do d++,h=s.index()+d,v=h<=u?c.getChildAt(h):null;while(v&&!v.get("selectable"));i.push(v||s)}}),i.length&&n.select(i)}}}},935:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});let t={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var c=s.parent();if(c){var u=0,d=0,h;do u++,d=s.index()-u,h=d>=0?c.getChildAt(d):null;while(h&&!h.get("selectable"));i.push(h||s)}}),i.length&&n.select(i)}}}},536:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(523);let n={run:function(i,s,c){c===void 0&&(c={});var u=c.target,d=[];if(!u.get("styles"))return d;var h=u.get("type"),v=i.Pages.getAllWrappers(),m=(0,t.flatten)(v.map(function(w){return w.findType(h)})).length;if(!m){var _=i.CssComposer.getAll();d=_.filter(function(w){return w.get("group")==="cmp:".concat(h)}),_.remove(d)}return d}}},957:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=function(i,s,c){if(c||arguments.length===2)for(var u=0,d=s.length,h;u<d;u++)(h||!(u in s))&&(h||(h=Array.prototype.slice.call(s,0,u)),h[u]=s[u]);return i.concat(h||Array.prototype.slice.call(s))};let n={run:function(i){var s=i.getModel(),c=t([],i.getSelectedAll(),!0).map(function(u){var d,h;return((h=(d=u.delegate)===null||d===void 0?void 0:d.copy)===null||h===void 0?void 0:h.call(d,u))||u}).filter(Boolean);c.length&&s.set("clipboard",c)}}},413:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(926);let n={run:function(i,s,c){var u=this;c===void 0&&(c={}),s&&s.set&&s.set("active",0);var d=i.getConfig(),h=i.Modal,v=d.stylePrefix;if(this.cm=i.CodeManager||null,!this.editors){var m=this.buildEditor("htmlmixed","hopscotch","HTML"),_=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=m.model,this.cssEditor=_.model;var w=(0,t.a_)("div",{class:"".concat(v,"export-dl")});w.appendChild(m.el),w.appendChild(_.el),this.editors=w}h.open({title:d.textViewCode,content:this.editors}).getModel().once("change:open",function(){return i.stopCommand("".concat(u.id))}),this.htmlEditor.setContent(i.getHtml(c.optsHtml)),this.cssEditor.setContent(i.getCss(c.optsCss))},stop:function(i){var s=i.Modal;s&&s.close()},buildEditor:function(i,s,c){var u=this.em.CodeManager,d=u.createViewer({label:c,codeName:i,theme:s}),h=new u.EditorView({model:d,config:u.getConfig()}).render().el;return{model:d,el:h}}}},516:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(523);let n={isEnabled:function(){var i=document;return!!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement)},enable:function(i){var s="";return i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?(s="webkit",i.webkitRequestFullscreen()):i.mozRequestFullScreen?(s="moz",i.mozRequestFullScreen()):i.msRequestFullscreen&&i.msRequestFullscreen(),s},disable:function(){var i=document;this.isEnabled()&&(i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen&&i.msExitFullscreen())},fsChanged:function(i){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(i||"","fullscreenchange"),this.fsChanged))},run:function(i,s,c){c===void 0&&(c={}),this.sender=s;var u=c.target,d=(0,t.isElement)(u)?u:document.querySelector(u),h=this.enable(d||i.getContainer());this.fsChanged=this.fsChanged.bind(this,h),document.addEventListener(h+"fullscreenchange",this.fsChanged)},stop:function(i,s){s&&s.set&&s.set("active",!1),this.disable()}}},13:(o,r,e)=>{e.r(r),e.d(r,{default:()=>u});var t=e(523),n=e(694),i=e(926),s=e(194),c=e(582);let u=(0,t.extend)({},c.default,s.default,{init:function(d){s.default.init.apply(this,arguments),(0,t.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=d,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];s.default.enable.apply(this,d),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var v=this.$wrapper;v.css("cursor","move"),v.on("mousedown",this.initSorter),v.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(d){var h=(0,n.default)(d.target).data("model"),v=h.get("draggable");v&&(this.cacheEl=null,this.startSelectPosition(d.target,this.frameEl.contentDocument),this.sorter.draggable=v,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,i.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(d){var h=d.get("draggable");if(h){this.cacheEl=null;var v=d.view.el;this.startSelectPosition(v,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(d){this.cacheEl=null;var h=d[d.length-1],v=this.em.getCurrentFrame(),m=h.getEl(v?.model),_=m.ownerDocument;this.startSelectPosition(m,_,{onStart:this.onStart}),this.sorter.draggable=h.get("draggable"),this.sorter.toMove=d,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(d,h){},rollback:function(d,h){var v=d.which||d.keyCode;(v==27||h)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,n.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,n.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];s.default.stop.apply(this,d),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var v=this.$wrapper;v.css("cursor","").unbind().removeClass(this.noSelClass)}})},204:(o,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(523),n=e(926);let i={open:function(s){var c=this,u=this,d=u.editor,h=u.title,v=u.config,m=u.am,_=v.custom;if((0,t.isFunction)(_.open))return _.open(m.__customData());var w=d.Modal;w.open({title:h,content:s}).onceClose(function(){return d.stopCommand(c.id)})},close:function(){var s=this.config.custom;if((0,t.isFunction)(s.close))return s.close(this.am.__customData());var c=this.editor.Modal;c&&c.close()},run:function(s,c,u){u===void 0&&(u={});var d=s.AssetManager,h=d.getConfig(),v=u.types,m=v===void 0?[]:v,_=u.accept,w=u.select;if(this.title=u.modalTitle||s.t("assetManager.modalTitle")||"",this.editor=s,this.config=h,this.am=d,d.setTarget(u.target),d.onClick(u.onClick),d.onDblClick(u.onDblClick),d.onSelect(u.onSelect),d.__behaviour({select:w,types:m,options:u}),h.custom)this.rendered=this.rendered||(0,n.a_)("div"),this.rendered.className="".concat(h.stylePrefix,"custom-wrp"),d.__behaviour({container:this.rendered}),d.__trgCustom();else{if(!this.rendered||m){var x=d.getAll().filter(function(F){return F});m&&m.length&&(x=x.filter(function(F){return m.indexOf(F.get("type"))!==-1})),d.render(x),this.rendered=d.getContainer()}if(_){var E=this.rendered.querySelector("input#".concat(h.stylePrefix,"uploadFile"));E&&E.setAttribute("accept",_)}}return this.open(this.rendered),this},stop:function(s){this.editor=s,this.close(this.rendered)}}},195:(o,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(523),n=e(926);let i={open:function(){var s=this,c=s.container,u=s.editor,d=s.bm,h=s.config,v=h.custom,m=h.appendTo;if((0,t.isFunction)(v.open))return v.open(d.__customData());if(this.firstRender&&!m){var _="views-container",w=u.Panels,x=w.getPanel(_)||w.addPanel({id:_});x.set("appendContent",c).trigger("change:appendContent"),v||c.appendChild(d.render())}c&&(c.style.display="block")},close:function(){var s=this,c=s.container,u=s.config,d=u.custom;if((0,t.isFunction)(d.close))return d.close(this.bm.__customData());c&&(c.style.display="none")},run:function(s){var c=s.Blocks;this.config=c.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,n.a_)("div"),this.editor=s,this.bm=c;var u=this.container;c.__behaviour({container:u}),this.config.custom&&c.__trgCustom(),this.open()},stop:function(){this.close()}}},671:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});let t={run:function(n){var i=n.LayerManager,s=n.Panels,c=i.getConfig();if(!c.appendTo){if(!this.layers){var u="views-container",d=document.createElement("div"),h=s.getPanel(u)||s.addPanel({id:u});c.custom?i.__trgCustom({container:d}):d.appendChild(i.render()),h.set("appendContent",d).trigger("change:appendContent"),this.layers=d}this.layers.style.display="block"}},stop:function(){var n=this.layers;n&&(n.style.display="none")}}},49:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(694);let n={run:function(i,s){if(this.sender=s,!this.$cnt){var c=i.getConfig(),u=i.Panels,d=i.DeviceManager,h=i.SelectorManager,v=i.StyleManager,m="change:appendContent",_=(0,t.default)("<div></div>"),w=(0,t.default)("<div></div>"),x=(0,t.default)("<div></div>"),E=(0,t.default)("<div></div>");if(this.$cnt=_,this.$cntInner=w,w.append(x),w.append(E),_.append(w),d&&c.showDevices){var F=u.addPanel({id:"devices-c"}),U=d.render();F.set("appendContent",U).trigger(m)}var R=h.getConfig();R.custom?h.__trgCustom({container:x.get(0)}):R.appendTo||x.append(h.render([])),this.sm=v;var W=v.getConfig(),de=W.stylePrefix;this.$header=(0,t.default)('<div class="'.concat(de,'header">').concat(i.t("styleManager.empty"),"</div>")),_.append(this.$header),W.custom?v.__trgCustom({container:E.get(0)}):W.appendTo||E.append(v.render());var Ae="views-container",Te=u.getPanel(Ae)||u.addPanel({id:Ae});Te.set("appendContent",_).trigger(m);var pe=i.getModel();this.listenTo(pe,v.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var i=this,s=i.sender,c=i.sm,u=i.$cntInner,d=i.$header;s&&s.get&&!s.get("active")||!c||(c.getSelected()?(u?.show(),d?.hide()):(u?.hide(),d?.show()))},stop:function(){var i,s;(i=this.$cntInner)===null||i===void 0||i.hide(),(s=this.$header)===null||s===void 0||s.hide()}}},590:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(694);let n={run:function(i,s){this.sender=s;var c=i.getModel(),u=i.Config,d=u.stylePrefix,h=i.TraitManager,v=h.getConfig(),m;if(!v.appendTo){if(!this.$cn){this.$cn=(0,t.default)("<div></div>"),this.$cn2=(0,t.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,t.default)("<div>").append('<div class="'.concat(v.stylePrefix,'header">').concat(c.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),v.custom?h.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(d,'traits-label">').concat(c.t("traitManager.label"),"</div>")),this.$cn2.append(h.render()));var _=i.Panels;_.getPanel("views-container")?m=_.getPanel("views-container"):m=_.addPanel({id:"views-container"}),m?.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=i.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var i=this.sender;i&&i.get&&!i.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},483:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(523);let n={run:function(s,c,u){u===void 0&&(u={});var d=s.getModel(),h=d.get("clipboard"),v=s.getSelected();h?.length&&v&&(s.getSelectedAll().forEach(function(m){var _,w,x,E=((w=(_=m.delegate)===null||_===void 0?void 0:_.copy)===null||w===void 0?void 0:w.call(_,m))||m,F=E.collection,U;if(F){var R=E.index()+1,W={at:R,action:u.action||"paste-component"};(0,t.contains)(h,E)&&E.get("copyable")?U=F.add(E.clone(),W):U=i(s,h,E.parent(),W)}else{var de=(x=d.Pages.getSelected())===null||x===void 0?void 0:x.getMainComponent(),W={at:de?.components().length||0,action:u.action||"paste-component"};U=i(s,h,de,W)}U=(0,t.isArray)(U)?U:[U],U.forEach(function(Ae){return s.trigger("component:paste",Ae)})}),v.emitUpdate())}};function i(s,c,u,d){var h=c.filter(function(m){return m.get("copyable")}),v=h.filter(function(m){return s.Components.canMove(u,m).result});return u.components().add(v.map(function(m){return m.clone()}),d)}},857:(o,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(523),n=function(c,u,d){if(d||arguments.length===2)for(var h=0,v=u.length,m;h<v;h++)(m||!(h in u))&&(m||(m=Array.prototype.slice.call(u,0,h)),m[h]=u[h]);return c.concat(m||Array.prototype.slice.call(u))},i="core:component-outline";let s={getPanels:function(c){return this.panels||(this.panels=c.Panels.getPanels()),this.panels},preventDrag:function(c){c.abort=1},tglEffects:function(c){var u=this.em,d=c?"on":"off";if(u){var h=u.Canvas,v=h.getBody(),m=h.getToolbarEl();m&&(m.style.display=c?"none":"");var _=v.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,t.each)(_,function(w){return w.style.pointerEvents=c?"all":""}),u[d]("run:tlb-move:before",this.preventDrag)}},run:function(c,u){var d=this;this.sender=u,this.selected=n([],c.getSelectedAll(),!0),c.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=c.Commands.isActive(i)),this.shouldRunSwVisibility&&c.stopCommand(i),c.getModel().stopDefault();var h=this.getPanels(c),v=c.Canvas.getElement(),m=c.getEl(),_=c.Config.stylePrefix;if(!this.helper){var w=document.createElement("span");w.className="".concat(_,"off-prv fa fa-eye-slash"),m.appendChild(w),w.onclick=function(){return d.stopCommand()},this.helper=w}this.helper.style.display="inline-block",h.forEach(function(E){return E.set("visible",!1)});var x=v.style;x.width="100%",x.height="100%",x.top="0",x.left="0",x.padding="0",x.margin="0",c.refresh(),this.tglEffects(1)},stop:function(c){var u=this,d=u.sender,h=d===void 0?{}:d,v=u.selected;h.set&&h.set("active",0);var m=this.getPanels(c);this.shouldRunSwVisibility&&(c.runCommand(i),this.shouldRunSwVisibility=!1),c.getModel().runDefault(),m.forEach(function(w){return w.set("visible",!0)});var _=c.Canvas.getElement();_.setAttribute("style",""),v&&c.select(v),delete this.selected,this.helper&&(this.helper.style.display="none"),c.refresh(),this.tglEffects()}}},869:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=function(){return t=Object.assign||function(i){for(var s,c=1,u=arguments.length;c<u;c++){s=arguments[c];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(i[d]=s[d])}return i},t.apply(this,arguments)};let n={run:function(i,s,c){var u=c||{},d=i.Canvas,h=d.getCanvasView(),v=t({appendTo:d.getResizerEl(),prefix:i.getConfig().stylePrefix,posFetcher:h.getElementPos.bind(h),mousePosFetcher:d.getMouseRelativePos.bind(d)},u.options||{}),m=this.canvasResizer;return(!m||u.forceNew)&&(this.canvasResizer=new i.Utils.Resizer(v),m=this.canvasResizer),m.setOptions(v,!0),m.blur(),m.focus(u.el),m},stop:function(){var i;(i=this.canvasResizer)===null||i===void 0||i.blur()}}},194:(o,r,e)=>{e.r(r),e.d(r,{default:()=>he});var t=e(523),n=e(268),i=function(){var B=function(L,z){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,oe){j.__proto__=oe}||function(j,oe){for(var D in oe)Object.prototype.hasOwnProperty.call(oe,D)&&(j[D]=oe[D])},B(L,z)};return function(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");B(L,z);function j(){this.constructor=L}L.prototype=z===null?Object.create(z):(j.prototype=z.prototype,new j)}}(),s=function(B){i(L,B);function L(){return B!==null&&B.apply(this,arguments)||this}return L.prototype.defaults=function(){return{command:"",attributes:{}}},L}(n.Kx);let c=s;var u=function(){var B=function(L,z){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,oe){j.__proto__=oe}||function(j,oe){for(var D in oe)Object.prototype.hasOwnProperty.call(oe,D)&&(j[D]=oe[D])},B(L,z)};return function(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");B(L,z);function j(){this.constructor=L}L.prototype=z===null?Object.create(z):(j.prototype=z.prototype,new j)}}(),d=function(B){u(L,B);function L(){return B!==null&&B.apply(this,arguments)||this}return L}(n.pM);let h=d;d.prototype.model=c;var v=e(754),m=function(){var B=function(L,z){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,oe){j.__proto__=oe}||function(j,oe){for(var D in oe)Object.prototype.hasOwnProperty.call(oe,D)&&(j[D]=oe[D])},B(L,z)};return function(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");B(L,z);function j(){this.constructor=L}L.prototype=z===null?Object.create(z):(j.prototype=z.prototype,new j)}}(),_=function(){return _=Object.assign||function(B){for(var L,z=1,j=arguments.length;z<j;z++){L=arguments[z];for(var oe in L)Object.prototype.hasOwnProperty.call(L,oe)&&(B[oe]=L[oe])}return B},_.apply(this,arguments)},w=function(B){m(L,B);function L(z){var j=B.call(this,z)||this;return j.em=z.config.em,j}return L.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},L.prototype.attributes=function(){return this.model.get("attributes")},L.prototype.handleClick=function(z){z.preventDefault(),z.stopPropagation();var j=this.em,oe=j.Canvas.getFrameEl().getBoundingClientRect(),D=oe.left,be=oe.top,we=_(_({},z),{clientX:z.clientX-D,clientY:z.clientY-be});j.trigger("toolbar:run:before",{event:we}),this.execCommand(we)},L.prototype.execCommand=function(z){var j=this,oe=j.em,D=j.model,be={event:z},we=D.get("command"),Re=oe.Editor;(0,t.isFunction)(we)&&we(Re,null,be),(0,t.isString)(we)&&Re.runCommand(we,be)},L.prototype.render=function(){var z=this,j=z.em,oe=z.$el,D=z.model,be=D.get("id"),we=D.get("label"),Re=j.getConfig().stylePrefix;return oe.addClass("".concat(Re,"toolbar-item")),be&&oe.addClass("".concat(Re,"toolbar-item__").concat(be)),we&&oe.append(we),this},L}(n.Ss);let x=w;var E=function(){var B=function(L,z){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,oe){j.__proto__=oe}||function(j,oe){for(var D in oe)Object.prototype.hasOwnProperty.call(oe,D)&&(j[D]=oe[D])},B(L,z)};return function(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");B(L,z);function j(){this.constructor=L}L.prototype=z===null?Object.create(z):(j.prototype=z.prototype,new j)}}(),F=function(B){E(L,B);function L(z){var j=B.call(this,z)||this,oe=z.em;return j.em=oe,j.config={em:oe},j.listenTo(j.collection,"reset",j.render),j}return L.prototype.onRender=function(){var z=this.em.config.stylePrefix;this.el.className="".concat(z,"toolbar-items")},L}(v.A);let U=F;F.prototype.itemView=x;var R=e(926),W=e(342),de=e(683),Ae=e(249),Te=function(){return Te=Object.assign||function(B){for(var L,z=1,j=arguments.length;z<j;z++){L=arguments[z];for(var oe in L)Object.prototype.hasOwnProperty.call(L,oe)&&(B[oe]=L[oe])}return B},Te.apply(this,arguments)},pe=function(B,L){var z={};for(var j in B)Object.prototype.hasOwnProperty.call(B,j)&&L.indexOf(j)<0&&(z[j]=B[j]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var oe=0,j=Object.getOwnPropertySymbols(B);oe<j.length;oe++)L.indexOf(j[oe])<0&&Object.prototype.propertyIsEnumerable.call(B,j[oe])&&(z[j[oe]]=B[j[oe]]);return z},K;let he={activeResizer:!1,init:function(){this.onSelect=(0,t.debounce)(this.onSelect,0),(0,t.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),K=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(B){var L=this,z=this.em,j=z.getConfig().listenToEl,oe=z.getContainer().parentNode,D=B?"on":"off",be={on:R.on,off:R.AU},we=Ae.I.update;!j.length&&oe&&j.push(oe);var Re=function(at,ct){be[D](ct,"mouseover",L.onHover),be[D](ct,"mouseleave",L.onOut),be[D](ct,"click",L.onClick),be[D](at,"scroll",L.onFrameScroll,!0),be[D](at,"resize",L.onFrameResize)};be[D](window,"resize",this.onFrameUpdated),be[D](j,"scroll",this.onContainerChange),z[D]("component:toggled ".concat(we," undo redo"),this.onSelect,this),z[D]("change:componentHovered",this.onHovered,this),z[D]("component:resize styleable:change component:input",this.updateGlobalPos,this),z[D]("".concat(we,":toolbar"),this._upToolbar,this),z[D]("frame:updated",this.onFrameUpdated,this),z[D]("canvas:updateTools",this.onFrameUpdated,this),z[D](z.Canvas.events.refresh,this.updateAttached,this),z.Canvas.getFrames().forEach(function(at){var ct=at.view,Ot=ct?.getWindow();Ot&&Re(Ot,ct?.getBody())})},onHover:function(B){B.stopPropagation();var L=this.em,z=B.target,j=(0,W.getComponentView)(z),oe=j?.frameView,D=j?.model;if(!D)for(var be=z.parentNode;!D&&be&&!(0,R.ZQ)(be);)D=(0,W.getComponentModel)(be),be=be.parentNode;this.currentDoc=z.ownerDocument,L.setHovered(D,{useValid:!0}),oe&&L.setCurrentFrame(oe)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(B,L){var z=this,j,oe={};L?(j=L.views)===null||j===void 0||j.forEach(function(D){var be=D.el,we=z.getElementPos(be);oe={el:be,pos:we,component:L,view:(0,W.getViewEl)(be)},be.ownerDocument===z.currentDoc&&(z.elHovered=oe),z.updateToolsLocal(oe)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(D){var be=D.view,we=be&&be.getToolsEl();we&&z.toggleToolsEl(0,0,{el:we})}))},onSelect:function(){var B=this.em,L=B.getSelected(),z=B.getCurrentFrame(),j=L&&L.getView(z?.model),oe=j&&j.el,D={};if(oe&&(0,R.zN)(oe)){var be=this.getElementPos(oe);D={el:oe,pos:be,component:L,view:(0,W.getViewEl)(oe)}}this.elSelected=D,this.updateToolsGlobal(),this.updateLocalPos(D),this.initResize(L)},updateGlobalPos:function(){var B=this.getElSelected();B.el&&(B.pos=this.getElementPos(B.el),this.updateToolsGlobal())},updateLocalPos:function(B){var L=this.getElHovered();L.el&&(L.pos=this.getElementPos(L.el),this.updateToolsLocal(B))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(B,L,z){z===void 0&&(z={});var j=z.el||this.canvas.getToolsEl(L);return j&&(j.style.display=B?"":"none"),j||{}},showElementOffset:function(B,L,z){z===void 0&&(z={}),K&&this.editor.runCommand("show-offset",{el:B,elPos:L,view:z.view,force:1,top:0,left:0})},hideElementOffset:function(B){this.editor.stopCommand("show-offset",{view:B})},showFixedElementOffset:function(B,L){this.editor.runCommand("show-offset",{el:B,elPos:L,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(B){this.canvas.getHighlighter(B).style.opacity=0},onClick:function(B){B.stopPropagation(),B.preventDefault();var L=this.em;if(L.get("_cmpDrag"))return L.set("_cmpDrag");var z=B.target,j=(0,W.getComponentModel)(z);if(!j)for(var oe=z.parentNode;!j&&oe&&!(0,R.ZQ)(oe);)j=(0,W.getComponentModel)(oe),oe=oe.parentNode;if(j){if(L.isEditing()&&(!j.get("textable")&&j.isChildOf("text")||L.getEditing()!==j))return;this.select(j,B)}},select:function(B,L){L===void 0&&(L={}),B&&(this.editor.select(B,{event:L,useValid:!0}),this.initResize(B))},updateBadge:function(B,L,z){z===void 0&&(z={});var j=this.canvas,oe=(0,W.getComponentModel)(B),D=this.getBadge(z),be=D.style;if(!oe||!oe.get("badgable")){be.display="none";return}if(!z.posOnly){var we=this.canvas.getConfig(),Re=oe.getIcon(),at=we.pStylePrefix||"",ct="".concat(at,"badge"),Ot=we.customBadgeLabel,xe="".concat(Re?'<div class="'.concat(ct,'__icon">').concat(Re,"</div>"):"",`
        <div class="`).concat(ct,'__name">').concat(oe.getName(),"</div>");D.innerHTML=Ot?Ot(oe):xe}var Ee="px";be.display="block";var ze=j.getTargetToElementFixed(B,D,{pos:L}),se=ze.top,Se=z.leftOff<0?-z.leftOff:0;be.top=se+Ee,be.left=Se+Ee},showHighlighter:function(B){this.canvas.getHighlighter(B).style.opacity=""},initResize:function(B){var L=this,z=L.em,j=L.canvas,oe=z.Editor,D=!(0,t.isElement)(B)&&(0,R.GW)(B)?B:z.getSelected(),be=D?.get("resizable"),we=de.F.Resize,Re=j.hasCustomSpot(we);if(j.removeSpots({type:we}),D&&be){j.addSpot({type:we,component:D});var at=(0,t.isElement)(B)?B:D.getEl(),ct=(0,W.isObject)(be)?be:{},Ot=ct.onStart,xe=Ot===void 0?function(){}:Ot,Ee=ct.onMove,ze=Ee===void 0?function(){}:Ee,se=ct.onEnd,Se=se===void 0?function(){}:se,Me=ct.updateTarget,Ke=Me===void 0?function(){}:Me,Ze=pe(ct,["onStart","onMove","onEnd","updateTarget"]);if(Re||!at||this.activeResizer)return;var We,ut=z.config,zt=ut.stylePrefix||"",xt="".concat(zt,"resizing"),pn=this,tn={component:D,el:at},Tt=function(N,Z,ue){var Ce=ue.docs;Ce&&Ce.forEach(function(G){var ve=G.body,ce=ve.className||"";ve.className=(N=="add"?"".concat(ce," ").concat(xt):ce.replace(xt,"")).trim()})},T=Te({onStart:function(N,Z){xe(N,Z);var ue=Z.el,Ce=Z.config,G=Z.resizer,ve=Ce.keyHeight,ce=Ce.keyWidth,gt=Ce.currentUnit,kt=Ce.keepAutoHeight,Et=Ce.keepAutoWidth;Tt("add",N,Z),We=z.Styles.getModelToStyle(D),j.toggleFramesEvents(!1);var H=getComputedStyle(ue),re=We.getStyle(),k=re[ce];Ce.autoWidth=Et&&k==="auto",isNaN(parseFloat(k))&&(k=H[ce]);var ke=re[ve];Ce.autoHeight=kt&&ke==="auto",isNaN(parseFloat(ke))&&(ke=H[ve]),G.startDim.w=parseFloat(k),G.startDim.h=parseFloat(ke),K=!1,gt&&(Ce.unitHeight=(0,W.getUnitFromValue)(ke),Ce.unitWidth=(0,W.getUnitFromValue)(k)),pn.activeResizer=!0,oe.trigger("component:resize",Te(Te({},tn),{type:"start"}))},onMove:function(N){ze(N),oe.trigger("component:resize",Te(Te({},tn),{type:"move"}))},onEnd:function(N,Z){Se(N,Z),Tt("remove",N,Z),oe.trigger("component:resize",Te(Te({},tn),{type:"end"})),j.toggleFramesEvents(!0),K=!0,pn.activeResizer=!1},updateTarget:function(N,Z,ue){if(Ke(N,Z,ue),!!We){var Ce=ue.store,G=ue.selectedHandler,ve=ue.config,ce=ve.keyHeight,gt=ve.keyWidth,kt=ve.autoHeight,Et=ve.autoWidth,H=ve.unitWidth,re=ve.unitHeight,k=["tc","bc"].indexOf(G)>=0,ke=["cl","cr"].indexOf(G)>=0,_e={};if(!k){var Be=j.getBody().offsetWidth,lt=Z.w<Be?Z.w:Be;_e[gt]=Et?"auto":"".concat(lt).concat(H)}ke||(_e[ce]=kt?"auto":"".concat(Z.h).concat(re)),z.getDragMode(D)&&(_e.top="".concat(Z.t).concat(re),_e.left="".concat(Z.l).concat(H));var st=Te(Te({},_e),{__p:!Ce});We.addStyle(st,{avoidStore:!Ce}),z.Styles.__emitCmpStyleUpdate(st,{components:z.getSelected()})}}},Ze);this.resizer=oe.runCommand("resize",{el:at,options:T,force:1})}else{if(Re)return;oe.stopCommand("resize"),this.resizer=null}},updateToolbar:function(B){var L=this.canvas,z=this.config.em,j=B===z?z.getSelected():B,oe=L.getToolbarEl(),D=oe.style,be=j.get("toolbar"),we=z.config.showToolbar,Re=!L.hasCustomSpot(de.F.Select);if(j&&we&&be&&be.length&&Re){if(D.display="",!this.toolbar){oe.innerHTML="",this.toolbar=new h(be);var at=new U({collection:this.toolbar,em:z});oe.appendChild(at.render().el)}this.toolbar.reset(be),D.top="-100px",D.left="0"}else D.display="none"},updateToolbarPos:function(B){var L="px",z=this.canvas.getToolbarEl().style;z.top="".concat(B.top).concat(L),z.left="".concat(B.left).concat(L),z.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(B){return B===void 0&&(B={}),this.canvas.getBadgeEl(B.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(B){return B&&B.get("status")==="selected"},updateToolsLocal:function(B){var L=this.em.getConfig(),z=B||this.getElHovered(),j=z.el,oe=z.pos,D=z.view,be=z.component;if(!j){this.lastHovered=0;return}var we=be.get("hoverable"),Re=this.lastHovered!==j,at=Re?{}:{posOnly:1},ct=this.canvas.hasCustomSpot(de.F.Hover);Re&&we&&(this.lastHovered=j,ct?this.hideHighlighter(D):this.showHighlighter(D),this.showElementOffset(j,oe,{view:D})),this.isCompSelected(be)&&(this.hideHighlighter(D),!L.showOffsetsSelected&&this.hideElementOffset(D));var Ot="px",xe=this.toggleToolsEl(1,D),Ee=xe.style,ze=this.canvas.canvasRectOffset(j,oe),se=ze.top,Se=ze.left;!ct&&this.updateBadge(j,oe,Te(Te({},at),{view:D,topOff:se,leftOff:Se})),Ee.top=se+Ot,Ee.left=Se+Ot,Ee.width=oe.width+Ot,Ee.height=oe.height+Ot,this._trgToolUp("local",{component:be,el:xe,top:se,left:Se,width:oe.width,height:oe.height})},_upToolbar:(0,t.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(B,L){L===void 0&&(L={}),this.em.trigger("canvas:tools:update",Te({type:B},L))},updateToolsGlobal:function(B){B===void 0&&(B={});var L=this.getElSelected(),z=L.el,j=L.pos,oe=L.component;if(!z){this.toggleToolsEl(),this.lastSelected=0;return}var D=this.canvas,be=this.lastSelected!==z;(be||B.force)&&(this.lastSelected=z,this.updateToolbar(oe));var we="px",Re=this.toggleToolsEl(1),at=Re.style,ct=D.getTargetToElementFixed(z,D.getToolbarEl(),{pos:j}),Ot=ct.canvasOffsetTop,xe=ct.canvasOffsetLeft;at.top=Ot+we,at.left=xe+we,at.width=j.width+we,at.height=j.height+we,this.updateToolbarPos({top:ct.top,left:ct.left}),this._trgToolUp("global",{component:oe,el:Re,top:Ot,left:xe,width:j.width,height:j.height})},updateAttached:(0,t.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,t.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(B){return this.canvas.getCanvasView().getElementPos(B,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(B){B&&B.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(B){(0,W.hasWin)()&&(this.editor=B&&B.get("Editor"),this.enable())},stop:function(B,L,z){if(z===void 0&&(z={}),!!(0,W.hasWin)()){var j=this,oe=j.em,D=j.editor;this.onHovered(),this.stopSelectComponent(),!z.preserveSelected&&oe.setSelected(),this.toggleToolsEl(),D&&D.stopCommand("resize")}}}},582:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(694);let n={startSelectPosition:function(i,s,c){var u=this;c===void 0&&(c={}),this.isPointed=!1;var d=this.em.Utils,h=i.ownerDocument.body;d&&!this.sorter&&(this.sorter=new d.Sorter({container:h,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:s,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return u.em.getZoomDecimal()}})),c.onStart&&(this.sorter.onStart=c.onStart),i&&this.sorter.startSort(i,{container:h})},getOffsetDim:function(){var i=this.offset(this.canvas.getFrameEl()),s=this.offset(this.canvas.getElement()),c=i.top-s.top,u=i.left-s.left;return{top:c,left:u}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,t.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,t.default)(this.cDim[this.posIndex][5]).parent():(0,t.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(i,s,c){var u=i||0,d=s||"before",h=c.length,v=h!==0&&d=="after"&&u==h;return h!==0&&(!v&&!c[u][4]||c[u-1]&&!c[u-1][4]||v&&!c[u-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},131:(o,r,e)=>{e.r(r),e.d(r,{default:()=>c});var t=e(523),n=e(683),i=e(694),s=function(){return s=Object.assign||function(u){for(var d,h=1,v=arguments.length;h<v;h++){d=arguments[h];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},s.apply(this,arguments)};let c={getOffsetMethod:function(u){var d=u||"";return"get"+d+"OffsetViewerEl"},run:function(u,d,h){var v=this.canvas,m=h||{},_=m.state||"",w=u.getConfig(),x=this.em.getZoomDecimal(),E=m.el;if(!w.showOffsets||!(E instanceof HTMLElement)||!w.showOffsetsSelected&&_=="Fixed"){u.stopCommand("".concat(this.id),h);return}if(!v.hasCustomSpot(n.F.Spacing)){var F=s({},m.elPos||v.getElementPos(E));(0,t.isUndefined)(m.top)||(F.top=m.top),(0,t.isUndefined)(m.left)||(F.left=m.left);var U=window.getComputedStyle(E),R=this.ppfx,W=_+"State",de=this.getOffsetMethod(_),Ae=v[de](h.view);Ae.style.opacity="";var Te=this["marginT"+_],pe=this["marginB"+_],K=this["marginL"+_],he=this["marginR"+_],B=this["padT"+_],L=this["padB"+_],z=this["padL"+_],j=this["padR"+_];if(Ae.childNodes.length&&(this[W]="1",Te=Ae.querySelector("[data-offset-m-t]"),pe=Ae.querySelector("[data-offset-m-b]"),K=Ae.querySelector("[data-offset-m-l]"),he=Ae.querySelector("[data-offset-m-r]"),B=Ae.querySelector("[data-offset-p-t]"),L=Ae.querySelector("[data-offset-p-b]"),z=Ae.querySelector("[data-offset-p-l]"),j=Ae.querySelector("[data-offset-p-r]")),!this[W]){var oe=_.toLowerCase(),D=oe+"margin-v",be=oe+"padding-v",we=(0,i.default)('<div class="'.concat(R,'marginName">')).get(0),Re=(0,i.default)('<div class="'.concat(R,'paddingName">')).get(0),at=R+D+"-el",ct=R+be+"-el",Ot="".concat(at," ").concat(R+D),xe="".concat(ct," ").concat(R+be);Te=(0,i.default)('<div class="'.concat(Ot,'-top"></div>')).get(0),pe=(0,i.default)('<div class="'.concat(Ot,'-bottom"></div>')).get(0),K=(0,i.default)('<div class="'.concat(Ot,'-left"></div>')).get(0),he=(0,i.default)('<div class="'.concat(Ot,'-right"></div>')).get(0),B=(0,i.default)('<div class="'.concat(xe,'-top"></div>')).get(0),L=(0,i.default)('<div class="'.concat(xe,'-bottom"></div>')).get(0),z=(0,i.default)('<div class="'.concat(xe,'-left"></div>')).get(0),j=(0,i.default)('<div class="'.concat(xe,'-right"></div>')).get(0),this["marginT"+_]=Te,this["marginB"+_]=pe,this["marginL"+_]=K,this["marginR"+_]=he,this["padT"+_]=B,this["padB"+_]=L,this["padL"+_]=z,this["padR"+_]=j,we.appendChild(Te),we.appendChild(pe),we.appendChild(K),we.appendChild(he),Re.appendChild(B),Re.appendChild(L),Re.appendChild(z),Re.appendChild(j),Ae.appendChild(we),Ae.appendChild(Re),this[W]="1"}var Ee="px",ze=parseFloat(U.marginLeft.replace(Ee,""))*x,se=parseFloat(U.marginRight.replace(Ee,""))*x,Se=parseFloat(U.marginTop.replace(Ee,""))*x,Me=parseFloat(U.marginBottom.replace(Ee,""))*x,Ke=Te.style,Ze=pe.style,We=K.style,ut=he.style,zt=B.style,xt=L.style,pn=z.style,tn=j.style,Tt=parseFloat(F.left),T=parseFloat(U.width)*x+Ee;Ke.height=Se+Ee,Ke.width=T,Ke.top=F.top-Se+Ee,Ke.left=Tt+Ee,Ze.height=Me+Ee,Ze.width=T,Ze.top=F.top+F.height+Ee,Ze.left=Tt+Ee;var N=F.height+Se+Me+Ee,Z=F.top-Se+Ee;We.height=N,We.width=ze+Ee,We.top=Z,We.left=Tt-ze+Ee,ut.height=N,ut.width=se+Ee,ut.top=Z,ut.left=Tt+F.width+Ee;var ue=parseFloat(U.paddingTop)*x;zt.height=ue+Ee;var Ce=parseFloat(U.paddingBottom)*x;xt.height=Ce+Ee;var G=F.height-Ce-ue+Ee,ve=F.top+ue+Ee;pn.height=G,pn.width=parseFloat(U.paddingLeft)*x+Ee,pn.top=ve;var ce=parseFloat(U.paddingRight)*x;tn.height=G,tn.width=ce+Ee,tn.top=ve}},stop:function(u,d,h){h===void 0&&(h={});var v=h||{},m=v.state||"",_=this.getOffsetMethod(m),w=h.view,x=this.canvas,E=x[_](w);E.style.opacity=0}}},229:(o,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(523),n=e(342);let i={init:function(){(0,t.bindAll)(this,"_onFramesChange")},run:function(s){this.toggleVis(s,!0)},stop:function(s){this.toggleVis(s,!1)},toggleVis:function(s,c){if(c===void 0&&(c=!0),!s.Commands.isActive("preview")){var u=s.Canvas,d=c?"on":"off",h=u.getModel();h[d]("change:frames",this._onFramesChange),this.handleFrames(u.getFrames(),c)}},handleFrames:function(s,c){var u=this;s.forEach(function(d){var h;!((h=d.view)===null||h===void 0)&&h.loaded&&u._upFrame(d,c),d.__ol||(d.on("loaded",function(){return u._upFrame(d)}),d.__ol=!0)})},_onFramesChange:function(s,c){this.handleFrames(c)},_upFrame:function(s,c){var u,d=this,h=d.ppfx,v=d.em,m=d.id,_=(0,n.isDef)(c)?c:v.Commands.isActive(m),w=_?"add":"remove",x="".concat(h,"dashed");(u=s.view)===null||u===void 0||u.getBody().classList[w](x)}}},268:(o,r,e)=>{e.d(r,{Kx:()=>c,Ss:()=>d,lK:()=>v,pM:()=>u,x2:()=>h});var t=e(391),n=e.n(t),i=function(){var _=function(w,x){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,F){E.__proto__=F}||function(E,F){for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(E[U]=F[U])},_(w,x)};return function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");_(w,x);function E(){this.constructor=w}w.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}}(),s=function(){return s=Object.assign||function(_){for(var w,x=1,E=arguments.length;x<E;x++){w=arguments[x];for(var F in w)Object.prototype.hasOwnProperty.call(w,F)&&(_[F]=w[F])}return _},s.apply(this,arguments)},c=function(_){i(w,_);function w(){return _!==null&&_.apply(this,arguments)||this}return w}(n().Model),u=function(_){i(w,_);function w(){return _!==null&&_.apply(this,arguments)||this}return w}(n().Collection),d=function(_){i(w,_);function w(){return _!==null&&_.apply(this,arguments)||this}return w}(n().View),h=function(_){return _.Screen="screen",_.World="world",_}(h||{}),v={x:0,y:0},m=s(s({},v),{width:0,height:0})},249:(o,r,e)=>{e.d(r,{I:()=>n,t:()=>t});var t=function(i){return i.remove="component:remove",i.add="component:add",i.move="component:move",i}(t||{}),n=function(i){return i.add="component:add",i.remove="component:remove",i.removeBefore="component:remove:before",i.create="component:create",i.update="component:update",i.updateInside="component:update-inside",i.symbolMainAdd="symbol:main:add",i.symbolMainUpdate="symbol:main:update",i.symbolMainUpdateDeep="symbol:main:update-deep",i.symbolMainRemove="symbol:main:remove",i.symbolMain="symbol:main",i.symbolInstanceAdd="symbol:instance:add",i.symbolInstanceRemove="symbol:instance:remove",i.symbolInstance="symbol:instance",i.symbol="symbol",i}(n||{})},754:(o,r,e)=>{e.d(r,{A:()=>c});var t=e(523),n=e(268),i=function(){var u=function(d,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(v[_]=m[_])},u(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function v(){this.constructor=d}d.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),s=function(u){i(d,u);function d(h,v,m){h===void 0&&(h={}),m===void 0&&(m=!1);var _=u.call(this,h)||this;return _.itemsView="",_.itemType="type",_.reuseView=!1,_.config=v||h.config||{},m&&_.listenTo(_.collection,"add",_.addTo),_.items=[],_}return d.prototype.addTo=function(h){this.add(h)},d.prototype.itemViewNotFound=function(h){var v=this,m=v.config,_=v.ns,w=m.em,x="".concat(_?"[".concat(_,"]: "):"","'").concat(h,"' type not found");w&&w.logWarning(x)},d.prototype.add=function(h,v){var m=this,_=m.config,w=m.reuseView,x=m.items,E=this.itemsView||{},F=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],U=v||null,R=this.itemView,W=h.get(this.itemType),de;E[W]?R=E[W]:W&&!E[W]&&!(0,t.includes)(F,W)&&this.itemViewNotFound(W),h.view&&w?de=h.view:de=new R({model:h,config:_},_),x&&x.push(de);var Ae=de.render().el;U?U.appendChild(Ae):this.$el.append(Ae)},d.prototype.render=function(){var h=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(v){this.add(v,h)},this),this.$el.append(h),this.onRender(),this},d.prototype.onRender=function(){},d.prototype.onRemoveBefore=function(h,v){},d.prototype.onRemove=function(h,v){},d.prototype.remove=function(h){h===void 0&&(h={});var v=this.items;return this.onRemoveBefore(v,h),this.clearItems(),u.prototype.remove.call(this),this.onRemove(v,h),this},d.prototype.clearItems=function(){var h=this.items||[]},d}(n.Ss);let c=s;s.prototype.itemView=""},14:(o,r,e)=>{e.d(r,{A:()=>d});var t=e(523),n=e(926),i=function(){return i=Object.assign||function(h){for(var v,m=1,_=arguments.length;m<_;m++){v=arguments[m];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(h[w]=v[w])}return h},i.apply(this,arguments)},s=function(){return{x:0,y:0}},c=["x","y"],u=function(){function h(v){return v===void 0&&(v={}),this.opts={snapOffset:5,scale:1},(0,t.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(v),this.delta=s(),this.lastScroll=s(),this.lastScrollDiff=s(),this.startPointer=s(),this.startPosition=s(),this.globScrollDiff=s(),this.currentPointer=s(),this.position=s(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return h.prototype.setOptions=function(v){v===void 0&&(v={}),this.opts=i(i({},this.opts),v)},h.prototype.toggleDrag=function(v){var m=this.getDocumentEl(),_=this.getContainerEl(),w=this.getWindowEl(),x=v?"on":"off",E={on:n.on,off:n.AU};E[x](_,"mousemove dragover",this.drag),E[x](m,"mouseup dragend touchend",this.stop),E[x](m,"keydown",this.keyHandle),E[x](w,"scroll",this.handleScroll)},h.prototype.handleScroll=function(){var v=this,m=v.lastScroll,_=v.delta,w=this.getScrollInfo(),x={x:w.x-m.x,y:w.y-m.y};this.move(_.x+x.x,_.y+x.y),this.lastScrollDiff=x},h.prototype.start=function(v){var m=this.opts,_=m.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(v),this.guidesStatic=(0,t.result)(m,"guidesStatic")||[],this.guidesTarget=(0,t.result)(m,"guidesTarget")||[],(0,t.isFunction)(_)&&_(v,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=s(),this.globScrollDiff=s(),this.drag(v)},h.prototype.drag=function(v){var m=this,_=this,w=_.opts,x=_.lastScrollDiff,E=_.globScrollDiff,F=w.onDrag,U=this.startPointer,R=this.getPointerPos(v),W={x:E.x+x.x,y:E.y+x.y};this.globScrollDiff=W;var de={x:R.x-U.x+W.x,y:R.y-U.y+W.y};this.lastScrollDiff=s();var Ae=this.lockedAxis;v.shiftKey?Ae=!Ae&&this.detectAxisLock(de.x,de.y):Ae=null,Ae==="x"?de.x=U.x:Ae==="y"&&(de.y=U.y);var Te=function(z){c.forEach(function(j){return z[j]=z[j]*(0,t.result)(w,"scale")}),m.delta=z,m.move(z.x,z.y),(0,t.isFunction)(F)&&F(v,m)},pe=i({},de);if(this.currentPointer=R,this.lockedAxis=Ae,this.lastScroll=this.getScrollInfo(),Te(de),this.guidesTarget.length){var K=this.snapGuides(pe),he=K.newDelta,B=K.trgX,L=K.trgY;(B||L)&&Te(he)}v.which===0&&this.stop(v)},h.prototype.snapGuides=function(v){var m=this,_=v,w=this,x=w.trgX,E=w.trgY;return this.guidesTarget.forEach(function(F){F.x&&m.trgX||F.y&&m.trgY||(F.active=!1,m.guidesStatic.forEach(function(U){if(!(F.y&&U.x||F.x&&U.y)){var R=F.y&&U.y,W=R?"y":"x",de=F[W],Ae=U[W],Te=v[W],pe=R?E:x;if(m.isPointIn(de,Ae)&&(0,t.isUndefined)(pe)){var K=Te-(de-Ae);m.setGuideLock(F,K)}}}))}),x=this.trgX,E=this.trgY,c.forEach(function(F){var U=F.toUpperCase(),R=m["trg".concat(U)];R&&!m.isPointIn(v[F],R.lock)&&(m.setGuideLock(R,null),R=null),R&&!(0,t.isUndefined)(R.lock)&&(_[F]=R.lock)}),{newDelta:_,trgX:this.trgX,trgY:this.trgY}},h.prototype.isPointIn=function(v,m,_){var w=_===void 0?{}:_,x=w.offset,E=x||this.opts.snapOffset||0;return v>=m&&v<=m+E||v<=m&&v>=m-E},h.prototype.setGuideLock=function(v,m){var _=(0,t.isUndefined)(v.x)?"Y":"X",w="trg".concat(_);return m!==null?(v.active=!0,v.lock=m,this[w]=v):(delete v.active,delete v.lock,delete this[w]),v},h.prototype.stop=function(v,m){m===void 0&&(m={});var _=this.delta,w=!!m.cancel,x=w?0:_.x,E=w?0:_.y;this.toggleDrag(),this.lockedAxis=null,this.move(x,E,!0);var F=this.opts.onEnd;(0,t.isFunction)(F)&&F(v,this,{cancelled:w})},h.prototype.keyHandle=function(v){(0,n.v$)(v)&&this.stop(v,{cancel:!0})},h.prototype.move=function(v,m,_){var w=this,x=w.el,E=w.opts,F=this.startPosition;if(F){var U=E.setPosition,R=F.x+v,W=F.y+m;this.position={x:R,y:W,end:_},(0,t.isFunction)(U)&&U(this.position),x&&(x.style.left="".concat(R,"px"),x.style.top="".concat(W,"px"))}},h.prototype.getContainerEl=function(){var v=this.opts.container;return v?[v]:this.getDocumentEl()},h.prototype.getWindowEl=function(){var v=this.getContainerEl();return v.map(function(m){var _=m.ownerDocument||m;return _.defaultView||_.parentWindow})},h.prototype.getDocumentEl=function(v){var m=this.opts.doc;if(v=v||this.el,!this.docs.length){var _=[document];v&&_.push(v.ownerDocument),m&&_.push(m),this.docs=_}return this.docs},h.prototype.getPointerPos=function(v){var m=this.opts.getPointerPosition,_=(0,n.G2)(v);return m?m(v):{x:_.clientX,y:_.clientY}},h.prototype.getStartPosition=function(){var v=this,m=v.el,_=v.opts,w=_.getPosition,x=s();return(0,t.isFunction)(w)?x=w():m&&(x={x:parseFloat(m.style.left),y:parseFloat(m.style.top)}),x},h.prototype.getScrollInfo=function(){var v=this.opts.doc,m=v&&v.body;return{y:m?m.scrollTop:0,x:m?m.scrollLeft:0}},h.prototype.detectAxisLock=function(v,m){var _=v,w=m,x=Math.abs(_),E=Math.abs(w);if(w>=x||w<=-x)return"x";if(_>E||_<-E)return"y"},h}();let d=u},694:(o,r,e)=>{e.r(r),e.d(r,{default:()=>jn});var t=typeof document<"u"?document:null,n=typeof window<"u"?window:null,i=Array.prototype,s=i.filter,c=i.indexOf,u=i.map,d=i.push,h=i.reverse,v=i.slice,m=i.splice,_=/^#[\w-]*$/,w=/^\.[\w-]*$/,x=/<.+>/,E=/^\w+$/;function F(V,J){return J===void 0&&(J=t),w.test(V)?J.getElementsByClassName(V.slice(1)):E.test(V)?J.getElementsByTagName(V):J.querySelectorAll(V)}function U(V,J){if(J===void 0&&(J=t),!!V){if(V.__cash)return V;var fe=V;if(z(V)){if(J.__cash&&(J=J[0]),fe=_.test(V)?J.getElementById(V.slice(1)):x.test(V)?Nt(V):F(V,J),!fe)return}else if(L(V))return this.ready(V);(fe.nodeType||fe===n)&&(fe=[fe]),this.length=fe.length;for(var Ie=0,nt=this.length;Ie<nt;Ie++)this[Ie]=fe[Ie]}}function R(V,J){return new U(V,J)}var W=R.fn=R.prototype=U.prototype={constructor:R,__cash:!0,length:0,splice:m};W.get=function(V){return V===void 0?v.call(this):this[V<0?V+this.length:V]},W.eq=function(V){return R(this.get(V))},W.first=function(){return this.eq(0)},W.last=function(){return this.eq(-1)},W.map=function(V){return R(u.call(this,function(J,fe){return V.call(J,fe,J)}))},W.slice=function(){return R(v.apply(this,arguments))};var de=/(?:^\w|[A-Z]|\b\w)/g,Ae=/[\s-_]+/g;function Te(V){return V.replace(de,function(J,fe){return J[fe?"toUpperCase":"toLowerCase"]()}).replace(Ae,"")}R.camelCase=Te;function pe(V,J){for(var fe=0,Ie=V.length;fe<Ie&&J.call(V[fe],V[fe],fe,V)!==!1;fe++);}R.each=pe,W.each=function(V){return pe(this,function(J,fe){return V.call(J,fe,J)}),this},W.removeProp=function(V){return this.each(function(J,fe){delete fe[V]})};function K(V){V===void 0&&(V=this);for(var J=arguments,fe=J.length,Ie=fe<2?0:1;Ie<fe;Ie++)for(var nt in J[Ie])V[nt]=J[Ie][nt];return V}R.extend=W.extend=K;var he=1;R.guid=he;function B(V,J){var fe=V&&(V.matches||V.webkitMatchesSelector||V.mozMatchesSelector||V.msMatchesSelector||V.oMatchesSelector);return!!fe&&fe.call(V,J)}R.matches=B;function L(V){return typeof V=="function"}R.isFunction=L;function z(V){return typeof V=="string"}R.isString=z;function j(V){return!isNaN(parseFloat(V))&&isFinite(V)}R.isNumeric=j;var oe=Array.isArray;R.isArray=oe,W.prop=function(V,J){if(V){if(z(V))return arguments.length<2?this[0]&&this[0][V]:this.each(function(Ie,nt){nt[V]=J});for(var fe in V)this.prop(fe,V[fe]);return this}};function D(V){return z(V)?function(J,fe){return B(fe,V)}:V.__cash?function(J,fe){return V.is(fe)}:function(J,fe,Ie){return fe===Ie}}W.filter=function(V){if(!V)return R();var J=L(V)?V:D(V);return R(s.call(this,function(fe,Ie){return J.call(fe,Ie,fe,V)}))};var be=/\S+/g;function we(V){return z(V)?V.match(be)||[]:[]}W.hasClass=function(V){var J=we(V),fe=!1;return J.length&&this.each(function(Ie,nt){return fe=nt.classList.contains(J[0]),!fe}),fe},W.removeAttr=function(V){var J=we(V);return J.length?this.each(function(fe,Ie){pe(J,function(nt){Ie.removeAttribute(nt)})}):this},W.attr=function(V,J){if(V){if(z(V)){if(arguments.length<2){if(!this[0])return;var fe=this[0].getAttribute(V);return fe===null?void 0:fe}return J===null?this.removeAttr(V):this.each(function(nt,mt){mt.setAttribute(V,J)})}for(var Ie in V)this.attr(Ie,V[Ie]);return this}},W.toggleClass=function(V,J){var fe=we(V),Ie=J!==void 0;return fe.length?this.each(function(nt,mt){pe(fe,function(Mt){Ie?J?mt.classList.add(Mt):mt.classList.remove(Mt):mt.classList.toggle(Mt)})}):this},W.addClass=function(V){return this.toggleClass(V,!0)},W.removeClass=function(V){return arguments.length?this.toggleClass(V,!1):this.attr("class","")};function Re(V){return V.filter(function(J,fe,Ie){return Ie.indexOf(J)===fe})}R.unique=Re,W.add=function(V,J){return R(Re(this.get().concat(R(V,J).get())))};function at(V,J,fe){if(V.nodeType===1){var Ie=n.getComputedStyle(V,null);return J?fe?Ie.getPropertyValue(J):Ie[J]:Ie}}function ct(V,J){return parseInt(at(V,J),10)||0}var Ot=/^--/;function xe(V){return Ot.test(V)}var Ee={},ze=t&&t.createElement("div"),se=ze?ze.style:{},Se=["webkit","moz","ms","o"];function Me(V,J){if(J===void 0&&(J=xe(V)),J)return V;if(!Ee[V]){var fe=Te(V),Ie=""+fe.charAt(0).toUpperCase()+fe.slice(1),nt=(fe+" "+Se.join(Ie+" ")+Ie).split(" ");pe(nt,function(mt){if(mt in se)return Ee[V]=mt,!1})}return Ee[V]}R.prefixedProp=Me;var Ke={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Ze(V,J,fe){return fe===void 0&&(fe=xe(V)),!fe&&!Ke[V]&&j(J)?J+"px":J}W.css=function(V,J){if(z(V)){var fe=xe(V);return V=Me(V,fe),arguments.length<2?this[0]&&at(this[0],V,fe):V?(J=Ze(V,J,fe),this.each(function(nt,mt){mt.nodeType===1&&(fe?mt.style.setProperty(V,J):mt.style[V]=J)})):this}for(var Ie in V)this.css(Ie,V[Ie]);return this};var We="__cashData",ut=/^data-(.*)/;R.hasData=function(V){return We in V};function zt(V){return V[We]=V[We]||{}}function xt(V,J){var fe=zt(V);if(J){if(!(J in fe)){var Ie=V.dataset?V.dataset[J]||V.dataset[Te(J)]:R(V).attr("data-"+J);if(Ie!==void 0){try{Ie=JSON.parse(Ie)}catch{}fe[J]=Ie}}return fe[J]}return fe}function pn(V,J){J===void 0?delete V[We]:delete zt(V)[J]}function tn(V,J,fe){zt(V)[J]=fe}W.data=function(V,J){var fe=this;if(!V)return this[0]?(pe(this[0].attributes,function(nt){var mt=nt.name.match(ut);mt&&fe.data(mt[1])}),xt(this[0])):void 0;if(z(V))return J===void 0?this[0]&&xt(this[0],V):this.each(function(nt,mt){return tn(mt,V,J)});for(var Ie in V)this.data(Ie,V[Ie]);return this},W.removeData=function(V){return this.each(function(J,fe){return pn(fe,V)})};function Tt(V,J){return ct(V,"border"+(J?"Left":"Top")+"Width")+ct(V,"padding"+(J?"Left":"Top"))+ct(V,"padding"+(J?"Right":"Bottom"))+ct(V,"border"+(J?"Right":"Bottom")+"Width")}pe(["Width","Height"],function(V){W["inner"+V]=function(){if(this[0])return this[0]===n?n["inner"+V]:this[0]["client"+V]}}),pe(["width","height"],function(V,J){W[V]=function(fe){return this[0]?arguments.length?(fe=parseInt(fe,10),this.each(function(Ie,nt){if(nt.nodeType===1){var mt=at(nt,"boxSizing");nt.style[V]=Ze(V,fe+(mt==="border-box"?Tt(nt,!J):0))}})):this[0]===n?this[0][Te("outer-"+V)]:this[0].getBoundingClientRect()[V]-Tt(this[0],!J):fe===void 0?void 0:this}}),pe(["Width","Height"],function(V,J){W["outer"+V]=function(fe){if(this[0])return this[0]===n?n["outer"+V]:this[0]["offset"+V]+(fe?ct(this[0],"margin"+(J?"Top":"Left"))+ct(this[0],"margin"+(J?"Bottom":"Right")):0)}});function T(V,J){for(var fe=0,Ie=J.length;fe<Ie;fe++)if(V.indexOf(J[fe])<0)return!1;return!0}function N(V,J,fe){pe(V[fe],function(Ie){var nt=Ie[0],mt=Ie[1];J.removeEventListener(fe,mt)}),delete V[fe]}var Z="__cashEvents",ue=".";function Ce(V){return V[Z]=V[Z]||{}}function G(V,J,fe,Ie){Ie.guid=Ie.guid||he++;var nt=Ce(V);nt[J]=nt[J]||[],nt[J].push([fe,Ie]),V.addEventListener(J,Ie)}function ve(V){var J=V.split(ue);return[J[0],J.slice(1).sort()]}function ce(V,J,fe,Ie){var nt=Ce(V);if(J){var mt=nt[J];if(!mt)return;Ie&&(Ie.guid=Ie.guid||he++),nt[J]=mt.filter(function(Mt){var Ln=Mt[0],an=Mt[1];if(Ie&&an.guid!==Ie.guid||!T(Ln,fe))return!0;V.removeEventListener(J,an)})}else if(!fe||!fe.length)for(J in nt)N(nt,V,J);else for(J in nt)ce(V,J,fe,Ie)}W.off=function(V,J){var fe=this;return V===void 0?this.each(function(Ie,nt){return ce(nt)}):pe(we(V),function(Ie){var nt=ve(Ie),mt=nt[0],Mt=nt[1];fe.each(function(Ln,an){return ce(an,mt,Mt,J)})}),this},W.on=function(V,J,fe,Ie){var nt=this;if(!z(V)){for(var mt in V)this.on(mt,J,V[mt]);return this}return L(J)&&(fe=J,J=!1),pe(we(V),function(Mt){var Ln=ve(Mt),an=Ln[0],hn=Ln[1];nt.each(function(qr,zn){var gn=function yi(sn){if(!(sn.namespace&&!T(hn,sn.namespace.split(ue)))){var vn=zn;if(J){for(var bn=sn.target;!B(bn,J);)if(bn===zn||(bn=bn.parentNode,!bn))return;vn=bn}sn.namespace=sn.namespace||"";var $r=fe.call(vn,sn,sn.data);Ie&&ce(zn,an,hn,yi),$r===!1&&(sn.preventDefault(),sn.stopPropagation())}};gn.guid=fe.guid=fe.guid||he++,G(zn,an,hn,gn)})}),this},W.one=function(V,J,fe){return this.on(V,J,fe,!0)},W.ready=function(V){var J=function(){return V(R)};return t.readyState!=="loading"?setTimeout(J):t.addEventListener("DOMContentLoaded",J),this},W.trigger=function(V,J){var fe=V;if(z(V)){var Ie=ve(V),nt=Ie[0],mt=Ie[1];fe=t.createEvent("HTMLEvents"),fe.initEvent(nt,!0,!0),fe.namespace=mt.join(ue)}return fe.data=J,this.each(function(Mt,Ln){Ln.dispatchEvent(fe)})};function gt(V){var J=[];return pe(V.options,function(fe){fe.selected&&!fe.disabled&&!fe.parentNode.disabled&&J.push(fe.value)}),J}function kt(V){return V.selectedIndex<0?null:V.options[V.selectedIndex].value}var Et=/select-one/i,H=/select-multiple/i;function re(V){var J=V.type;return Et.test(J)?kt(V):H.test(J)?gt(V):V.value}var k=/%20/g;function ke(V,J){return"&"+encodeURIComponent(V)+"="+encodeURIComponent(J).replace(k,"+")}var _e=/file|reset|submit|button|image/i,Be=/radio|checkbox/i;W.serialize=function(){var V="";return this.each(function(J,fe){pe(fe.elements||[fe],function(Ie){if(!(Ie.disabled||!Ie.name||Ie.tagName==="FIELDSET")&&!_e.test(Ie.type)&&!(Be.test(Ie.type)&&!Ie.checked)){var nt=re(Ie);if(nt!==void 0){var mt=oe(nt)?nt:[nt];pe(mt,function(Mt){V+=ke(Ie.name,Mt)})}}})}),V.substr(1)},W.val=function(V){return V===void 0?this[0]&&re(this[0]):this.each(function(J,fe){var Ie=H.test(fe.type),nt=V===null?Ie?[]:"":V;Ie&&oe(nt)?pe(fe.options,function(mt){mt.selected=nt.indexOf(mt.value)>=0}):fe.value=nt})},W.clone=function(){return this.map(function(V,J){return J.cloneNode(!0)})},W.detach=function(){return this.each(function(V,J){J.parentNode&&J.parentNode.removeChild(J)})};var lt=/^\s*<(\w+)[^>]*>/,st=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,Je;function vt(){if(!Je){var V=t.createElement("table"),J=t.createElement("tr");Je={"*":t.createElement("div"),tr:t.createElement("tbody"),td:J,th:J,thead:V,tbody:V,tfoot:V}}}function Nt(V){if(vt(),!z(V))return[];if(st.test(V))return[t.createElement(RegExp.$1)];var J=lt.test(V)&&RegExp.$1,fe=Je[J]||Je["*"];return fe.innerHTML=V,R(fe.childNodes).detach().get()}R.parseHTML=Nt,W.empty=function(){var V=this[0];if(V)for(;V.firstChild;)V.removeChild(V.firstChild);return this};function Ut(V,J,fe){fe?V.insertBefore(J,V.childNodes[0]):V.appendChild(J)}function Bt(V,J,fe){if(J!==void 0){var Ie=z(J);!Ie&&J.length?pe(J,function(nt){return Bt(V,nt,fe)}):pe(V,Ie?function(nt){nt.insertAdjacentHTML(fe?"afterbegin":"beforeend",J)}:function(nt,mt){return Ut(nt,mt?J.cloneNode(!0):J,fe)})}}W.append=function(){var V=this;return pe(arguments,function(J){Bt(V,J)}),this},W.appendTo=function(V){return Bt(R(V),this),this},W.html=function(V){if(V===void 0)return this[0]&&this[0].innerHTML;var J=V.nodeType?V[0].outerHTML:V;return this.each(function(fe,Ie){Ie.innerHTML=J})},W.insertAfter=function(V){var J=this;return R(V).each(function(fe,Ie){var nt=Ie.parentNode;J.each(function(mt,Mt){nt.insertBefore(fe?Mt.cloneNode(!0):Mt,Ie.nextSibling)})}),this},W.after=function(){var V=this;return pe(h.apply(arguments),function(J){h.apply(R(J).slice()).insertAfter(V)}),this},W.insertBefore=function(V){var J=this;return R(V).each(function(fe,Ie){var nt=Ie.parentNode;J.each(function(mt,Mt){nt.insertBefore(fe?Mt.cloneNode(!0):Mt,Ie)})}),this},W.before=function(){var V=this;return pe(arguments,function(J){R(J).insertBefore(V)}),this},W.prepend=function(){var V=this;return pe(arguments,function(J){Bt(V,J,!0)}),this},W.prependTo=function(V){return Bt(R(V),h.apply(this.slice()),!0),this},W.remove=function(){return this.detach().off()},W.replaceWith=function(V){var J=this;return this.each(function(fe,Ie){var nt=Ie.parentNode;if(nt){var mt=fe?R(V).clone():R(V);if(!mt[0])return J.remove(),!1;nt.replaceChild(mt[0],Ie),R(mt[0]).after(mt.slice(1))}})},W.replaceAll=function(V){return R(V).replaceWith(this),this},W.text=function(V){return V===void 0?this[0]?this[0].textContent:"":this.each(function(J,fe){fe.textContent=V})};var _n=t&&t.documentElement;W.offset=function(){var V=this[0];if(V){var J=V.getBoundingClientRect();return{top:J.top+n.pageYOffset-_n.clientTop,left:J.left+n.pageXOffset-_n.clientLeft}}},W.offsetParent=function(){return R(this[0]&&this[0].offsetParent)},W.position=function(){var V=this[0];if(V)return{left:V.offsetLeft,top:V.offsetTop}},W.children=function(V){var J=[];return this.each(function(fe,Ie){d.apply(J,Ie.children)}),J=R(Re(J)),V?J.filter(function(fe,Ie){return B(Ie,V)}):J},W.contents=function(){var V=[];return this.each(function(J,fe){d.apply(V,fe.tagName==="IFRAME"?[fe.contentDocument]:fe.childNodes)}),R(V.length&&Re(V))},W.find=function(V){for(var J=[],fe=0,Ie=this.length;fe<Ie;fe++){var nt=F(V,this[fe]);nt.length&&d.apply(J,nt)}return R(J.length&&Re(J))},W.has=function(V){var J=z(V)?function(fe,Ie){return!!F(V,Ie).length}:function(fe,Ie){return Ie.contains(V)};return this.filter(J)},W.is=function(V){if(!V||!this[0])return!1;var J=D(V),fe=!1;return this.each(function(Ie,nt){return fe=J(Ie,nt,V),!fe}),fe},W.next=function(){return R(this[0]&&this[0].nextElementSibling)},W.not=function(V){if(!V||!this[0])return this;var J=D(V);return this.filter(function(fe,Ie){return!J(fe,Ie,V)})},W.parent=function(){var V=[];return this.each(function(J,fe){fe&&fe.parentNode&&V.push(fe.parentNode)}),R(Re(V))},W.index=function(V){var J=V?R(V)[0]:this[0],fe=V?this:R(J).parent().children();return c.call(fe,J)},W.closest=function(V){return!V||!this[0]?R():this.is(V)?this.filter(V):this.parent().closest(V)},W.parents=function(V){var J=[],fe;return this.each(function(Ie,nt){for(fe=nt;fe&&fe.parentNode&&fe!==t.body.parentNode;)fe=fe.parentNode,(!V||V&&B(fe,V))&&J.push(fe)}),R(Re(J))},W.prev=function(){return R(this[0]&&this[0].previousElementSibling)},W.siblings=function(){var V=this[0];return this.parent().children().filter(function(J,fe){return fe!==V})};let jn=R},926:(o,r,e)=>{e.d(r,{AU:()=>Ot,BC:()=>U,C8:()=>he,Ch:()=>z,Ci:()=>D,D8:()=>u,G2:()=>j,GW:()=>K,GZ:()=>W,I6:()=>m,LJ:()=>Re,Sc:()=>F,X6:()=>_,Xy:()=>B,YZ:()=>h,ZQ:()=>d,a_:()=>R,af:()=>Ae,bG:()=>E,cx:()=>v,ir:()=>Te,kk:()=>at,on:()=>ct,rp:()=>we,v$:()=>oe,yL:()=>de,zN:()=>w});var t=e(523),n=function(xe,Ee,ze){if(ze||arguments.length===2)for(var se=0,Se=Ee.length,Me;se<Se;se++)(Me||!(se in Ee))&&(Me||(Me=Array.prototype.slice.call(Ee,0,se)),Me[se]=Ee[se]);return xe.concat(Me||Array.prototype.slice.call(Ee))},i="tag",s="attributes",c="children",u="transitionend oTransitionEnd transitionend webkitTransitionEnd",d=function(xe){return xe?.nodeType===Node.DOCUMENT_NODE},h=function(xe){var Ee=xe&&xe.parentNode;Ee&&Ee.removeChild(xe)};function v(){for(var xe=[],Ee=0;Ee<arguments.length;Ee++)xe[Ee]=arguments[Ee];var ze=Array.isArray(xe[0])?xe[0]:n([],xe,!0);return ze.filter(Boolean).join(" ")}var m=function(xe,Ee){return xe.querySelectorAll(Ee)},_=function(xe,Ee){return Ee===void 0&&(Ee={}),xe&&xe.setAttribute&&(0,t.each)(Ee,function(ze,se){return xe.setAttribute(se,ze)})},w=function(xe){var Ee;return xe&&!!(xe.offsetWidth||xe.offsetHeight||!((Ee=xe.getClientRects)===null||Ee===void 0)&&Ee.call(xe).length)},x=function(xe){for(;xe.firstChild;)xe.removeChild(xe.firstChild)},E=function(xe,Ee){var ze;(ze=xe.parentNode)===null||ze===void 0||ze.replaceChild(Ee,xe)},F=function(xe,Ee,ze){var se=xe.childNodes,Se=se.length,Me=(0,t.isUndefined)(ze)?Se:ze;(0,t.isString)(Ee)&&(xe.insertAdjacentHTML("beforeEnd",Ee),Ee=xe.lastChild,xe.removeChild(Ee)),Me>=Se?xe.appendChild(Ee):xe.insertBefore(Ee,se[Me])},U=function(xe,Ee){return F(xe,Ee)},R=function(xe,Ee,ze){Ee===void 0&&(Ee={});var se=document.createElement(xe);return Ee&&(0,t.each)(Ee,function(Se,Me){return se.setAttribute(Me,Se)}),ze&&((0,t.isString)(ze)?se.innerHTML=ze:se.appendChild(ze)),se},W=function(xe){return document.createTextNode(xe)},de=function(xe,Ee){var ze,se=xe.type;try{ze=new window[Ee](se,xe)}catch{ze=document.createEvent(Ee),ze.initEvent(se,!0,!0)}return ze._parentEvent=xe,se.indexOf("key")===0&&(ze.keyCodeVal=xe.keyCode,["keyCode","which"].forEach(function(Se){Object.defineProperty(ze,Se,{get:function(){return this.keyCodeVal}})})),ze},Ae=function(xe,Ee){Ee===void 0&&(Ee=[]);var ze=Array.isArray(Ee)?Ee:[Ee];ze.forEach(function(se){var Se=se[i]||"div",Me=se[s]||{},Ke=document.createElement(Se);(0,t.each)(Me,function(Ze,We){Ke.setAttribute(We,Ze)}),xe.appendChild(Ke)})},Te=function(xe){return xe?.nodeType===Node.TEXT_NODE},pe=function(xe){return xe?.nodeType===Node.COMMENT_NODE},K=function(xe){return xe&&!Te(xe)&&!pe(xe)},he=function(xe){var Ee={top:0,left:0,width:0,height:0};if(!xe)return Ee;var ze;if(Te(xe)){var se=document.createRange();se.selectNode(xe),ze=se.getBoundingClientRect(),se.detach()}return ze||(xe.getBoundingClientRect?xe.getBoundingClientRect():Ee)},B=function(xe){var Ee=xe?.ownerDocument||document,ze=Ee.documentElement,se=Ee.defaultView||window;return{x:(se.pageXOffset||ze.scrollLeft||0)-(ze.clientLeft||0),y:(se.pageYOffset||ze.scrollTop||0)-(ze.clientTop||0)}},L=function(xe){return xe.which||xe.keyCode},z=function(xe){return String.fromCharCode(L(xe))},j=function(xe){return xe.touches&&xe.touches[0]?xe.touches[0]:xe},oe=function(xe){return L(xe)===27},D=function(xe){return L(xe)===13},be=function(xe){return xe.ctrlKey},we=function(xe){return be(xe)||xe.metaKey},Re=function(xe){if(!xe)return"";var Ee=xe.name,ze=xe.publicId,se=xe.systemId,Se=ze?' PUBLIC "'.concat(ze,'"'):"",Me=!ze&&se?' SYSTEM "'.concat(se,'"'):"";return"<!DOCTYPE ".concat(Ee).concat(Se).concat(Me,">")},at=function(xe){xe===void 0&&(xe={});var Ee=[];return(0,t.each)(xe,function(ze,se){return Ee.push("".concat(se,'="').concat(ze,'"'))}),Ee.join(" ")},ct=function(xe,Ee,ze,se){var Se=Ee.split(/\s+/),Me=(0,t.isArray)(xe)?xe:[xe];Se.forEach(function(Ke){Me.forEach(function(Ze){return Ze?.addEventListener(Ke,ze,se)})})},Ot=function(xe,Ee,ze,se){var Se=Ee.split(/\s+/),Me=(0,t.isArray)(xe)?xe:[xe];Se.forEach(function(Ke){Me.forEach(function(Ze){return Ze?.removeEventListener(Ke,ze,se)})})}},342:(o,r,e)=>{e.r(r),e.d(r,{appendStyles:()=>U,buildBase64UrlFromSvg:()=>ze,camelCase:()=>Ae,capitalize:()=>be,createId:()=>Ee,deepMerge:()=>z,escape:()=>B,escapeNodeContent:()=>L,find:()=>he,getComponentModel:()=>Ot,getComponentView:()=>ct,getElement:()=>K,getGlobal:()=>_,getModel:()=>j,getUiClass:()=>F,getUnitFromValue:()=>W,getViewEl:()=>Re,hasDnd:()=>pe,hasWin:()=>m,isBultInMethod:()=>u,isComponent:()=>at,isDef:()=>v,isEmptyObj:()=>D,isObject:()=>oe,isRule:()=>we,matches:()=>E,normalizeFloat:()=>Te,normalizeKey:()=>d,setViewEl:()=>xe,shallowDiff:()=>R,toLowerCase:()=>w,upFirst:()=>de,wait:()=>h});var t=e(523),n=e(926),i=function(){return i=Object.assign||function(se){for(var Se,Me=1,Ke=arguments.length;Me<Ke;Me++){Se=arguments[Me];for(var Ze in Se)Object.prototype.hasOwnProperty.call(Se,Ze)&&(se[Ze]=Se[Ze])}return se},i.apply(this,arguments)},s=function(se,Se,Me){if(Me||arguments.length===2)for(var Ke=0,Ze=Se.length,We;Ke<Ze;Ke++)(We||!(Ke in Se))&&(We||(We=Array.prototype.slice.call(Se,0,Ke)),We[Ke]=Se[Ke]);return se.concat(We||Array.prototype.slice.call(Se))},c={},u=function(se){return(0,t.isFunction)(c[se])},d=function(se){return u(se)?"_".concat(se):se},h=function(se){return se===void 0&&(se=0),new Promise(function(Se){return setTimeout(Se,se)})},v=function(se){return typeof se<"u"},m=function(){return typeof window<"u"},_=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:e.g},w=function(se){return(se||"").toLowerCase()},x=m()?window.Element.prototype:{},E=x.matches||x.webkitMatchesSelector||x.mozMatchesSelector||x.msMatchesSelector,F=function(se,Se){var Me=se.getConfig(),Ke=Me.stylePrefix,Ze=Me.customUI;return[Ze&&"".concat(Ke,"cui"),Se].filter(function(We){return We}).join(" ")},U=function(se,Se){Se===void 0&&(Se={});var Me=(0,t.isArray)(se)?s([],se,!0):[se];if(Me.length){var Ke=Me.shift();if(Ke&&(!Se.unique||!document.querySelector('link[href="'.concat(Ke,'"]')))){var Ze=document.head,We=document.createElement("link");We.href=Ke,We.rel="stylesheet",Se.prepand?Ze.insertBefore(We,Ze.firstChild):Ze.appendChild(We)}U(Me)}},R=function(se,Se){var Me={},Ke=(0,t.keys)(Se);for(var Ze in se)if(se.hasOwnProperty(Ze)){var We=se[Ze],ut=Se[Ze];Ke.indexOf(Ze)>=0?We!==ut&&(Me[Ze]=ut):Me[Ze]=null}for(var Ze in Se)Se.hasOwnProperty(Ze)&&(0,t.isUndefined)(se[Ze])&&(Me[Ze]=Se[Ze]);return Me},W=function(se){return se.replace(parseFloat(se),"")},de=function(se){return se[0].toUpperCase()+se.toLowerCase().slice(1)},Ae=function(se){return se.replace(/-./g,function(Se){return Se[1].toUpperCase()})},Te=function(se,Se,Me){Se===void 0&&(Se=1),Me===void 0&&(Me=0);var Ke=0;if(isNaN(se))return Me;if(se=parseFloat(se),Math.floor(se)!==se){var Ze=Se.toString().split(".")[1];Ke=Ze?Ze.length:0}return Ke?parseFloat(se.toFixed(Ke)):se},pe=function(se){return"draggable"in document.createElement("i")&&(se?se.config.nativeDnD:!0)},K=function(se){if((0,t.isElement)(se)||(0,n.ir)(se))return se;if(se&&se.getEl)return se.getEl()},he=function(se,Se){var Me=null;return se.some(function(Ke,Ze){return Se(Ke,Ze,se)?(Me=Ke,1):0}),Me},B=function(se){return se===void 0&&(se=""),"".concat(se).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},L=function(se){return se===void 0&&(se=""),"".concat(se).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},z=function(){for(var se=[],Se=0;Se<arguments.length;Se++)se[Se]=arguments[Se];for(var Me=i({},se[0]),Ke=1;Ke<se.length;Ke++){var Ze=i({},se[Ke]);for(var We in Ze){var ut=Me[We],zt=Ze[We];oe(ut)&&oe(zt)?Me[We]=z(ut,zt):Me[We]=zt}}return Me},j=function(se,Se){var Me;return!Se&&se&&se.__cashData?Me=se.__cashData.model:Se&&(0,t.isElement)(se)&&(Me=Se(se).data("model")),Me},oe=function(se){return se&&!Array.isArray(se)&&typeof se=="object"},D=function(se){return Object.keys(se).length<=0},be=function(se){return se===void 0&&(se=""),se&&se.charAt(0).toUpperCase()+se.substring(1)},we=function(se){return se&&se.toCSS},Re=function(se){return se?.__gjsv},at=function(se){return!!se?.toHTML},ct=function(se){return Re(se)},Ot=function(se){var Se;return(Se=ct(se))===null||Se===void 0?void 0:Se.model},xe=function(se,Se){se.__gjsv=Se},Ee=function(se){se===void 0&&(se=16);for(var Se="",Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ke=Me.length,Ze=0;Ze<se;Ze++)Se+=Me.charAt(Math.floor(Math.random()*Ke));return Se},ze=function(se){if(se&&se.substr(0,4)==="<svg"){var Se="";return m()?Se=window.btoa(se):typeof Buffer<"u"&&(Se=Buffer.from(se,"utf8").toString("base64")),Se?"data:image/svg+xml;base64,".concat(Se):se}return se}},585:(o,r,e)=>{var t={"./CanvasClear":404,"./CanvasClear.ts":404,"./CanvasMove":228,"./CanvasMove.ts":228,"./CommandAbstract":570,"./CommandAbstract.ts":570,"./ComponentDelete":377,"./ComponentDelete.ts":377,"./ComponentDrag":728,"./ComponentDrag.ts":728,"./ComponentEnter":462,"./ComponentEnter.ts":462,"./ComponentExit":658,"./ComponentExit.ts":658,"./ComponentNext":619,"./ComponentNext.ts":619,"./ComponentPrev":935,"./ComponentPrev.ts":935,"./ComponentStyleClear":536,"./ComponentStyleClear.ts":536,"./CopyComponent":957,"./CopyComponent.ts":957,"./ExportTemplate":413,"./ExportTemplate.ts":413,"./Fullscreen":516,"./Fullscreen.ts":516,"./MoveComponent":13,"./MoveComponent.ts":13,"./OpenAssets":204,"./OpenAssets.ts":204,"./OpenBlocks":195,"./OpenBlocks.ts":195,"./OpenLayers":671,"./OpenLayers.ts":671,"./OpenStyleManager":49,"./OpenStyleManager.ts":49,"./OpenTraitManager":590,"./OpenTraitManager.ts":590,"./PasteComponent":483,"./PasteComponent.ts":483,"./Preview":857,"./Preview.ts":857,"./Resize":869,"./Resize.ts":869,"./SelectComponent":194,"./SelectComponent.ts":194,"./SelectPosition":582,"./SelectPosition.ts":582,"./ShowOffset":131,"./ShowOffset.ts":131,"./SwitchVisibility":229,"./SwitchVisibility.ts":229};function n(s){var c=i(s);return e(c)}function i(s){if(!e.o(t,s)){var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}return t[s]}n.keys=function(){return Object.keys(t)},n.resolve=i,o.exports=n,n.id=585},523:(o,r,e)=>{e.r(r),e.d(r,{VERSION:()=>n,after:()=>Ri,all:()=>Ji,allKeys:()=>Je,any:()=>No,assign:()=>gn,before:()=>Fo,bind:()=>yo,bindAll:()=>Vo,chain:()=>pa,chunk:()=>Fi,clone:()=>$r,collect:()=>En,compact:()=>Nc,compose:()=>Ci,constant:()=>Tt,contains:()=>$n,countBy:()=>Rc,create:()=>bn,debounce:()=>Vi,default:()=>xo,defaults:()=>yi,defer:()=>sr,delay:()=>Qi,detect:()=>yt,difference:()=>pl,drop:()=>lo,each:()=>wt,escape:()=>je,every:()=>Ji,extend:()=>zn,extendOwn:()=>gn,filter:()=>ir,find:()=>yt,findIndex:()=>Xi,findKey:()=>Qr,findLastIndex:()=>bo,findWhere:()=>Vt,first:()=>Bo,flatten:()=>fl,foldl:()=>Jr,foldr:()=>qn,forEach:()=>wt,functions:()=>hn,get:()=>Pn,groupBy:()=>Vc,has:()=>gr,head:()=>Bo,identity:()=>Qt,include:()=>$n,includes:()=>$n,indexBy:()=>cl,indexOf:()=>Ai,initial:()=>Tn,inject:()=>Jr,intersection:()=>Bc,invert:()=>an,invoke:()=>kc,isArguments:()=>xt,isArray:()=>We,isArrayBuffer:()=>ct,isBoolean:()=>L,isDataView:()=>Ze,isDate:()=>be,isElement:()=>z,isEmpty:()=>H,isEqual:()=>st,isError:()=>Re,isFinite:()=>pn,isFunction:()=>Ee,isMap:()=>fe,isMatch:()=>re,isNaN:()=>tn,isNull:()=>he,isNumber:()=>D,isObject:()=>K,isRegExp:()=>we,isSet:()=>nt,isString:()=>oe,isSymbol:()=>at,isTypedArray:()=>ve,isUndefined:()=>B,isWeakMap:()=>Ie,isWeakSet:()=>mt,iteratee:()=>It,keys:()=>Et,last:()=>jo,lastIndexOf:()=>_t,map:()=>En,mapObject:()=>_i,matcher:()=>dt,matches:()=>dt,max:()=>sl,memoize:()=>ha,methods:()=>hn,min:()=>ll,mixin:()=>ma,negate:()=>Ro,noop:()=>bi,now:()=>P,object:()=>jc,omit:()=>Ho,once:()=>xi,pairs:()=>Ln,partial:()=>$i,partition:()=>ul,pick:()=>dl,pluck:()=>$a,property:()=>Un,propertyOf:()=>Fe,random:()=>Ir,range:()=>Wo,reduce:()=>Jr,reduceRight:()=>qn,reject:()=>ei,rest:()=>lo,restArguments:()=>pe,result:()=>fa,sample:()=>Qa,select:()=>ir,shuffle:()=>Ic,size:()=>Fc,some:()=>No,sortBy:()=>Lc,sortedIndex:()=>wo,tail:()=>lo,take:()=>Bo,tap:()=>Zt,template:()=>so,templateSettings:()=>jt,throttle:()=>ga,times:()=>St,toArray:()=>Co,toPath:()=>hr,transpose:()=>Uo,unescape:()=>Ft,union:()=>Hc,uniq:()=>zo,unique:()=>zo,uniqueId:()=>vo,unzip:()=>Uo,values:()=>Mt,where:()=>Pc,without:()=>es,wrap:()=>Gn,zip:()=>hl});var t={};e.r(t),e.d(t,{VERSION:()=>n,after:()=>Ri,all:()=>Ji,allKeys:()=>Je,any:()=>No,assign:()=>gn,before:()=>Fo,bind:()=>yo,bindAll:()=>Vo,chain:()=>pa,chunk:()=>Fi,clone:()=>$r,collect:()=>En,compact:()=>Nc,compose:()=>Ci,constant:()=>Tt,contains:()=>$n,countBy:()=>Rc,create:()=>bn,debounce:()=>Vi,default:()=>zc,defaults:()=>yi,defer:()=>sr,delay:()=>Qi,detect:()=>yt,difference:()=>pl,drop:()=>lo,each:()=>wt,escape:()=>je,every:()=>Ji,extend:()=>zn,extendOwn:()=>gn,filter:()=>ir,find:()=>yt,findIndex:()=>Xi,findKey:()=>Qr,findLastIndex:()=>bo,findWhere:()=>Vt,first:()=>Bo,flatten:()=>fl,foldl:()=>Jr,foldr:()=>qn,forEach:()=>wt,functions:()=>hn,get:()=>Pn,groupBy:()=>Vc,has:()=>gr,head:()=>Bo,identity:()=>Qt,include:()=>$n,includes:()=>$n,indexBy:()=>cl,indexOf:()=>Ai,initial:()=>Tn,inject:()=>Jr,intersection:()=>Bc,invert:()=>an,invoke:()=>kc,isArguments:()=>xt,isArray:()=>We,isArrayBuffer:()=>ct,isBoolean:()=>L,isDataView:()=>Ze,isDate:()=>be,isElement:()=>z,isEmpty:()=>H,isEqual:()=>st,isError:()=>Re,isFinite:()=>pn,isFunction:()=>Ee,isMap:()=>fe,isMatch:()=>re,isNaN:()=>tn,isNull:()=>he,isNumber:()=>D,isObject:()=>K,isRegExp:()=>we,isSet:()=>nt,isString:()=>oe,isSymbol:()=>at,isTypedArray:()=>ve,isUndefined:()=>B,isWeakMap:()=>Ie,isWeakSet:()=>mt,iteratee:()=>It,keys:()=>Et,last:()=>jo,lastIndexOf:()=>_t,map:()=>En,mapObject:()=>_i,matcher:()=>dt,matches:()=>dt,max:()=>sl,memoize:()=>ha,methods:()=>hn,min:()=>ll,mixin:()=>ma,negate:()=>Ro,noop:()=>bi,now:()=>P,object:()=>jc,omit:()=>Ho,once:()=>xi,pairs:()=>Ln,partial:()=>$i,partition:()=>ul,pick:()=>dl,pluck:()=>$a,property:()=>Un,propertyOf:()=>Fe,random:()=>Ir,range:()=>Wo,reduce:()=>Jr,reduceRight:()=>qn,reject:()=>ei,rest:()=>lo,restArguments:()=>pe,result:()=>fa,sample:()=>Qa,select:()=>ir,shuffle:()=>Ic,size:()=>Fc,some:()=>No,sortBy:()=>Lc,sortedIndex:()=>wo,tail:()=>lo,take:()=>Bo,tap:()=>Zt,template:()=>so,templateSettings:()=>jt,throttle:()=>ga,times:()=>St,toArray:()=>Co,toPath:()=>hr,transpose:()=>Uo,unescape:()=>Ft,union:()=>Hc,uniq:()=>zo,unique:()=>zo,uniqueId:()=>vo,unzip:()=>Uo,values:()=>Mt,where:()=>Pc,without:()=>es,wrap:()=>Gn,zip:()=>hl});var n="1.13.1",i=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,c=Object.prototype,u=typeof Symbol<"u"?Symbol.prototype:null,d=s.push,h=s.slice,v=c.toString,m=c.hasOwnProperty,_=typeof ArrayBuffer<"u",w=typeof DataView<"u",x=Array.isArray,E=Object.keys,F=Object.create,U=_&&ArrayBuffer.isView,R=isNaN,W=isFinite,de=!{toString:null}.propertyIsEnumerable("toString"),Ae=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Te=Math.pow(2,53)-1;function pe(S,I){return I=I==null?S.length-1:+I,function(){for(var q=Math.max(arguments.length-I,0),ee=Array(q),ye=0;ye<q;ye++)ee[ye]=arguments[ye+I];switch(I){case 0:return S.call(this,ee);case 1:return S.call(this,arguments[0],ee);case 2:return S.call(this,arguments[0],arguments[1],ee)}var ge=Array(I+1);for(ye=0;ye<I;ye++)ge[ye]=arguments[ye];return ge[I]=ee,S.apply(this,ge)}}function K(S){var I=typeof S;return I==="function"||I==="object"&&!!S}function he(S){return S===null}function B(S){return S===void 0}function L(S){return S===!0||S===!1||v.call(S)==="[object Boolean]"}function z(S){return!!(S&&S.nodeType===1)}function j(S){var I="[object "+S+"]";return function(q){return v.call(q)===I}}let oe=j("String"),D=j("Number"),be=j("Date"),we=j("RegExp"),Re=j("Error"),at=j("Symbol"),ct=j("ArrayBuffer");var Ot=j("Function"),xe=i.document&&i.document.childNodes;typeof Int8Array!="object"&&typeof xe!="function"&&(Ot=function(S){return typeof S=="function"||!1});let Ee=Ot,ze=j("Object");var se=w&&ze(new DataView(new ArrayBuffer(8))),Se=typeof Map<"u"&&ze(new Map),Me=j("DataView");function Ke(S){return S!=null&&Ee(S.getInt8)&&ct(S.buffer)}let Ze=se?Ke:Me,We=x||j("Array");function ut(S,I){return S!=null&&m.call(S,I)}var zt=j("Arguments");(function(){zt(arguments)||(zt=function(S){return ut(S,"callee")})})();let xt=zt;function pn(S){return!at(S)&&W(S)&&!isNaN(parseFloat(S))}function tn(S){return D(S)&&R(S)}function Tt(S){return function(){return S}}function T(S){return function(I){var q=S(I);return typeof q=="number"&&q>=0&&q<=Te}}function N(S){return function(I){return I?.[S]}}let Z=N("byteLength"),ue=T(Z);var Ce=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function G(S){return U?U(S)&&!Ze(S):ue(S)&&Ce.test(v.call(S))}let ve=_?G:Tt(!1),ce=N("length");function gt(S){for(var I={},q=S.length,ee=0;ee<q;++ee)I[S[ee]]=!0;return{contains:function(ye){return I[ye]},push:function(ye){return I[ye]=!0,S.push(ye)}}}function kt(S,I){I=gt(I);var q=Ae.length,ee=S.constructor,ye=Ee(ee)&&ee.prototype||c,ge="constructor";for(ut(S,ge)&&!I.contains(ge)&&I.push(ge);q--;)ge=Ae[q],ge in S&&S[ge]!==ye[ge]&&!I.contains(ge)&&I.push(ge)}function Et(S){if(!K(S))return[];if(E)return E(S);var I=[];for(var q in S)ut(S,q)&&I.push(q);return de&&kt(S,I),I}function H(S){if(S==null)return!0;var I=ce(S);return typeof I=="number"&&(We(S)||oe(S)||xt(S))?I===0:ce(Et(S))===0}function re(S,I){var q=Et(I),ee=q.length;if(S==null)return!ee;for(var ye=Object(S),ge=0;ge<ee;ge++){var Pe=q[ge];if(I[Pe]!==ye[Pe]||!(Pe in ye))return!1}return!0}function k(S){if(S instanceof k)return S;if(!(this instanceof k))return new k(S);this._wrapped=S}k.VERSION=n,k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return String(this._wrapped)};function ke(S){return new Uint8Array(S.buffer||S,S.byteOffset||0,Z(S))}var _e="[object DataView]";function Be(S,I,q,ee){if(S===I)return S!==0||1/S===1/I;if(S==null||I==null)return!1;if(S!==S)return I!==I;var ye=typeof S;return ye!=="function"&&ye!=="object"&&typeof I!="object"?!1:lt(S,I,q,ee)}function lt(S,I,q,ee){S instanceof k&&(S=S._wrapped),I instanceof k&&(I=I._wrapped);var ye=v.call(S);if(ye!==v.call(I))return!1;if(se&&ye=="[object Object]"&&Ze(S)){if(!Ze(I))return!1;ye=_e}switch(ye){case"[object RegExp]":case"[object String]":return""+S==""+I;case"[object Number]":return+S!=+S?+I!=+I:+S==0?1/+S===1/I:+S==+I;case"[object Date]":case"[object Boolean]":return+S==+I;case"[object Symbol]":return u.valueOf.call(S)===u.valueOf.call(I);case"[object ArrayBuffer]":case _e:return lt(ke(S),ke(I),q,ee)}var ge=ye==="[object Array]";if(!ge&&ve(S)){var Pe=Z(S);if(Pe!==Z(I))return!1;if(S.buffer===I.buffer&&S.byteOffset===I.byteOffset)return!0;ge=!0}if(!ge){if(typeof S!="object"||typeof I!="object")return!1;var Qe=S.constructor,Rt=I.constructor;if(Qe!==Rt&&!(Ee(Qe)&&Qe instanceof Qe&&Ee(Rt)&&Rt instanceof Rt)&&"constructor"in S&&"constructor"in I)return!1}q=q||[],ee=ee||[];for(var Pt=q.length;Pt--;)if(q[Pt]===S)return ee[Pt]===I;if(q.push(S),ee.push(I),ge){if(Pt=S.length,Pt!==I.length)return!1;for(;Pt--;)if(!Be(S[Pt],I[Pt],q,ee))return!1}else{var Yn=Et(S),lr;if(Pt=Yn.length,Et(I).length!==Pt)return!1;for(;Pt--;)if(lr=Yn[Pt],!(ut(I,lr)&&Be(S[lr],I[lr],q,ee)))return!1}return q.pop(),ee.pop(),!0}function st(S,I){return Be(S,I)}function Je(S){if(!K(S))return[];var I=[];for(var q in S)I.push(q);return de&&kt(S,I),I}function vt(S){var I=ce(S);return function(q){if(q==null)return!1;var ee=Je(q);if(ce(ee))return!1;for(var ye=0;ye<I;ye++)if(!Ee(q[S[ye]]))return!1;return S!==V||!Ee(q[Nt])}}var Nt="forEach",Ut="has",Bt=["clear","delete"],_n=["get",Ut,"set"],jn=Bt.concat(Nt,_n),V=Bt.concat(_n),J=["add"].concat(Bt,Nt,Ut);let fe=Se?vt(jn):j("Map"),Ie=Se?vt(V):j("WeakMap"),nt=Se?vt(J):j("Set"),mt=j("WeakSet");function Mt(S){for(var I=Et(S),q=I.length,ee=Array(q),ye=0;ye<q;ye++)ee[ye]=S[I[ye]];return ee}function Ln(S){for(var I=Et(S),q=I.length,ee=Array(q),ye=0;ye<q;ye++)ee[ye]=[I[ye],S[I[ye]]];return ee}function an(S){for(var I={},q=Et(S),ee=0,ye=q.length;ee<ye;ee++)I[S[q[ee]]]=q[ee];return I}function hn(S){var I=[];for(var q in S)Ee(S[q])&&I.push(q);return I.sort()}function qr(S,I){return function(q){var ee=arguments.length;if(I&&(q=Object(q)),ee<2||q==null)return q;for(var ye=1;ye<ee;ye++)for(var ge=arguments[ye],Pe=S(ge),Qe=Pe.length,Rt=0;Rt<Qe;Rt++){var Pt=Pe[Rt];(!I||q[Pt]===void 0)&&(q[Pt]=ge[Pt])}return q}}let zn=qr(Je),gn=qr(Et),yi=qr(Je,!0);function sn(){return function(){}}function vn(S){if(!K(S))return{};if(F)return F(S);var I=sn();I.prototype=S;var q=new I;return I.prototype=null,q}function bn(S,I){var q=vn(S);return I&&gn(q,I),q}function $r(S){return K(S)?We(S)?S.slice():zn({},S):S}function Zt(S,I){return I(S),S}function hr(S){return We(S)?S:[S]}k.toPath=hr;function Dt(S){return k.toPath(S)}function rr(S,I){for(var q=I.length,ee=0;ee<q;ee++){if(S==null)return;S=S[I[ee]]}return q?S:void 0}function Pn(S,I,q){var ee=rr(S,Dt(I));return B(ee)?q:ee}function gr(S,I){I=Dt(I);for(var q=I.length,ee=0;ee<q;ee++){var ye=I[ee];if(!ut(S,ye))return!1;S=S[ye]}return!!q}function Qt(S){return S}function dt(S){return S=gn({},S),function(I){return re(I,S)}}function Un(S){return S=Dt(S),function(I){return rr(I,S)}}function ar(S,I,q){if(I===void 0)return S;switch(q??3){case 1:return function(ee){return S.call(I,ee)};case 3:return function(ee,ye,ge){return S.call(I,ee,ye,ge)};case 4:return function(ee,ye,ge,Pe){return S.call(I,ee,ye,ge,Pe)}}return function(){return S.apply(I,arguments)}}function Vn(S,I,q){return S==null?Qt:Ee(S)?ar(S,I,q):K(S)&&!We(S)?dt(S):Un(S)}function It(S,I){return Vn(S,I,1/0)}k.iteratee=It;function on(S,I,q){return k.iteratee!==It?k.iteratee(S,I):Vn(S,I,q)}function _i(S,I,q){I=on(I,q);for(var ee=Et(S),ye=ee.length,ge={},Pe=0;Pe<ye;Pe++){var Qe=ee[Pe];ge[Qe]=I(S[Qe],Qe,S)}return ge}function bi(){}function Fe(S){return S==null?bi:function(I){return Pn(S,I)}}function St(S,I,q){var ee=Array(Math.max(0,S));I=ar(I,q,1);for(var ye=0;ye<S;ye++)ee[ye]=I(ye);return ee}function Ir(S,I){return I==null&&(I=S,S=0),S+Math.floor(Math.random()*(I-S+1))}let P=Date.now||function(){return new Date().getTime()};function $(S){var I=function(ge){return S[ge]},q="(?:"+Et(S).join("|")+")",ee=RegExp(q),ye=RegExp(q,"g");return function(ge){return ge=ge==null?"":""+ge,ee.test(ge)?ge.replace(ye,I):ge}}let De={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},je=$(De),Ue=an(De),Ft=$(Ue),jt=k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Jt=/(.)^/,nn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Po=/\\|'|\r|\n|\u2028|\u2029/g;function wi(S){return"\\"+nn[S]}var Lr=/^\s*(\w|\$)+\s*$/;function so(S,I,q){!I&&q&&(I=q),I=yi({},I,k.templateSettings);var ee=RegExp([(I.escape||Jt).source,(I.interpolate||Jt).source,(I.evaluate||Jt).source].join("|")+"|$","g"),ye=0,ge="__p+='";S.replace(ee,function(Pt,Yn,lr,Uc,gl){return ge+=S.slice(ye,gl).replace(Po,wi),ye=gl+Pt.length,Yn?ge+=`'+
((__t=(`+Yn+`))==null?'':_.escape(__t))+
'`:lr?ge+=`'+
((__t=(`+lr+`))==null?'':__t)+
'`:Uc&&(ge+=`';
`+Uc+`
__p+='`),Pt}),ge+=`';
`;var Pe=I.variable;if(Pe){if(!Lr.test(Pe))throw new Error("variable is not a bare identifier: "+Pe)}else ge=`with(obj||{}){
`+ge+`}
`,Pe="obj";ge=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+ge+`return __p;
`;var Qe;try{Qe=new Function(Pe,"_",ge)}catch(Pt){throw Pt.source=ge,Pt}var Rt=function(Pt){return Qe.call(this,Pt,k)};return Rt.source="function("+Pe+`){
`+ge+"}",Rt}function fa(S,I,q){I=Dt(I);var ee=I.length;if(!ee)return Ee(q)?q.call(S):q;for(var ye=0;ye<ee;ye++){var ge=S?.[I[ye]];ge===void 0&&(ge=q,ye=ee),S=Ee(ge)?ge.call(S):ge}return S}var Io=0;function vo(S){var I=++Io+"";return S?S+I:I}function pa(S){var I=k(S);return I._chain=!0,I}function Lo(S,I,q,ee,ye){if(!(ee instanceof I))return S.apply(q,ye);var ge=vn(S.prototype),Pe=S.apply(ge,ye);return K(Pe)?Pe:ge}var mo=pe(function(S,I){var q=mo.placeholder,ee=function(){for(var ye=0,ge=I.length,Pe=Array(ge),Qe=0;Qe<ge;Qe++)Pe[Qe]=I[Qe]===q?arguments[ye++]:I[Qe];for(;ye<arguments.length;)Pe.push(arguments[ye++]);return Lo(S,ee,this,this,Pe)};return ee});mo.placeholder=k;let $i=mo,yo=pe(function(S,I,q){if(!Ee(S))throw new TypeError("Bind must be called on a function");var ee=pe(function(ye){return Lo(S,ee,I,this,q.concat(ye))});return ee}),Rn=T(ce);function Wn(S,I,q,ee){if(ee=ee||[],!I&&I!==0)I=1/0;else if(I<=0)return ee.concat(S);for(var ye=ee.length,ge=0,Pe=ce(S);ge<Pe;ge++){var Qe=S[ge];if(Rn(Qe)&&(We(Qe)||xt(Qe)))if(I>1)Wn(Qe,I-1,q,ee),ye=ee.length;else for(var Rt=0,Pt=Qe.length;Rt<Pt;)ee[ye++]=Qe[Rt++];else q||(ee[ye++]=Qe)}return ee}let Vo=pe(function(S,I){I=Wn(I,!1,!1);var q=I.length;if(q<1)throw new Error("bindAll must be passed function names");for(;q--;){var ee=I[q];S[ee]=yo(S[ee],S)}return S});function ha(S,I){var q=function(ee){var ye=q.cache,ge=""+(I?I.apply(this,arguments):ee);return ut(ye,ge)||(ye[ge]=S.apply(this,arguments)),ye[ge]};return q.cache={},q}let Qi=pe(function(S,I,q){return setTimeout(function(){return S.apply(null,q)},I)}),sr=$i(Qi,k,1);function ga(S,I,q){var ee,ye,ge,Pe,Qe=0;q||(q={});var Rt=function(){Qe=q.leading===!1?0:P(),ee=null,Pe=S.apply(ye,ge),ee||(ye=ge=null)},Pt=function(){var Yn=P();!Qe&&q.leading===!1&&(Qe=Yn);var lr=I-(Yn-Qe);return ye=this,ge=arguments,lr<=0||lr>I?(ee&&(clearTimeout(ee),ee=null),Qe=Yn,Pe=S.apply(ye,ge),ee||(ye=ge=null)):!ee&&q.trailing!==!1&&(ee=setTimeout(Rt,lr)),Pe};return Pt.cancel=function(){clearTimeout(ee),Qe=0,ee=ye=ge=null},Pt}function Vi(S,I,q){var ee,ye,ge,Pe,Qe,Rt=function(){var Yn=P()-ye;I>Yn?ee=setTimeout(Rt,I-Yn):(ee=null,q||(Pe=S.apply(Qe,ge)),ee||(ge=Qe=null))},Pt=pe(function(Yn){return Qe=this,ge=Yn,ye=P(),ee||(ee=setTimeout(Rt,I),q&&(Pe=S.apply(Qe,ge))),Pe});return Pt.cancel=function(){clearTimeout(ee),ee=ge=Qe=null},Pt}function Gn(S,I){return $i(I,S)}function Ro(S){return function(){return!S.apply(this,arguments)}}function Ci(){var S=arguments,I=S.length-1;return function(){for(var q=I,ee=S[I].apply(this,arguments);q--;)ee=S[q].call(this,ee);return ee}}function Ri(S,I){return function(){if(--S<1)return I.apply(this,arguments)}}function Fo(S,I){var q;return function(){return--S>0&&(q=I.apply(this,arguments)),S<=1&&(I=null),q}}let xi=$i(Fo,2);function Qr(S,I,q){I=on(I,q);for(var ee=Et(S),ye,ge=0,Pe=ee.length;ge<Pe;ge++)if(ye=ee[ge],I(S[ye],ye,S))return ye}function _o(S){return function(I,q,ee){q=on(q,ee);for(var ye=ce(I),ge=S>0?0:ye-1;ge>=0&&ge<ye;ge+=S)if(q(I[ge],ge,I))return ge;return-1}}let Xi=_o(1),bo=_o(-1);function wo(S,I,q,ee){q=on(q,ee,1);for(var ye=q(I),ge=0,Pe=ce(S);ge<Pe;){var Qe=Math.floor((ge+Pe)/2);q(S[Qe])<ye?ge=Qe+1:Pe=Qe}return ge}function va(S,I,q){return function(ee,ye,ge){var Pe=0,Qe=ce(ee);if(typeof ge=="number")S>0?Pe=ge>=0?ge:Math.max(ge+Qe,Pe):Qe=ge>=0?Math.min(ge+1,Qe):ge+Qe+1;else if(q&&ge&&Qe)return ge=q(ee,ye),ee[ge]===ye?ge:-1;if(ye!==ye)return ge=I(h.call(ee,Pe,Qe),tn),ge>=0?ge+Pe:-1;for(ge=S>0?Pe:Qe-1;ge>=0&&ge<Qe;ge+=S)if(ee[ge]===ye)return ge;return-1}}let Ai=va(1,Xi,wo),_t=va(-1,bo);function yt(S,I,q){var ee=Rn(S)?Xi:Qr,ye=ee(S,I,q);if(ye!==void 0&&ye!==-1)return S[ye]}function Vt(S,I){return yt(S,dt(I))}function wt(S,I,q){I=ar(I,q);var ee,ye;if(Rn(S))for(ee=0,ye=S.length;ee<ye;ee++)I(S[ee],ee,S);else{var ge=Et(S);for(ee=0,ye=ge.length;ee<ye;ee++)I(S[ge[ee]],ge[ee],S)}return S}function En(S,I,q){I=on(I,q);for(var ee=!Rn(S)&&Et(S),ye=(ee||S).length,ge=Array(ye),Pe=0;Pe<ye;Pe++){var Qe=ee?ee[Pe]:Pe;ge[Pe]=I(S[Qe],Qe,S)}return ge}function Xr(S){var I=function(q,ee,ye,ge){var Pe=!Rn(q)&&Et(q),Qe=(Pe||q).length,Rt=S>0?0:Qe-1;for(ge||(ye=q[Pe?Pe[Rt]:Rt],Rt+=S);Rt>=0&&Rt<Qe;Rt+=S){var Pt=Pe?Pe[Rt]:Rt;ye=ee(ye,q[Pt],Pt,q)}return ye};return function(q,ee,ye,ge){var Pe=arguments.length>=3;return I(q,ar(ee,ge,4),ye,Pe)}}let Jr=Xr(1),qn=Xr(-1);function ir(S,I,q){var ee=[];return I=on(I,q),wt(S,function(ye,ge,Pe){I(ye,ge,Pe)&&ee.push(ye)}),ee}function ei(S,I,q){return ir(S,Ro(on(I)),q)}function Ji(S,I,q){I=on(I,q);for(var ee=!Rn(S)&&Et(S),ye=(ee||S).length,ge=0;ge<ye;ge++){var Pe=ee?ee[ge]:ge;if(!I(S[Pe],Pe,S))return!1}return!0}function No(S,I,q){I=on(I,q);for(var ee=!Rn(S)&&Et(S),ye=(ee||S).length,ge=0;ge<ye;ge++){var Pe=ee?ee[ge]:ge;if(I(S[Pe],Pe,S))return!0}return!1}function $n(S,I,q,ee){return Rn(S)||(S=Mt(S)),(typeof q!="number"||ee)&&(q=0),Ai(S,I,q)>=0}let kc=pe(function(S,I,q){var ee,ye;return Ee(I)?ye=I:(I=Dt(I),ee=I.slice(0,-1),I=I[I.length-1]),En(S,function(ge){var Pe=ye;if(!Pe){if(ee&&ee.length&&(ge=rr(ge,ee)),ge==null)return;Pe=ge[I]}return Pe==null?Pe:Pe.apply(ge,q)})});function $a(S,I){return En(S,Un(I))}function Pc(S,I){return ir(S,dt(I))}function sl(S,I,q){var ee=-1/0,ye=-1/0,ge,Pe;if(I==null||typeof I=="number"&&typeof S[0]!="object"&&S!=null){S=Rn(S)?S:Mt(S);for(var Qe=0,Rt=S.length;Qe<Rt;Qe++)ge=S[Qe],ge!=null&&ge>ee&&(ee=ge)}else I=on(I,q),wt(S,function(Pt,Yn,lr){Pe=I(Pt,Yn,lr),(Pe>ye||Pe===-1/0&&ee===-1/0)&&(ee=Pt,ye=Pe)});return ee}function ll(S,I,q){var ee=1/0,ye=1/0,ge,Pe;if(I==null||typeof I=="number"&&typeof S[0]!="object"&&S!=null){S=Rn(S)?S:Mt(S);for(var Qe=0,Rt=S.length;Qe<Rt;Qe++)ge=S[Qe],ge!=null&&ge<ee&&(ee=ge)}else I=on(I,q),wt(S,function(Pt,Yn,lr){Pe=I(Pt,Yn,lr),(Pe<ye||Pe===1/0&&ee===1/0)&&(ee=Pt,ye=Pe)});return ee}function Qa(S,I,q){if(I==null||q)return Rn(S)||(S=Mt(S)),S[Ir(S.length-1)];var ee=Rn(S)?$r(S):Mt(S),ye=ce(ee);I=Math.max(Math.min(I,ye),0);for(var ge=ye-1,Pe=0;Pe<I;Pe++){var Qe=Ir(Pe,ge),Rt=ee[Pe];ee[Pe]=ee[Qe],ee[Qe]=Rt}return ee.slice(0,I)}function Ic(S){return Qa(S,1/0)}function Lc(S,I,q){var ee=0;return I=on(I,q),$a(En(S,function(ye,ge,Pe){return{value:ye,index:ee++,criteria:I(ye,ge,Pe)}}).sort(function(ye,ge){var Pe=ye.criteria,Qe=ge.criteria;if(Pe!==Qe){if(Pe>Qe||Pe===void 0)return 1;if(Pe<Qe||Qe===void 0)return-1}return ye.index-ge.index}),"value")}function Xa(S,I){return function(q,ee,ye){var ge=I?[[],[]]:{};return ee=on(ee,ye),wt(q,function(Pe,Qe){var Rt=ee(Pe,Qe,q);S(ge,Pe,Rt)}),ge}}let Vc=Xa(function(S,I,q){ut(S,q)?S[q].push(I):S[q]=[I]}),cl=Xa(function(S,I,q){S[q]=I}),Rc=Xa(function(S,I,q){ut(S,q)?S[q]++:S[q]=1}),ul=Xa(function(S,I,q){S[q?0:1].push(I)},!0);var Ja=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Co(S){return S?We(S)?h.call(S):oe(S)?S.match(Ja):Rn(S)?En(S,Qt):Mt(S):[]}function Fc(S){return S==null?0:Rn(S)?S.length:Et(S).length}function bf(S,I,q){return I in q}let dl=pe(function(S,I){var q={},ee=I[0];if(S==null)return q;Ee(ee)?(I.length>1&&(ee=ar(ee,I[1])),I=Je(S)):(ee=bf,I=Wn(I,!1,!1),S=Object(S));for(var ye=0,ge=I.length;ye<ge;ye++){var Pe=I[ye],Qe=S[Pe];ee(Qe,Pe,S)&&(q[Pe]=Qe)}return q}),Ho=pe(function(S,I){var q=I[0],ee;return Ee(q)?(q=Ro(q),I.length>1&&(ee=I[1])):(I=En(Wn(I,!1,!1),String),q=function(ye,ge){return!$n(I,ge)}),dl(S,q,ee)});function Tn(S,I,q){return h.call(S,0,Math.max(0,S.length-(I==null||q?1:I)))}function Bo(S,I,q){return S==null||S.length<1?I==null||q?void 0:[]:I==null||q?S[0]:Tn(S,S.length-I)}function lo(S,I,q){return h.call(S,I==null||q?1:I)}function jo(S,I,q){return S==null||S.length<1?I==null||q?void 0:[]:I==null||q?S[S.length-1]:lo(S,Math.max(0,S.length-I))}function Nc(S){return ir(S,Boolean)}function fl(S,I){return Wn(S,I,!1)}let pl=pe(function(S,I){return I=Wn(I,!0,!0),ir(S,function(q){return!$n(I,q)})}),es=pe(function(S,I){return pl(S,I)});function zo(S,I,q,ee){L(I)||(ee=q,q=I,I=!1),q!=null&&(q=on(q,ee));for(var ye=[],ge=[],Pe=0,Qe=ce(S);Pe<Qe;Pe++){var Rt=S[Pe],Pt=q?q(Rt,Pe,S):Rt;I&&!q?((!Pe||ge!==Pt)&&ye.push(Rt),ge=Pt):q?$n(ge,Pt)||(ge.push(Pt),ye.push(Rt)):$n(ye,Rt)||ye.push(Rt)}return ye}let Hc=pe(function(S){return zo(Wn(S,!0,!0))});function Bc(S){for(var I=[],q=arguments.length,ee=0,ye=ce(S);ee<ye;ee++){var ge=S[ee];if(!$n(I,ge)){var Pe;for(Pe=1;Pe<q&&$n(arguments[Pe],ge);Pe++);Pe===q&&I.push(ge)}}return I}function Uo(S){for(var I=S&&sl(S,ce).length||0,q=Array(I),ee=0;ee<I;ee++)q[ee]=$a(S,ee);return q}let hl=pe(Uo);function jc(S,I){for(var q={},ee=0,ye=ce(S);ee<ye;ee++)I?q[S[ee]]=I[ee]:q[S[ee][0]]=S[ee][1];return q}function Wo(S,I,q){I==null&&(I=S||0,S=0),q||(q=I<S?-1:1);for(var ee=Math.max(Math.ceil((I-S)/q),0),ye=Array(ee),ge=0;ge<ee;ge++,S+=q)ye[ge]=S;return ye}function Fi(S,I){if(I==null||I<1)return[];for(var q=[],ee=0,ye=S.length;ee<ye;)q.push(h.call(S,ee,ee+=I));return q}function Go(S,I){return S._chain?k(I).chain():I}function ma(S){return wt(hn(S),function(I){var q=k[I]=S[I];k.prototype[I]=function(){var ee=[this._wrapped];return d.apply(ee,arguments),Go(this,q.apply(k,ee))}}),k}wt(["pop","push","reverse","shift","sort","splice","unshift"],function(S){var I=s[S];k.prototype[S]=function(){var q=this._wrapped;return q!=null&&(I.apply(q,arguments),(S==="shift"||S==="splice")&&q.length===0&&delete q[0]),Go(this,q)}}),wt(["concat","join","slice"],function(S){var I=s[S];k.prototype[S]=function(){var q=this._wrapped;return q!=null&&(q=I.apply(q,arguments)),Go(this,q)}});let zc=k;var ti=ma(t);ti._=ti;let xo=ti}},Lm={};function en(o){var r=Lm[o];if(r!==void 0)return r.exports;var e=Lm[o]={exports:{}};return lb[o].call(e.exports,e,e.exports,en),e.exports}en.n=o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return en.d(r,{a:r}),r};en.d=(o,r)=>{for(var e in r)en.o(r,e)&&!en.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:r[e]})};en.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();en.o=(o,r)=>Object.prototype.hasOwnProperty.call(o,r);en.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var Hd={};en.d(Hd,{Ay:()=>nE,I0:()=>R1,nu:()=>V1});var M=en(523),Le=en(342);function hi(o){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var t=o.raw;return t.reduce(function(n,i,s){var c=r[s-1],u=t[s-1];return Array.isArray(c)?c=c.join(""):u&&u.slice(-1)==="$"?n=n.slice(0,-1):c=(0,Le.escape)(c),n+c+i})}var cb={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1},Vm=cb,zp=en(391),ub=en.n(zp),Sn=en(694),db=function(o){var r=o.$;if(r&&r.prototype&&r.prototype.constructor.name!=="jQuery"){var e=r.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var i=this.get(0);return i&&i.focus(),this},e.bind=function(i,s){return this.on(i,s)},e.unbind=function(i,s){if((0,M.isObject)(i)){for(var c in i)i.hasOwnProperty(c)&&this.off(c,i[c]);return this}else return this.off(i,s)},e.click=function(i){return i?this.on("click",i):this.trigger("click")},e.change=function(i){return i?this.on("change",i):this.trigger("change")},e.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},e.delegate=function(i,s,c,u){return u||(u=c),this.on(s,i,function(d){d.data=c,u(d)})},e.scrollLeft=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var s=i instanceof Window?i:null;return s?s.pageXOffset:i.scrollLeft||0},e.scrollTop=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var s=i instanceof Window?i:null;return s?s.pageYOffset:i.scrollTop||0};var t=r.prototype.offset;e.offset=function(i){var s,c;return i&&(s=i.top,c=i.left),typeof s<"u"&&this.css("top","".concat(s,"px")),typeof c<"u"&&this.css("left","".concat(c,"px")),t.call(this)},r.map=function(i,s){for(var c=[],u=0;u<i.length;u++)c.push(s(i[u],u));return c};var n=Array.prototype.indexOf;r.inArray=function(i,s,c){return s==null?-1:n.call(s,i,c)},r.Event=function(i,s){if(!(this instanceof r.Event))return new r.Event(i,s);this.type=i,this.isDefaultPrevented=function(){return!1}}}},tt=en(268),ey=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fb=function(o){ey(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(tt.Kx),pb=function(o){ey(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getByComponent=function(e){var t=this;return this.filter(function(n){return t.getComponent(n)===e})[0]},r.prototype.addComponent=function(e,t){var n=this,i=((0,M.isArray)(e)?e:[e]).filter(function(s){return!n.hasComponent(s)}).map(function(s){return new fb({component:s})})[0];return this.push(i,t)},r.prototype.getComponent=function(e){return e.get("component")},r.prototype.hasComponent=function(e){var t=this.getByComponent(e);return t&&this.contains(t)},r.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},r.prototype.allComponents=function(){var e=this;return this.map(function(t){return e.getComponent(t)}).filter(function(t){return t})},r.prototype.removeComponent=function(e,t){var n=this,i=((0,M.isArray)(e)?e:[e]).map(function(s){return n.getByComponent(s)});return this.remove(i,t)},r}(tt.pM),hb=pb,gb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Up=function(){return Up=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Up.apply(this,arguments)},vb=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},ty=function(){function o(r,e,t){this.debounced=[],this.collections=[],this.cls=[],this._em=r,this._name=e;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,M.isUndefined)(r.config[n])?r.config[this.name]:r.config[n],s=i===!0?{}:i||{};s.pStylePrefix=r.config.pStylePrefix||"",!(0,M.isUndefined)(i)&&!i&&(s._disable=1),s.em=r,this._config=(0,Le.deepMerge)(t||{},s)}return Object.defineProperty(o.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),o.prototype.render=function(r){},o.prototype.postLoad=function(r){},Object.defineProperty(o.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(r){return r?this.config[r]:this.config},o.prototype.__logWarn=function(r,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),e)},o.prototype.destroy=function(){this.__destroy()},o.prototype.__destroy=function(){var r,e,t;(r=this.view)===null||r===void 0||r.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(t=this.state)===null||t===void 0||t.clear(),this.debounced.forEach(function(n){return n.cancel()}),this.collections.forEach(function(n){n.stopListening(),n.reset()})},o.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var e=(0,M.isElement)(r)?r:document.querySelector(r);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},o}(),vi=ty,da=function(o){gb(r,o);function r(e,t,n,i,s,c){c===void 0&&(c={});var u=o.call(this,e,t,s)||this;return u.cls=[],u.private=!1,u.all=n,u.events=i,!c.skipListen&&u.__initListen(),u}return r.prototype.postLoad=function(e){},r.prototype.render=function(e){},r.prototype.getProjectData=function(e){var t={},n=this.storageKey;return n&&(t[n]=e||this.getAll()),t},r.prototype.loadProjectData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=t.all,i=t.onResult,s=t.reset,c=this.storageKey,u={action:"load"},d=n||this.all,h=e[c];if(typeof h=="string")try{h=JSON.parse(h)}catch{this.__logWarn("Data parsing failed",{input:h})}return s&&h&&d.reset(void 0,u),i?h&&i(h,u):h&&(0,Le.isDef)(h.length)&&d.reset(h,u),h},r.prototype.clear=function(e){e===void 0&&(e={});var t=this.all;return t&&t.reset(void 0,e),this},r.prototype.getAll=function(){return vb([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(e,t){return e[t.get(t.idAttribute)]=t,e},{})},r.prototype.__initListen=function(e){e===void 0&&(e={});var t=this,n=t.all,i=t.em,s=t.events;n&&i&&n.on("add",function(c,u,d){return i.trigger(s.add,c,d)}).on("remove",function(c,u,d){return i.trigger(s.remove,c,d)}).on("change",function(c,u){return i.trigger(s.update,c,c.changedAttributes(),u)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(e.collections||[]),(e.propagate||[]).forEach(function(c){var u=c.entity,d=c.event;u.on("all",function(h,v,m,_){var w=_||m,x=Up({event:h},w);[i,n].map(function(E){return E.trigger(d,v,x)})})})},r.prototype.__remove=function(e,t){var n=this;t===void 0&&(t={});var i=this.em,s=(0,M.isString)(e)?this.get(e):e,c=function(){return s&&n.all.remove(s,t),s};return!t.silent&&i?.trigger(this.events.removeBefore,s,c,t),!t.abort&&c()},r.prototype.__catchAllEvent=function(e,t,n,i){var s=this,c=s.em,u=s.events,d=i||n;c&&u.all&&c.trigger(u.all,{event:e,model:t,options:d}),this.__onAllEvent()},r.prototype.__appendTo=function(e){var t=this.config.appendTo;if(t){var n=(0,M.isElement)(t)?t:document.querySelector(t);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(e))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(e){e===void 0&&(e=16);var t=this.getAll(),n=t.length+e,i=this.getAllMap(),s;do s=(0,Le.createId)(n);while(i[s]);return s},r.prototype.__listenAdd=function(e,t){var n=this;e.on("add",function(i,s,c){return n.em.trigger(t,i,c)})},r.prototype.__listenRemove=function(e,t){var n=this;e.on("remove",function(i,s,c){return n.em.trigger(t,i,c)})},r.prototype.__listenUpdate=function(e,t){var n=this;e.on("change",function(i,s){return n.em.trigger(t,i,i.changedAttributes(),s)})},r.prototype.__destroy=function(){var e;this.cls.forEach(function(t){t.stopListening(),t.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},r}(ty),mb={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0},yb=mb,ua=en(578),_b={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]},bb=_b,wb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cb=function(o){wb(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var t=["width","height","widthMedia"];t.forEach(function(n){return e.checkUnit(n)})},r.prototype.checkUnit=function(e){var t=this.get(e)||"",n=(parseFloat(t)||0).toString()===t.toString();n&&this.set(e,"".concat(t,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r}(tt.Kx),ny=Cb,xb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ry=function(o){xb(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(tt.pM),Rm=ry;ry.prototype.model=ny;var Ab=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sb=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},Eb=function(o){Ab(r,o);function r(e){var t=o.call(this,e)||this;return t.config=e.config||{},t.em=t.config.em,t.ppfx=t.config.pStylePrefix||"",t.listenTo(t.em,"change:device",t.updateSelect),t}return r.prototype.template=function(e){var t=e.ppfx,n=e.label;return hi(Fm||(Fm=Sb([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),t,n,t,t,t,t,t,t,t)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var e=this.em;if(e){var t=this.devicesEl;e.set("device",t?t.val():"")}},r.prototype.updateSelect=function(){var e=this,t=e.em,n=e.devicesEl;if(t&&t.getDeviceModel&&n){var i=t.getDeviceModel();n.val(i?i.get("id"):"")}},r.prototype.getOptions=function(){var e=this,t=e.collection,n=e.em,i="";return t.forEach(function(s){var c=s.attributes,u=c.name,d=c.id,h=n&&n.t&&n.t("deviceManager.devices.".concat(d))||u;i+='<option value="'.concat(d||u,'">').concat(h,"</option>")}),i},r.prototype.render=function(){var e=this,t=e.em,n=e.ppfx,i=e.$el,s=e.el,c=t&&t.t&&t.t("deviceManager.device");return i.html(this.template({ppfx:n,label:c})),this.devicesEl=i.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(t.get("device")),s.className="".concat(n,"devices-c"),this},r}(tt.Ss),Tb=Eb,Fm,Ob=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rc=function(){return rc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},rc.apply(this,arguments)},iy="device",Bd="".concat(iy,":"),oy="".concat(Bd,"select"),jO="".concat(oy,":before"),ay="".concat(Bd,"update"),sy="".concat(Bd,"add"),zO="".concat(sy,":before"),ly="".concat(Bd,"remove"),Db="".concat(ly,":before"),Mb="change:device",kb={all:iy,select:oy,update:ay,add:sy,remove:ly,removeBefore:Db},Pb=function(o){Ob(r,o);function r(e){var t,n=o.call(this,e,"DeviceManager",new Rm,kb,bb)||this;return n.Device=ny,n.Devices=Rm,n.storageKey="",n.devices=n.all,(t=n.config.devices)===null||t===void 0||t.forEach(function(i){return n.add(i,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),e.on(Mb,n._onSelect,n),n}return r.prototype._onSelect=function(e,t,n){var i=this,s=i.em,c=i.events,u=e.previous("device"),d=this.get(t),h=c.select;s.trigger(h,d,this.get(u)),this.__catchAllEvent(h,d,n)},r.prototype.add=function(e,t){t===void 0&&(t={});var n,i=t;if((0,M.isString)(e)){var s=t;i=arguments[2]||{},n=rc(rc({},i),{id:e,name:i.name||e,width:s})}else n=e;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,i)},r.prototype.get=function(e){var t=this.getAll().filter(function(n){return n.get("name")===e})[0];return t||this.devices.get(e)||null},r.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(e,t){t===void 0&&(t={});var n=(0,M.isString)(e)?this.get(e):e;return n&&this.em.set("device",n.get("id"),t),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var e,t=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new Tb({collection:this.devices,config:rc({em:t},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r}(da),Ib=Pb,cy=function(o){return o.add="page:add",o.addBefore="page:add:before",o.remove="page:remove",o.removeBefore="page:remove:before",o.select="page:select",o.selectBefore="page:select:before",o.update="page:update",o.all="page",o}(cy||{}),Wp=cy,Lb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vb=function(o){Lb(r,o);function r(e,t,n){return o.call(this,t,{module:e,modelConstructor:n})||this}return r.prototype.add=function(e,t){var n=this,i,s=(0,M.isArray)(e)?e:(0,M.isUndefined)(e)?void 0:[e];return s=(i=s?.map(function(c){return c instanceof n.newModel?c:new n.newModel(n.module,c)}))!==null&&i!==void 0?i:[void 0],o.prototype.add.call(this,(0,M.isArray)(e)?s:s[0],t)},r.prototype.preinitialize=function(e,t){this.newModel=t.modelConstructor,this.module=t.module},r}(tt.pM),jd=Vb,Rb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gp=function(){return Gp=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Gp.apply(this,arguments)},Nm=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Hm="__aw",Bm="__ah",jm=function(o,r){var e,t=o.get(r),n=(e=o.view)===null||e===void 0?void 0:e.el[r==="width"?"offsetWidth":"offsetHeight"];return(0,M.isNumber)(t)?t:(0,M.isString)(t)&&t.endsWith("px")?parseFloat(t):n||0},Fb=function(o){Rb(r,o);function r(e,t){var n=o.call(this,e,t)||this,i=n.em,s=n.attributes,c=s.styles,u=s.component,d=i.Components,h=d.getConfig(),v=i.Css.getAll(),m={},_={em:i,config:h,frame:n,idMap:m};if(!(0,Le.isComponent)(u)){var w=(0,Le.isObject)(u)?u:{components:u};!w.type&&(w.type="wrapper");var x=d.getType("wrapper").model;n.set("component",new x(w,_))}if(!c)n.set("styles",v);else if(!(0,Le.isObject)(c)){var E=c;(0,M.keys)(m).length&&(E=(0,M.isString)(E)?i.Parser.parseCss(E):E,i.Css.checkId(E,{idMap:m})),v.add(E),n.set("styles",v)}return!t.width&&n.set(Hm,1),!t.height&&n.set(Bm,1),!n.id&&n.set("id",(0,Le.createId)()),n}return r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return jm(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return jm(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var e=this.refFrame;return e?.getComponent()||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var e=this.refFrame;if((0,M.isString)(e)){var t=this.module.framesById[e];t&&this.set({refFrame:t},{silent:!0})}},r.prototype.getBoxRect=function(){var e=this.attributes,t=e.x,n=e.y,i=this,s=i.width,c=i.height;return{x:t,y:n,width:s,height:c}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var t=this.collection;return t&&t.remove(this)},r.prototype.getHead=function(){return Nm([],this.head,!0)},r.prototype.setHead=function(e){return this.set("head",Nm([],e,!0))},r.prototype.addHeadItem=function(e){this.head.push(e)},r.prototype.getHeadByAttr=function(e,t,n){return this.head.filter(function(i){return i.attributes&&i.attributes[e]==t&&(!n||n===i.tag)})[0]},r.prototype.removeHeadByAttr=function(e,t,n){var i=this.getHeadByAttr(e,t,n),s=this.head.indexOf(i);s>=0&&this.head.splice(s,1)},r.prototype.addLink=function(e){var t="link";!this.getHeadByAttr("href",e,t)&&this.addHeadItem({tag:t,attributes:{href:e,rel:"stylesheet"}})},r.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},r.prototype.addScript=function(e){var t="script";!this.getHeadByAttr("src",e,t)&&this.addHeadItem({tag:t,attributes:{src:e}})},r.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},r.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},r.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",Gp({frame:this},e))},r.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=ua.A.prototype.toJSON.call(this,e),n=(0,M.result)(this,"defaults");return e.fromUndo&&delete t.component,delete t.styles,delete t.changesCount,t[Hm]&&delete t.width,t[Bm]&&delete t.height,t.refFrame&&(t.refFrame=t.refFrame.id,delete t.component),(0,M.forEach)(t,function(i,s){s.indexOf("_")===0&&delete t[s]}),(0,M.forEach)(n,function(i,s){t[s]===i&&delete t[s]}),(0,M.forEach)(["attributes","head"],function(i){(0,M.isEmpty)(t[i])&&delete t[i]}),t},r}(ua.A),uy=Fb,Nb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hb=function(o){Nb(r,o);function r(e,t){t===void 0&&(t=[]);var n=o.call(this,e,t,uy)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,M.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(i){return n.onAdd(i)}),n}return r.prototype.onAdd=function(e){this.module.framesById[e.id]=e},r.prototype.onReset=function(e,t){var n=this,i=t?.previousModels||[];i.map(function(s){return n.onRemove(s)})},r.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},r.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(e){var t=this;this.forEach(function(n){return n[e?"on":"off"]("loaded",t.itemLoaded)})},r}(jd),dy=Hb,Bb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jb=function(o){Bb(r,o);function r(e){var t=this,n=e.em,i=e.config,s=i.scripts,c=i.styles;return t=o.call(this,e,{scripts:s,styles:c})||this,t.set("frames",new dy(e)),t.on("change:zoom",t.onZoomChange),t.on("change:x change:y",t.onCoordsChange),t.on("change:pointer change:pointerScreen",t.onPointerChange),t.listenTo(n,"change:device ".concat(ay),t.updateDevice),t.listenTo(n,Wp.select,t._pageUpdated),t}return r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:tt.lK,pointerScreen:tt.lK}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var e=this.em,t=e.Pages._initPage();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype._pageUpdated=function(e,t){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),t?.getFrames().map(function(i){return i.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},r.prototype.updateDevice=function(e){e===void 0&&(e={});var t=this.em,n=t.getDeviceModel(),i=e.frame||t.getCurrentFrameModel();if(i&&n){var s=n.attributes,c=s.width,u=s.height;i.set({width:c,height:u},{noUndo:1})}},r.prototype.onZoomChange=function(){var e=this,t=e.em,n=e.module,i=this.get("zoom");i<1&&this.set("zoom",1),t.trigger(n.events.zoom)},r.prototype.onCoordsChange=function(){var e=this,t=e.em,n=e.module;t.trigger(n.events.coords)},r.prototype.onPointerChange=function(){var e=this,t=e.em,n=e.module;t.trigger(n.events.pointer)},r.prototype.getPointerCoords=function(e){e===void 0&&(e=tt.x2.World);var t=this.attributes,n=t.pointer,i=t.pointerScreen;return e===tt.x2.World?n:i},r}(ua.A),zb=jb,Wi=en(683),Dr=en(249),Ub=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wb=function(o){Ub(r,o);function r(e,t){t===void 0&&(t=[]);var n=o.call(this,e,t,Wi.A)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var i=n.em;n.refreshDbn=(0,M.debounce)(function(){return n.refresh()},0);var s="component:resize styleable:change component:input ".concat(Dr.I.update," frame:updated undo redo");return n.listenTo(i,s,function(){return n.refreshDbn()}),n}return Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){var e=this,t=e.em,n=e.events;t.trigger(n.spot)},r.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},r.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},r.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},r.prototype.__trgEvent=function(e,t){var n=this.module,i=n.em;i.trigger(e,t),this.refreshDbn()},r}(jd),Gb=Wb,dh=function(o){return o.dragEnter="canvas:dragenter",o.dragOver="canvas:dragover",o.dragEnd="canvas:dragend",o.dragData="canvas:dragdata",o.drop="canvas:drop",o.spot="canvas:spot",o.spotAdd="canvas:spot:add",o.spotUpdate="canvas:spot:update",o.spotRemove="canvas:spot:remove",o.coords="canvas:coords",o.zoom="canvas:zoom",o.pointer="canvas:pointer",o.refresh="canvas:refresh",o.frameLoad="canvas:frame:load",o.frameLoadHead="canvas:frame:load:head",o.frameLoadBody="canvas:frame:load:body",o}(dh||{}),Hu=dh,Yb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Zb=function(o){Yb(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var e,t;return(t=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&t!==void 0?t:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(e){this.className=""},r}(tt.Ss),Gi=Zb,ot=en(926),Kb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qb=function(o){Kb(r,o);function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1);var n=o.call(this,e)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],t&&n.listenTo(n.collection,"add",n.addTo),n}return r.prototype.addTo=function(e){this.add(e)},r.prototype.itemViewNotFound=function(e){},r.prototype.add=function(e,t){var n=this,i=n.reuseView,s=n.viewCollection,c=t||null,u=e.get(this.itemType),d;e.view&&i?d=e.view:d=this.renderView(e,u),s.push(d);var h=d.render().el;c?c.appendChild(h):this.$el.append(h)},r.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return e.add(n,t)}),this.$el.append(t),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(e,t){},r.prototype.onRemove=function(e,t){},r.prototype.remove=function(e){e===void 0&&(e={});var t=this.viewCollection;return this.onRemoveBefore(t,e),this.clearItems(),tt.Ss.prototype.remove.apply(this,e),this.onRemove(t,e),this},r.prototype.clearItems=function(){var e=this.viewCollection||[]},r}(Gi),$b=qb,Qb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xb=function(o){Qb(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.config=e.config||{};var n=t.model;return t.listenTo(n,"change",t.render),t.listenTo(n,"destroy remove",t.remove),t.listenTo(n.get("selectors"),"change",t.render),t}return r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var e=this,t=e.model,n=e.el,i=t.get("important");return n.innerHTML=t.toCSS({important:i}),this},r}(tt.Ss),fy=Xb,Jb=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ew=function(o){Jb(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this},r}(fy),tw=ew,nw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fp=function(o,r){return"".concat(o).concat(r?"-".concat(parseFloat(r)):"")},rw=function(o){nw(r,o);function r(e){var t=o.call(this,e)||this;(0,M.bindAll)(t,"sortRules");var n=e.config||{};t.atRules={},t.config=n,t.em=n.em,t.pfx=n.stylePrefix||"",t.className=t.pfx+"rules";var i=t.collection;return t.listenTo(i,"add",t.addTo),t.listenTo(i,"reset",t.render),t}return r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){if(this.renderStarted){var n=t||null,i=this.config,s={model:e,config:i},c,u;if(e.get("atRuleType")==="keyframes"){var d=e.getAtRule(),h=this.atRules[d];if(!h){var v=document.createElement("style");h=document.createTextNode(""),v.appendChild(document.createTextNode("".concat(d,"{"))),v.appendChild(h),v.appendChild(document.createTextNode("}")),this.atRules[d]=h,c=v}u=new tw(s),h.appendData(u.render().el.textContent)}else u=new fy(s),c=u.render().el;var m=this.className,_=e.get("mediaText"),w=fp(m),x=w;if(_&&(x=fp(m,this.getMediaWidth(_))),c){var E=n||this.el,F=void 0;try{F=E.querySelector("#".concat(x))}catch{}F||(F=E.querySelector("#".concat(w))),F?.appendChild(c)}return c}},r.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(e,t){var n=this.em,i=(n.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!i)return 0;var s=i?e:t,c=i?t:e;return s-c},r.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var t=this,n=t.em,i=t.$el,s=t.collection,c=this.className,u=document.createDocumentFragment();i.empty();var d=n.Devices.getAll().pluck("priority").sort(this.sortRules);return d.every(function(h){return h})&&d.unshift(0),d.forEach(function(h){return u.appendChild((0,ot.a_)("div",{id:fp(c,h)}))}),s.each(function(h){return e.addToCollection(h,u)}),i.append(u),i.attr("class",c),this},r}(tt.Ss),py=rw,hy="text/html",iw=hy,ow=function(o,r){r===void 0&&(r={});var e=new DOMParser,t=r.htmlType||iw,n=t===hy,i=n?o:"<div>".concat(o,"</div>"),s=e.parseFromString(i,t),c;if(n){if(r.asDocument)return s;var u=s.head,d=s.body,h=u.querySelectorAll("script");(0,M.each)(h,function(m){return d.appendChild(m)});var v=[];(0,M.each)(u.children,function(m){return v.push(m)}),(0,M.each)(v,function(m,_){return d.insertBefore(m,d.children[_])}),c=d}else c=s.firstChild;return c},To=function(){return To=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},To.apply(this,arguments)},aw="data-gjs-",zm="parse:html",sw=function(o,r){return r===void 0&&(r={}),{compTypes:[],modelAttrStart:aw,getPropAttribute:function(e,t){var n=e.replace(this.modelAttrStart,""),i=t?.length||0,s=t?.substring(0,1),c=t?.substring(i-1),u=t==="true"?!0:t==="false"?!1:t;try{u=s=="{"&&c=="}"||s=="["&&c=="]"?JSON.parse(u):u}catch{}return{name:n,value:u}},splitPropsFromAttr:function(e){var t=this;e===void 0&&(e={});var n={},i={};return(0,M.each)(e,function(s,c){if(c.indexOf(t.modelAttrStart)===0){var u=t.getPropAttribute(c,s);n[u.name]=u.value}else i[c]=s}),{props:n,attrs:i}},parseStyle:function(e){for(var t={};e.indexOf("/*")>=0;){var n=e.indexOf("/*"),i=e.indexOf("*/")+2;e=e.replace(e.slice(n,i),"")}for(var s=e.split(";"),c=0,u=s.length;c<u;c++){var d=s[c].trim();if(d){var h=d.split(":"),v=h[0].trim(),m=h.slice(1).join(":").trim();t[v]?((0,M.isArray)(t[v])||(t[v]=[t[v]]),t[v].push(m)):t[v]=m}}return t},parseClass:function(e){for(var t=[],n=e.split(" "),i=0,s=n.length;i<s;i++){var c=n[i].trim();c&&t.push(c)}return t},parseNodeAttr:function(e,t){for(var n=t||{},i=e.attributes||[],s=i.length,c=0;c<s;c++){var u=i[c].nodeName,d=i[c].nodeValue;if(u=="style")n.style=this.parseStyle(d);else if(u=="class")n.classes=this.parseClass(d);else{if(u=="contenteditable")continue;if(u.indexOf(this.modelAttrStart)===0){var h=this.getPropAttribute(u,d);n[h.name]=h.value}else d===""&&e[u]===!0&&(d=!0),n.attributes||(n.attributes={}),n.attributes[u]=d}}return n},detectNode:function(e,t){var n;t===void 0&&(t={});var i=this.compTypes,s={};if(i){var c=(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"".concat(this.modelAttrStart,"type"));if(c)s={type:c};else for(var u=0;u<i.length;u++){var d=i[u],h=d.model.isComponent(e,t);if(h){typeof h!="object"&&(h={type:d.id}),s=h;break}}}return s},parseNode:function(e,t){var n;t===void 0&&(t={});var i=((n=e.content)===null||n===void 0?void 0:n.childNodes)||e.childNodes,s=i.length,c=this.detectNode(e,t);if(!c.tagName){var u=e.tagName||"",d=e.namespaceURI||"";c.tagName=u&&d==="http://www.w3.org/1999/xhtml"?u.toLowerCase():u}if(c=this.parseNodeAttr(e,c),!s&&"".concat(e.outerHTML).slice(-2)==="/>"&&(c.void=!0),s&&!c.components&&!t.skipChildren){var h=i[0];s===1&&h.nodeType===3?(!c.type&&(c.type="text"),c.components={type:"textnode",content:h.nodeValue}):c.components=this.parseNodes(e,To(To({},t),{inSvg:t.inSvg||c.type==="svg"}))}var v=c.components;if(!c.type&&v?.length){for(var m=r.textTypes,_=m===void 0?[]:m,w=r.textTags,x=w===void 0?[]:w,E=!0,F=!1,U=0;U<v.length;U++){var R=v[U],W=R.type;if(!_.includes(W)&&!x.includes(R.tagName)){E=!1;break}W==="textnode"&&(F=!0)}E&&F&&(c.type="text")}return c},parseNodes:function(e,t){var n;t===void 0&&(t={});for(var i=[],s=((n=e.content)===null||n===void 0?void 0:n.childNodes)||e.childNodes,c=s.length,u=0;u<c;u++){var d=s[u],h=i[i.length-1],v=this.parseNode(d,t);if(v.type==="textnode"){if(h?.type==="textnode"){h.content+=v.content;continue}if(!t.keepEmptyTextNodes){var m=d.nodeValue||"",_=u===0||u===c-1,w=m.includes(`
`);if(m!=" "&&!m.trim()&&(_||w))continue}}!v.tagName&&(0,M.isUndefined)(v.content)||i.push(v)}return i},parse:function(e,t,n){var i,s,c;n===void 0&&(n={});var u=o?.get("Config")||{},d={html:[]},h=To(To({},r),n),v=To(To(To({},r.optionsHtml),{htmlType:((i=r.optionsHtml)===null||i===void 0?void 0:i.htmlType)||r.htmlType}),n),m=v.preParser,_=v.asDocument,w=(0,M.isFunction)(m)?m(e,{editor:o?.getEditor()}):e,x=(0,M.isFunction)(h.parserHtml)?h.parserHtml(w,v):ow(w,v),E=x,F=x;_&&(E=F.documentElement,d.doctype=(0,ot.LJ)(F.doctype));var U=E.querySelectorAll("script"),R=U.length,W=(0,M.isUndefined)(u.allowScripts)?v.allowScripts:u.allowScripts;if(!W)for(;R--;)(s=U[R].parentNode)===null||s===void 0||s.removeChild(U[R]);if((!v.allowUnsafeAttr||!v.allowUnsafeAttrValue)&&this.__sanitizeNode(E,v),t){for(var de=E.querySelectorAll("style"),Ae=de.length,Te="";Ae--;)Te=de[Ae].innerHTML+Te,(c=de[Ae].parentNode)===null||c===void 0||c.removeChild(de[Ae]);Te&&(d.css=t.parse(Te))}o?.trigger("".concat(zm,":root"),{input:w,root:E});var pe=[];if(_)d.head=this.parseNode(F.head,h),d.root=this.parseNodeAttr(E),pe=this.parseNode(F.body,h);else{var K=this.parseNodes(E,h);pe=K.length===1&&!h.returnArray?K[0]:K}return d.html=pe,o?.trigger(zm,{input:w,output:d}),d},__sanitizeNode:function(e,t){var n=this,i=e.attributes||[],s=e.childNodes||[],c=[];(0,M.each)(i,function(u){var d=u.nodeName||"",h=u.nodeValue||"";!t.allowUnsafeAttr&&d.startsWith("on")&&c.push(d),!t.allowUnsafeAttrValue&&h.startsWith("javascript:")&&c.push(d)}),c.map(function(u){return e.removeAttribute(u)}),(0,M.each)(s,function(u){return n.__sanitizeNode(u,t)})}}},gy=sw,lw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ha=function(){return Ha=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ha.apply(this,arguments)},cw=gy(),Yp=function(o){return(0,M.isArray)(o)?o[o.length-1]:o},uw=function(o){lw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.parseStyle=function(e){return cw.parseStyle(e)},r.prototype.extendStyle=function(e){return Ha(Ha({},this.getStyle()),e)},r.prototype.getStyle=function(e){var t=this.get("style")||{},n=Ha({},t);return e&&(0,M.isString)(e)?n[e]:n},r.prototype.setStyle=function(e,t){var n=this;e===void 0&&(e={}),t===void 0&&(t={}),(0,M.isString)(e)&&(e=this.parseStyle(e));var i=this.getStyle(t);t.partial||t.avoidStore?(t.avoidStore=!0,e.__p=!0):delete e.__p;var s=Ha({},e),c=Ha({},s);(0,M.keys)(c).forEach(function(d){c[d]===""&&delete c[d]}),this.set("style",c,t);var u=(0,Le.shallowDiff)(i,s);return delete u.__p,(0,M.keys)(u).forEach(function(d){var h=n.em;t.noEvent||(n.trigger("change:style:".concat(d)),h&&(h.trigger("styleable:change",n,d,t),h.trigger("styleable:change:".concat(d),n,d,t)))}),s},r.prototype.addStyle=function(e,t,n){var i;t===void 0&&(t=""),n===void 0&&(n={}),typeof e=="string"?e=(i={},i[e]=t,i):n=t||{},n.addStyle=e,e=this.extendStyle(e),this.setStyle(e,n)},r.prototype.removeStyle=function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},r.prototype.styleToString=function(e){e===void 0&&(e={});var t=[],n=this.getStyle(e),i=e.important,s=function(u){var d=(0,M.isArray)(i)?i.indexOf(u)>=0:i,h=u.substring(0,2),v=h==="__";if(v)return"continue";var m=n[u],_=(0,M.isArray)(m)?m:[m];_.forEach(function(w){var x="".concat(w).concat(d?" !important":"");x&&t.push("".concat(u,":").concat(x,";"))})};for(var c in n)s(c);return t.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},r}(tt.Kx),vy=uw,fi=function(){return fi=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},fi.apply(this,arguments)},my=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Wu=function(o){return(0,M.isArray)(o.get(pi))},Gu=function(o){return!!o.get(Ui)},Ks=function(o){return!!(Wu(o)||Gu(o))},Ya=function(o){var r=o.parent();return Ks(o)&&(!r||!Ks(r))};var $l=function(o){o.__symbReady||(o.on("change",o.__upSymbProps),o.__symbReady=!0)},Za=function(o){var r=o.get(Ui);if(r&&(0,M.isString)(r)){var e=o.__getAllById()[r];e?(r=e,o.set(Ui,e)):r=0}return r||void 0},ki=function(o){var r=o?.get(pi);return r&&(0,M.isArray)(r)&&(r.forEach(function(e,t){e&&(0,M.isString)(e)&&(r[t]=o.__getAllById()[e])}),r=r.filter(function(e){return e&&!(0,M.isString)(e)})),r||void 0},qs=function(o,r){r===void 0&&(r="");var e=o?.get(oc),t=r.split(":")[0],n=r!==t?[r,t]:[r];return e===!0||(0,M.isArray)(e)&&n.some(function(i){return e.indexOf(i)>=0})},Wa=function(o,r){r===void 0&&(r={});var e=[],t=r.changed;if(r.fromInstance||r.noPropagate||r.fromUndo||t&&qs(o,t))return e;var n=ki(o)||[],i=Za(o),s=i?my([i],ki(i)||[],!0):n;return e=s.filter(function(c){return c!==o}).filter(function(c){return!(t&&qs(c,t))}),e},Um=function(o,r){for(var e=o,t=o.parent(r);t&&Ks(t);)e=t,t=t.parent(r);return e},fh=function(o,r){r===void 0&&(r={});var e=Za(o),t=e&&ki(e);!r.skipRefs&&t&&e.set(pi,t.filter(function(n){return n!==o})),o.set(Ui,0),o.components().forEach(function(n){return fh(n,r)})},ic=function(o,r,e,t){t===void 0&&(t={});var n=Za(o),i=ki(o);!n&&!i||o.em.log(r,{model:o,toUp:e,context:"symbols",opts:t})},dw=function(o,r){r===void 0&&(r={});var e=o.changedAttributes()||{},t=e.attributes||{};if(delete e.status,delete e.open,delete e[pi],delete e[Ui],delete e[oc],delete e.attributes,delete t.id,(0,Le.isEmptyObj)(t)||(e.attributes=t),!(0,Le.isEmptyObj)(e)){var n=Wa(o,r);(0,M.keys)(e).map(function(i){qs(o,i)&&delete e[i]}),ic(o,"props",n,{opts:r,changed:e}),n.forEach(function(i){var s=fi({},e);(0,M.keys)(s).map(function(c){qs(i,c)&&delete s[c]}),i.set(s,fi({fromInstance:o},r))})}},fw=function(o,r){r===void 0&&(r={});var e=Wa(o,r);ic(o,"classes",e,{opts:r}),e.forEach(function(t){t.set("classes",o.get("classes"),{fromInstance:o})}),o.__changesUp(r)},yy=function(o,r,e,t){var n=t||e||{},i=n.fromInstance,s=n.fromUndo,c={fromInstance:i,fromUndo:s},u=r.opt.temporary;if(t)if(t.add){var _=[],w=!!ki(o),h=Wa(o,fi(fi({},c),{changed:"components:add"}));if(h.length){var x=Za(r);_=ki(x||r)||[],_=my([],_,!0),_.push(x||r)}!u&&ic(o,"add",h,{opts:t,addedInstances:_.map(function(pe){return pe.cid}),added:r.cid}),h.forEach(function(pe){var K=Um(pe),he=_.filter(function(L){var z=Um(L,{prev:1});return K&&z&&z===K})[0],B=he||r.clone({symbol:!0,symbolInv:w});pe.append(B,fi({fromInstance:o},t))})}else{var E=Za(r);if(E&&!t.temporary&&E.set(pi,ki(E).filter(function(Te){return Te!==r})),!Ya(r)&&!t.skipRefsUp){var F="components:remove",U=t.index,R=r.parent(),W=fi({fromInstance:r},t),de=Ya(r),Ae=function(pe){var K=pe.parent();K&&!qs(K,F)&&pe.remove(W)},h=qs(R,F)?[]:Wa(r,c);de&&(h=R&&Wa(R,fi(fi({},c),{changed:F})),Ae=function(pe){var K=pe.components().at(U);K&&K.remove(fi({fromInstance:R},W))}),!u&&ic(o,"remove",h,{opts:t,removed:r.cid,isSymbNested:de}),h.forEach(Ae)}}else{var d=r,h=Wa(o,fi(fi({},c),{changed:"components:reset"})),v=d.models,m=new Set;ic(o,"reset",h,{components:v}),h.forEach(function(Te){var pe=Te.components(),K=v.map(function(he,B){return!Ks(he)||m.has(he)?(m.add(he),he.clone({symbol:!0})):pe.at(B)});pe.reset(K,fi({fromInstance:o},e))})}o.__changesUp(n)},pw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mi=function(){return Mi=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Mi.apply(this,arguments)},Bu=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},Wm=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Ns=function(o,r){if(r===void 0&&(r=[]),!o)return[];var e=(0,M.isArray)(o)||(0,M.isFunction)(o.map)?o:[o];return e.map(function(t){r.push(t.getId()),Ns(t.components().models,r)}),r},_y=function(o,r,e){r===void 0&&(r={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var t=e.visitedCmps,n=(0,M.isArray)(o)?o:[o];return n.map(function(i){var s=i.attributes,c=s===void 0?{}:s,u=i.components,d=i.tagName,h=i.style,v=c.id,m=c.draggable,_=Bu(c,["id","draggable"]),w=i;if(v){if(t[v])t[v].push(w),v=Mr.getNewId(r),w.attributes.id=v;else if(t[v]=[],r[v]){w=r[v];var x=w;d&&x.set({tagName:d},Mi(Mi({},e),{silent:!0})),(0,M.keys)(_).length&&x.addAttributes(_,Mi({},e)),(0,M.keys)(h).length&&x.addStyle(h,e)}}if(u){var E=_y(u,r);if((0,M.isFunction)(w.components)){var F=w.components();F.length>0&&F.reset(E,e)}else w.components=E}return w})},hw=function(o){pw(r,o);function r(e,t){var n=o.call(this,e,t)||this;n.opt=t,n.listenTo(n,"add",n.onAdd),n.listenTo(n,"remove",n.removeChildren),n.listenTo(n,"reset",n.resetChildren);var i=t.em,s=t.config;return n.config=s,n.em=i,n.domc=t.domc||i?.Components,n}return Object.defineProperty(r.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),r.prototype.resetChildren=function(e,t){var n=this;t===void 0&&(t={});var i=this,s=t.previousModels||[],c=s.filter(function(h){return!e.get(h.cid)}),u=Ns(e),d=Ns(s).filter(function(h){return u.indexOf(h)>=0});t.keepIds=(t.keepIds||[]).concat(d),c.forEach(function(h){return n.removeChildren(h,i,t)}),e.each(function(h){return n.onAdd(h)})},r.prototype.resetFromString=function(e,t){var n,i;e===void 0&&(e=""),t===void 0&&(t={}),t.keepIds=Ns(this);var s=this,c=s.domc,u=s.em,d=s.parent,h=u?.Css,v=c?.allById()||{},m=this.parseString(e,t),_=_y(m,v,t),w=t.visitedCmps,x=w===void 0?{}:w;Object.keys(x).forEach(function(E){var F=x[E];if(F.length){var U=h?.getRules("#".concat(E))||[];U.length&&F.forEach(function(R){U.forEach(function(W){var de=W.clone();de.set("selectors",["#".concat(R.attributes.id)]),h.getAll().add(de)})})}}),this.reset(_,t),u?.trigger("component:content",d,t,e),(i=(n=d).__checkInnerChilds)===null||i===void 0||i.call(n)},r.prototype.removeChildren=function(e,t,n){var i=this;if(n===void 0&&(n={}),!!e){var s=this,c=s.domc,u=s.em,d=n.temporary||n.fromUndo;if(e.prevColl=this,!d){var h=e.getId(),v=u.Selectors.getAll(),m=u.Css.getAll(),_=(n.keepIds||[]).indexOf(h)<0,w=c?c.allById():{};delete w[h];var x=_?m.remove(m.filter(function(U){return U.getSelectors().getFullString()==="#".concat(h)}),n):[];v.remove(x.map(function(U){return U.getSelectors().at(0)})),e.opt.temporary||(u.Commands.run("core:component-style-clear",{target:e}),e.removed(),e.trigger("removed"),u.trigger(Dr.I.remove,e),c&&Gu(e)&&Ya(e)&&c.symbols.__trgEvent(c.events.symbolInstanceRemove,{component:e},!0));var E=e.components();E.forEach(function(U){yy(U,U,E,Mi(Mi({},n),{skipRefsUp:!0})),i.removeChildren(U,t,n)})}var F=e.components();u.stopListening(F),u.stopListening(e),u.stopListening(e.get("classes")),e.__postRemove()}},r.prototype.model=function(e,t){var n=t.collection.opt,i=n.em,s,c=i.Components.componentTypes;t.em=i,t.config=n.config,t.componentTypes=c,t.domc=n.domc;for(var u=0;u<c.length;u++){var d=c[u].id;if(d==e.type){s=c[u].model;break}}return s||(s=c[c.length-1].model,i&&e.type&&i.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new s(e,t)},r.prototype.parseString=function(e,t){t===void 0&&(t={});var n=this,i=n.em,s=n.domc,c=n.parent,u=t.asDocument&&c?.is("wrapper"),d=i.Css,h=i.Parser.parseHtml(e,Mi({asDocument:u},t.parserOptions)),v=h.html;if(u){var m=c,_=h.html||{},w=_.components,x=Bu(_,["components"]),E=h.head||{},F=E.components,U=Bu(E,["components"]);v=w,m.set(x,t),m.head.set(U,t),m.head.components(F,t),m.docEl.set(h.root,t),m.set({doctype:h.doctype})}if(Mr.checkId(v,h.css,s.componentsById,t),h.css&&d&&!t.temporary){var R=t.at,W=Bu(t,["at"]);d.addCollection(h.css,Mi(Mi({},W),{extend:1}))}return v},r.prototype.add=function(e,t){var n=this;if(t===void 0&&(t={}),e!=null){t.keepIds=Wm(Wm([],t.keepIds||[],!0),Ns(t.previousModels),!0),(0,M.isString)(e)?e=this.parseString(e,t):(0,M.isArray)(e)&&e.forEach(function(s,c){if((0,M.isString)(s)){var u=n.parseString(s,t);e[c]=(0,M.isArray)(u)&&!u.length?null:u}});var i=((0,M.isArray)(e)?e:[e]).filter(Boolean).map(function(s){return n.processDef(s)});return e=(0,M.isArray)(e)?(0,M.flatten)(i,1):i[0],o.prototype.add.call(this,e,t)}},r.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var t=this,n=t.em,i=t.config,s=i===void 0?{}:i,c=s.processor,u=e;if(c){u=Mi({},u);var d=c(u);d&&((0,M.each)(u,function(E,F){return delete u[F]}),(0,M.extend)(u,d))}if(u.$$typeof&&typeof u.props=="object"){u=Mi({},u),u.props=Mi({},u.props);var h=n.Components,v=n.Parser,m=v.parserHtml;(0,M.each)(u,function(E,F){(0,M.includes)(["props","type"],F)||delete u[F]});var _=u.props,w=_.children;delete _.children,delete u.props;var x=m.splitPropsFromAttr(_);u.attributes=x.attrs,w&&(u.components=w),u.type?h.getType(u.type)||(u.tagName=u.type,delete u.type):u.type="textnode",(0,M.extend)(u,x.props)}return u},r.prototype.onAdd=function(e,t,n){n===void 0&&(n={});var i=this,s=i.domc,c=i.em,u=e.getStyle(),d=c&&c.getConfig().avoidInlineStyle;if(s&&s.Component.ensureInList(e),!(0,M.isEmpty)(u)&&!d&&c&&c.getConfig().forceClass&&!n.temporary){var h=e.cid;c.Css.setClassRule(h,u),e.setStyle({}),e.addClass(h)}if(e.__postAdd({recursive:!0}),c&&!n.temporary){var v=function(m){c.trigger(Dr.I.add,m,n),m.components().forEach(function(_){return v(_)})};v(e),s&&Gu(e)&&Ya(e)&&s.symbols.__trgEvent(s.events.symbolInstanceAdd,{component:e},!0)}},r}(tt.pM),hc=hw,gw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mu=1,pp=2,by=function(o){gw(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,i=t.config,s=i===void 0?{}:i,c=n.get("name"),u=n.get("label");c?u||n.set("label",c):n.set("name",u);var d=n.get("name"),h=s.escapeName,v=h?h(d):r.escapeName(d);return n.set("name",v),n.em=t.em,n}return r.prototype.defaults=function(){return{name:"",label:"",type:Mu,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return this.get("type")===pp},r.prototype.isClass=function(){return this.get("type")===Mu},r.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.escape,n=this.get("name"),i="";switch(this.get("type")){case Mu:i=".";break;case pp:i="#";break}return i+(t?t(n):n)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getName=function(){return this.get("name")||""},r.prototype.getLabel=function(){return this.get("label")||""},r.prototype.setLabel=function(e){return this.set("label",e)},r.prototype.getActive=function(){return!!this.get("active")},r.prototype.setActive=function(e){return this.set("active",e)},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=this.em,n=tt.Kx.prototype.toJSON.call(this,[e]),i=(0,M.result)(this,"defaults");if(t?.getConfig().avoidDefaults){(0,M.forEach)(i,function(c,u){n[u]===c&&delete n[u]}),n.label===n.name&&delete n.label;var s=(0,M.keys)(n).length;s===1&&n.name&&(n=n.name),s===2&&n.name&&n.type&&(n=this.getFullName())}return n},r.escapeName=function(e){return"".concat(e).trim().replace(/\s+/g,"-")},r.TYPE_CLASS=Mu,r.TYPE_ID=pp,r}(tt.Kx),Yr=by;by.prototype.idAttribute="name";var vw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wy=function(o,r){return o.reduce(function(e,t,n){return e.concat(wy(o.slice(n+1),"".concat(r).concat(t)))},[r])},Cy=function(o){vw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||Yr.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,M.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},r.prototype.getValid=function(e){var t=e===void 0?{}:e,n=t.noDisabled;return(0,M.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return n?i.get("active"):1})},r.prototype.getFullString=function(e,t){t===void 0&&(t={});var n=[],i=e||this;return i.forEach(function(s){return n.push(s.getFullName(t))}),t.sort&&n.sort(),n.join("").trim()},r.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.combination,n=e.array,i=[],s=this.map(function(c){return c.getFullName(e)}).sort();return t?s.forEach(function(c,u){i=i.concat(wy(s.slice(u+1),c))}):i=s,n?i:t?i.join(","):i.join("")},r}(tt.pM),ca=Cy;Cy.prototype.model=Yr;var mw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gm=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},yw=function(o){mw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r.prototype.getId=function(){return this.get("id")},r.prototype.getLabel=function(){return this.get("label")},r}(tt.Kx),mc=yw;function xy(o){var r=new Set,e=new Map,t={items:[]};o.forEach(function(i){var s=i.category;if(s){r.add(s);var c=e.get(s);c?c.push(i):e.set(s,[i])}else t.items.push(i)});var n=Array.from(r).map(function(i){return{category:i,items:e.get(i)||[]}});return Gm(Gm([],n,!0),[t],!1)}var _w=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ym="category",Ay=function(o){_w(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initCategory=function(e){var t=e.get(Ym),n=t instanceof mc;if(t&&!n){(0,M.isString)(t)?t={id:t,label:t}:(0,Le.isObject)(t)&&!t.id&&(t.id=t.label);var i=this.getCategories().add(t);return e.set(Ym,i,{silent:!0}),i}else if(n){var i=t;return this.getCategories().add(i),i}},r}(tt.pM),bw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sy=function(o){bw(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,i=t.events,s=t.em,c=i?.update;return s&&c&&n.on("change",function(u,d){return s.trigger(c,{category:u,changes:u.changedAttributes(),options:d})}),n}return r.prototype.add=function(e,t){var n=(0,M.isArray)(e)?e:[e];return n.forEach(function(i){return i&&(i.id=(0,Le.normalizeKey)("".concat(i.id)))}),o.prototype.add.call(this,e,t)},r.prototype.get=function(e){return o.prototype.get.call(this,(0,M.isString)(e)?(0,Le.normalizeKey)(e):e)},r}(tt.pM),Yu=Sy;Sy.prototype.model=mc;var ph=function(o){return o.select="trait:select",o.value="trait:value",o.categoryUpdate="trait:category:update",o.custom="trait:custom",o.all="trait",o}(ph||{}),Zp=ph,ww=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Zu=function(){return Zu=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Zu.apply(this,arguments)},Cw=function(o){ww(r,o);function r(e,t){var n=o.call(this,e)||this,i=n.attributes,s=i.target,c=i.name;return!n.get("id")&&n.set("id",c),s&&n.setTarget(s),n.em=t,n}return r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){var e=this.get("category");return e instanceof mc?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),r.prototype.setTarget=function(e){if(e){var t=this.attributes,n=t.name,i=t.changeProp,s=t.value,c=t.getValue;this.target=e,this.unset("target");var u=i?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(e,u,this.targetUpdated);var d=s||(c?void 0:this.getValue());!(0,M.isUndefined)(d)&&this.set({value:d},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(e){var t;e===void 0&&(e={});var n=e.locale,i=n===void 0?!0:n,s=this.getId(),c=this.get("label")||this.getName();return i&&((t=this.em)===null||t===void 0?void 0:t.t("traitManager.traits.labels.".concat(s)))||c},r.prototype.getValue=function(e){return this.getTargetValue(e)},r.prototype.setValue=function(e,t){var n=this;t===void 0&&(t={});var i=this,s=i.component,c=i.em,u=t.partial,d={},h=this.attributes.setValue;if(h){h({value:e,component:s,editor:c?.getEditor(),trait:this,partial:!!u,options:t,emitUpdate:function(){return n.targetUpdated()}});return}u&&(d.avoidStore=!0),this.setTargetValue(e,d)},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(e){var t=this,n=(0,Le.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(i){return t.getOptionId(i)===n})[0]},r.prototype.getOptionId=function(e){return e.id||e.value},r.prototype.getOptionLabel=function(e,t){var n;t===void 0&&(t={});var i=t.locale,s=i===void 0?!0:i,c=(0,M.isString)(e)?this.getOption(e):e,u=this.getOptionId(c),d=c.label||c.name||u,h=this.getName();return s&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(h,".").concat(u)))||d},r.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.category,s=e.locale,c=s===void 0?!0:s,u=i?.getId(),d=i?.getLabel();return c&&n?.t("traitManager.categories.".concat(u))||d||""},r.prototype.runCommand=function(){var e=this.em,t=this.attributes.command;if(t&&e)return(0,M.isString)(t)?e.Commands.run(t):t(e.Editor,this)},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var e=this,t=e.component,n=e.em,i=this.getTargetValue({useType:!0});this.set({value:i},{fromTarget:1});var s={trait:this,component:t,value:i};t.trigger(Zp.value,s),n?.trigger(Zp.value,s),n?.trigger("trait:update",s)},r.prototype.getTargetValue=function(e){e===void 0&&(e={});var t=this,n=t.component,i=t.em,s=this.getName(),c=this.get("getValue"),u;if(c?u=c({editor:i?.getEditor(),trait:this,component:n}):this.changeProp?u=n.get(s):u=n.getAttributes()[s],e.useType){var d=this.getType();if(d==="checkbox"){var h=this.attributes,v=h.valueTrue,m=h.valueFalse;!(0,M.isUndefined)(v)&&v===u?u=!0:!(0,M.isUndefined)(m)&&m===u&&(u=!1)}}return(0,M.isUndefined)(u)?"":u},r.prototype.setTargetValue=function(e,t){var n;t===void 0&&(t={});var i=this,s=i.component,c=i.attributes,u=this.getName();if(!(0,M.isUndefined)(e)){var d=e;if(e==="false"?d=!1:e==="true"&&(d=!0),this.getType()==="checkbox"){var h=c.valueTrue,v=c.valueFalse;d&&!(0,M.isUndefined)(h)&&(d=h),!d&&!(0,M.isUndefined)(v)&&(d=v)}var m=(n={},n[u]=d,n);m.__p=t.avoidStore?null:void 0,this.changeProp?s.set(m,t):s.addAttributes(m,t)}},r.prototype.setValueFromInput=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n={});var i={value:e};this.set(i,Zu(Zu({},n),{avoidStore:1})),t&&(this.set("value","",n),this.set(i,n))},r.prototype.getInitValue=function(){var e=this.component,t=this.getName(),n;if(e){var i=e.get("attributes");n=this.changeProp?e.get(t):i[t]}return n||this.get("value")||this.get("default")},r}(tt.Kx),Ku=Cw,xw=function(){function o(r){r===void 0&&(r={}),this.config=r}return o.prototype.build=function(r,e){return(0,M.isString)(r)?this.buildFromString(r,e):new Ku(r,e)},o.prototype.buildFromString=function(r,e){var t={name:r,type:"text"};switch(r){case"target":t.type="select",t.default=!1,t.options=this.config.optionsTarget;break}return new Ku(t,e)},o}(),Aw=xw,Sw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ew=function(o){Sw(r,o);function r(e,t){var n=o.call(this,e)||this;n.categories=new Yu;var i=t.em;n.em=i,n.categories=new Yu([],{em:i,events:{update:Zp.categoryUpdate}}),n.on("add",n.handleAdd),n.on("reset",n.handleReset);var s=n.module,c=s?.getConfig();return n.tf=new Aw(c),n}return Object.defineProperty(r.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),r.prototype.getCategories=function(){return this.categories},r.prototype.handleReset=function(e,t){var n=t===void 0?{}:t,i=n.previousModels,s=i===void 0?[]:i;s.forEach(function(c){return c.trigger("remove")})},r.prototype.handleAdd=function(e){e.em=this.em;var t=this.target;t&&(e.target=t),this.initCategory(e)},r.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(t){return t.setTarget(e)})},r.prototype.add=function(e,t){if(e!=null){var n=this,i=n.target,s=n.em;if((0,M.isArray)(e)){for(var c=[],u=0,d=e.length;u<d;u++){var h=e[u];c[u]=h instanceof Ku?h:this.tf.build(h,s),c[u].setTarget(i)}return o.prototype.add.call(this,c,t)}var v=e instanceof Ku?e:this.tf.build(e,s);return v.setTarget(i),o.prototype.add.call(this,v,t)}},r}(Ay),qu=Ew,Tw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cn=function(){return cn=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},cn.apply(this,arguments)},Ow=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},io=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Zm=function(o){return o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},ec=function(o){return!!o?.getConfig().avoidInlineStyle},hh="component:drag",pi="__symbols",Ui="__symbol",oc="__symbol_ovrd",ju=Dr.I.update,Kp=Dr.I.updateInside,Dw=function(o){Tw(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;(0,M.bindAll)(n,"__upSymbProps","__upSymbCls","__upSymbComps");var i=t.em,s=n.parent(),c=s?.attributes,u=n.get("propagate");if(u&&n.set("propagate",(0,M.isArray)(u)?u:[u]),c&&c.propagate&&!u){var d={},h=c.propagate;h.forEach(function(x){return d[x]=s.get(x)}),d.propagate=h,n.set(cn(cn({},d),e))}if(t&&t.config&&t.config.voidElements.indexOf(n.get("tagName"))>=0&&n.set("void",!0),t.em=i,n.opt=t,n.em=i,n.frame=t.frame,n.config=t.config||{},n.set("attributes",cn(cn({},(0,M.result)(n,"defaults").attributes||{}),n.get("attributes")||{})),n.ccid=r.createId(n,t),n.initClasses(),n.initComponents(),n.initTraits(),n.initToolbar(),n.initScriptProps(),n.listenTo(n,"change:script",n.scriptUpdated),n.listenTo(n,"change:tagName",n.tagUpdated),n.listenTo(n,"change:attributes",n.attrUpdated),n.listenTo(n,"change:attributes:id",n._idUpdated),n.on("change:toolbar",n.__emitUpdateTlb),n.on("change",n.__onChange),n.on(Kp,n.__propToParent),n.set("status",""),n.views=[],["classes","traits","components"].forEach(function(x){var E="add remove ".concat(x!=="components"?"change":"");n.listenTo(n.get(x),E.trim(),function(){for(var F=[],U=0;U<arguments.length;U++)F[U]=arguments[U];return n.emitUpdate.apply(n,io([x],F,!1))})}),!t.temporary){var v=i&&i.Css,m=n.attributes,_=m.styles,w=m.type;_&&v&&v.addCollection(_,{avoidUpdateStyle:!0},{group:"cmp:".concat(w)}),n.__postAdd(),n.init(),Ks(n)&&$l(n),i?.trigger(Dr.I.create,n,t)}return n}return Object.defineProperty(r.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[Ui]=0,e[pi]=0,e[oc]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.updated=function(e,t,n){},r.prototype.removed=function(){},r.prototype.__postAdd=function(e){e===void 0&&(e={});var t=this.em,n=t?.UndoManager,i=this.components();n&&!this.__hasUm&&(n.add(i),n.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&i.map(function(s){return s.__postAdd(e)})},r.prototype.__postRemove=function(){var e=this.em,t=e?.UndoManager;t&&(t.remove(this.components()),t.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(e,t){var n=this,i=this.changedAttributes()||{};(0,M.keys)(i).forEach(function(s){return n.emitUpdate(s)}),["status","open","toolbar","traits"].forEach(function(s){return delete i[s]}),(0,Le.isEmptyObj)(i)||(this.__changesUp(t),this.__propSelfToParent({component:this,changed:i,options:t}))},r.prototype.__onStyleChange=function(e){var t=this,n=this.em;if(n){var i="component:styleUpdate",s=(0,M.keys)(e),c={style:e};n.trigger(i,this,c),s.forEach(function(u){return n.trigger("".concat(i,":").concat(u),t,c)})}},r.prototype.__changesUp=function(e){var t=this,n=t.em,i=t.frame;[i,n].forEach(function(s){return s&&s.changesUp(e)})},r.prototype.__propSelfToParent=function(e){this.trigger(ju,e),this.__propToParent(e)},r.prototype.__propToParent=function(e){var t=this.parent();t&&t.trigger(Kp,e)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},r.prototype.__upSymbProps=function(e,t){t===void 0&&(t={}),dw(this,t)},r.prototype.__upSymbCls=function(e,t,n){n===void 0&&(n={}),fw(this,n)},r.prototype.__upSymbComps=function(e,t,n){yy(this,e,t,n)},r.prototype.is=function(e){return this.get("type")==e},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},r.prototype.setDragMode=function(e){return this.set("dmode",e)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.setSymbolOverride=function(e){var t;this.set(oc,(t=(0,M.isString)(e)?[e]:e)!==null&&t!==void 0?t:0)},r.prototype.getSymbolOverride=function(){return this.get(oc)},r.prototype.find=function(e){var t,n=[],i=(t=this.view)===null||t===void 0?void 0:t.$el.find(e);return i?.each(function(s){var c=i.eq(s),u=c.data("model");u&&n.push(u)}),n},r.prototype.findType=function(e){var t=[],n=function(i){return i.forEach(function(s){s.is(e)&&t.push(s),n(s.components())})};return n(this.components()),t},r.prototype.findFirstType=function(e){return this.findType(e).at(0)},r.prototype.closest=function(e){var t,n=(t=this.view)===null||t===void 0?void 0:t.$el.closest(e);return n?.length?n.data("model"):void 0},r.prototype.closestType=function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},r.prototype.contains=function(e){var t=!1;if(!e)return t;var n=function(i){!t&&i.forEach(function(s){s===e&&(t=!0),!t&&n(s.components())})};return n(this.components()),t},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(e,t){t===void 0&&(t={});var n=this.collection,i=n.indexOf(this);n.remove(this);var s=n.add(e,cn(cn({},t),{at:i}));return(0,M.isArray)(s)?s:[s]},r.prototype.attrUpdated=function(e,t,n){var i=this;n===void 0&&(n={});var s=this.get("attributes"),c=s.class;c&&this.setClass(c),delete s.class;var u=s.style;u&&this.setStyle(u,n),delete s.style;var d=cn({},this.previous("attributes")),h=(0,Le.shallowDiff)(d,this.get("attributes"));(0,M.keys)(h).forEach(function(v){var m,_="attributes:".concat(v);i.trigger("change:".concat(_),i,h[v],n),(m=i.em)===null||m===void 0||m.trigger("".concat(ju,":").concat(_),i,h[v],n)})},r.prototype.setAttributes=function(e,t){return t===void 0&&(t={}),this.set("attributes",cn({},e),t),this},r.prototype.addAttributes=function(e,t){return t===void 0&&(t={}),this.setAttributes(cn(cn({},this.getAttributes({noClass:!0})),e),t)},r.prototype.removeAttributes=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=Array.isArray(e)?e:[e],i=this.getAttributes();return n.map(function(s){return delete i[s]}),this.setAttributes(i,t)},r.prototype.getStyle=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=this.em,i=(0,M.isString)(e)?e:"",s=i?t:e;if(ec(n)&&!s.inline){var c=n.get("state"),u=n.Css,d=u.getIdRule(this.getId(),cn({state:c},s));return this.rule=d,d?d.getStyle(i):{}}return o.prototype.getStyle.call(this,i)},r.prototype.setStyle=function(e,t){var n=this;e===void 0&&(e={}),t===void 0&&(t={});var i=this,s=i.opt,c=i.em;if(ec(c)&&!s.temporary&&!t.inline){var u=this.get("style")||{};e=(0,M.isString)(e)?this.parseStyle(e):e,e=cn(cn({},e),u);var d=c.get("state"),h=c.Css,v=this.getStyle(t);this.rule=h.setIdRule(this.getId(),e,cn({state:d},t));var m=(0,Le.shallowDiff)(v,e);this.set("style","",{silent:!0}),(0,M.keys)(m).forEach(function(_){return n.trigger("change:style:".concat(_))})}else e=o.prototype.setStyle.apply(this,arguments);return s.temporary||this.__onStyleChange(t.addStyle||e),e},r.prototype.getAttributes=function(e){e===void 0&&(e={});var t=this.em,n=[],i=cn({},this.get("attributes")),s=t?.Selectors,c=this.getId();if(e.noClass?delete i.class:(this.classes.forEach(function(h){return n.push((0,M.isString)(h)?h:h.getName())}),n.length&&(i.class=n.join(" "))),!e.noStyle){var u=this.getStyle({inline:!0});(0,Le.isObject)(u)&&!(0,Le.isEmptyObj)(u)&&(i.style=this.styleToString({inline:!0}))}if(!(0,M.has)(i,"id")){var d=!1;(ec(t)||!(0,M.isEmpty)(this.getStyle()))&&(d=!!s?.get(c,s.Selector.TYPE_ID)),(Ks(this)||this.get("script-export")||this.get("script"))&&(d=!0),d&&(i.id=c)}return i},r.prototype.addClass=function(e){var t=this.em.Selectors.addClass(e);return this.classes.add(t)},r.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},r.prototype.removeClass=function(e){var t=[];e=(0,M.isArray)(e)?e:[e];var n=this.classes,i=Yr.TYPE_CLASS;return e.forEach(function(s){var c=s.split(" ");c.forEach(function(u){var d=n.where({name:u,type:i})[0];d&&t.push(n.remove(d))})}),t},r.prototype.getClasses=function(){var e=this.getAttributes(),t=e.class;return t?t.split(" "):[]},r.prototype.initClasses=function(e,t,n){n===void 0&&(n={});var i="change:classes",s=this.get("attributes")||{},c=s.class,u=Ow(s,["class"]),d=[this,i,this.initClasses],h=this.get("classes")||c||[],v=(0,M.isString)(h)?h.split(" "):h;this.stopListening.apply(this,d);var m=this.normalizeClasses(v),_=new ca([]);return this.set("classes",_,n),_.add(m),_.on("add remove reset",this.__upSymbCls),c&&m.length&&this.set("attributes",u),this.listenTo.apply(this,d),this},r.prototype.initComponents=function(){var e="change:components",t=[this,e,this.initComponents];this.stopListening.apply(this,t);var n=new hc([],this.opt);n.parent=this;var i=this.get("components"),s=!this.opt.avoidChildren;return this.set("components",n),s&&i&&n.add((0,M.isFunction)(i)?i(this):i,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},r.prototype.initTraits=function(e){var t=this.em,n="change:traits";this.off(n,this.initTraits),this.__loadTraits();var i=cn({},this.get("attributes")),s=this.traits;return s.each(function(c){if(!c.changeProp){var u=c.getName(),d=c.getInitValue();u&&d&&(i[u]=d)}}),s.length&&this.set("attributes",i),this.on(n,this.initTraits),e&&t&&t.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",t=["change:".concat(e),this.initScriptProps];this.off.apply(this,t);var n=this.previous(e)||[],i=this.get(e)||[],s=n.map(function(u){return"change:".concat(u)}).join(" "),c=i.map(function(u){return"change:".concat(u)}).join(" ");s&&this.off(s,this.__scriptPropsChange),c&&this.on(c,this.__scriptPropsChange),this.on.apply(this,t)}},r.prototype.__scriptPropsChange=function(e,t,n){n===void 0&&(n={}),!n.avoidStore&&this.trigger("rerender")},r.prototype.append=function(e,t){t===void 0&&(t={});var n=(0,M.isArray)(e)?io([],e,!0):[e],i=n.map(function(c){return(0,M.isString)(c)||c.collection&&c.collection.remove(c,{temporary:!0}),c}),s=this.components().add(i,cn({action:Dr.t.add},t));return(0,M.isArray)(s)?s:[s]},r.prototype.components=function(e,t){t===void 0&&(t={});var n=this.get("components");return(0,M.isUndefined)(e)?n:(n.reset(void 0,t),e?this.append(e,t):[])},r.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},r.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},r.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},r.prototype.parent=function(e){e===void 0&&(e={});var t=this.collection||e.prev&&this.prevColl;return t?t.parent:void 0},r.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var e=this.em,t=this,n=e&&e.getConfig().stylePrefix||"";if(!t.get("toolbar")&&e){var i=[];t.collection&&i.push({label:e.getIcon("arrowUp"),command:function(s){return s.runCommand("core:component-exit",{force:1})}}),t.get("draggable")&&i.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),t.get("copyable")&&i.push({label:e.getIcon("copy"),command:"tlb-clone"}),t.get("removable")&&i.push({label:e.getIcon("delete"),command:"tlb-delete"}),t.set("toolbar",i)}},r.prototype.__loadTraits=function(e,t){t===void 0&&(t={});var n=e||this.traits;if(!(n instanceof qu)){n=(0,M.isFunction)(n)?n(this):n;var i=new qu([],this.opt);i.setTarget(this),n.length&&(n.forEach(function(s){return s.attributes&&delete s.attributes.value}),i.add(n)),this.set({traits:i},t)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),io([],this.traits.models,!0)},r.prototype.setTraits=function(e){var t=(0,M.isArray)(e)?e:[e];return this.set({traits:t}),this.getTraits()},r.prototype.getTrait=function(e){return this.getTraits().filter(function(t){return t.get("id")===e||t.get("name")===e})[0]||null},r.prototype.updateTrait=function(e,t){var n,i=this.getTrait(e);return i&&i.set(t),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(e){var t=this.getTrait(e);return t?this.traits.indexOf(t):-1},r.prototype.removeTrait=function(e){var t=this,n,i=(0,M.isArray)(e)?e:[e],s=i.map(function(d){return t.getTrait(d)}),c=this.traits,u=s.length?c.remove(s):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,M.isArray)(u)?u:[u]},r.prototype.addTrait=function(e,t){var n;t===void 0&&(t={}),this.__loadTraits();var i=this.traits.add(e,t);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,M.isArray)(i)?i:[i]},r.prototype.normalizeClasses=function(e){var t=[],n=this.em,i=n?.Selectors;return i?e.models?io([],e.models,!0):(e.forEach(function(s){return t.push(i.add(s))}),t):[]},r.prototype.clone=function(e){e===void 0&&(e={});var t=this.em,n=cn({},this.attributes),i=cn({},this.opt),s=this.getId(),c=t?.Css;n.attributes=cn({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],Ya(this)&&(e.symbol=!0),this.get("components").each(function(w,x){n.components[x]=w.clone(cn(cn({},e),{_inner:1}))}),this.get("traits").each(function(w,x){n.traits[x]=w.clone()}),this.get("classes").each(function(w,x){n.classes[x]=w.get("name")}),n.status="",i.collection=null;var u=new this.constructor(n,i),d="#".concat(u.getId()),h=c?c.getRules("#".concat(s)):[];h.forEach(function(w){var x=w.clone();x.set("selectors",[d]),c.getAll().add(x)}),u.set(pi,0);var v=Za(this),m=ki(this);!e.symbol&&(v||m)?(u.set(Ui,0),u.set(pi,0)):v?(v.set(pi,io(io([],ki(v),!0),[u],!1)),$l(u)):e.symbol&&(Wu(this)?(this.set(pi,io(io([],m,!0),[u],!1)),u.set(Ui,this),$l(u)):e.symbolInv?(this.set(pi,[u]),u.set(Ui,this),[this,u].map(function(w){return $l(w)})):(u.set(pi,[this]),[this,u].map(function(w){return $l(w)}),this.set(Ui,u)));var _="component:clone";return t&&t.trigger(_,u),this.trigger(_,u),u},r.prototype.getName=function(e){e===void 0&&(e={});var t=this.em,n=this.attributes,i=n.type,s=n.tagName,c=n.name,u=i||s,d=i?"":s,h="domComponents.names.",v=c&&t?.t("".concat(h).concat(c)),m=d&&t?.t("".concat(h).concat(d)),_=t&&(t.t("".concat(h).concat(i))||t.t("".concat(h).concat(s))),w=this.get("custom-name");return(e.noCustom?"":w)||v||c||m||(0,Le.capitalize)(d)||_||(0,Le.capitalize)(u)},r.prototype.setName=function(e,t){t===void 0&&(t={}),this.set("custom-name",e,t)},r.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},r.prototype.toHTML=function(e){e===void 0&&(e={});var t=this,n=[],i=e.tag,s=i||t.get("tagName"),c=t.get("void"),u=e.attributes,d=this.getAttrToHTML(e);if(delete e.tag,u&&((0,M.isFunction)(u)?d=u(t,d)||{}:(0,Le.isObject)(u)&&(d=u)),e.withProps){var h=this.toJSON();(0,M.forEach)(h,function(U,R){var W=["classes","attributes","components"];R[0]!=="_"&&W.indexOf(R)<0&&(d["data-gjs-".concat(R)]=(0,M.isArray)(U)||(0,Le.isObject)(U)?JSON.stringify(U):(0,M.isBoolean)(U)?"".concat(U):U)})}for(var v in d){var m=d[v];if(!(0,M.isUndefined)(m)&&m!==null)if((0,M.isBoolean)(m))m&&n.push(v);else{var _="";if(e.altQuoteAttr&&(0,M.isString)(m)&&m.indexOf('"')>=0)_="'".concat(m.replace(/'/g,"&apos;"),"'");else{var w=(0,M.isString)(m)?m.replace(/"/g,"&quot;"):m;_='"'.concat(w,'"')}n.push("".concat(v,"=").concat(_))}}var x=n.length?" ".concat(n.join(" ")):"",E=t.getInnerHTML(e),F="<".concat(s).concat(x).concat(c?"/":"",">").concat(E);return!c&&(F+="</".concat(s,">")),F},r.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},r.prototype.__innerHTML=function(e){e===void 0&&(e={});var t=this.components();return t.length?t.map(function(n){return n.toHTML(e)}).join(""):this.content},r.prototype.getAttrToHTML=function(e){var t=this.getAttributes();return ec(this.em)&&e?.keepInlineStyle!==!0&&delete t.style,t},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=zp.Model.prototype.toJSON.call(this,e);if(t.attributes=this.getAttributes(),delete t.attributes.class,delete t.toolbar,delete t.traits,delete t.status,delete t.open,delete t._undoexc,delete t.delegate,!e.fromUndo){var n=t[Ui],i=t[pi];i&&(0,M.isArray)(i)&&(t[pi]=i.filter(function(s){return s}).map(function(s){return s.getId?s.getId():s})),n&&!(0,M.isString)(n)&&(t[Ui]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(t),t},r.prototype.getChangedProps=function(e){var t=e||zp.Model.prototype.toJSON.apply(this),n=(0,M.result)(this,"defaults");return(0,M.forEach)(n,function(i,s){["type"].indexOf(s)===-1&&t[s]===i&&delete t[s]}),(0,M.isEmpty)(t.type)&&delete t.type,(0,M.forEach)(["attributes","style"],function(i){(0,M.isEmpty)(n[i])&&(0,M.isEmpty)(t[i])&&delete t[i]}),(0,M.forEach)(["classes","components"],function(i){(!t[i]||(0,M.isEmpty)(n[i])&&!t[i].length)&&delete t[i]}),t},r.prototype.getId=function(){var e=this.get("attributes")||{};return e.id||this.ccid||this.cid},r.prototype.setId=function(e,t){var n=cn({},this.get("attributes"));return n.id=e,this.set("attributes",n,t),this},r.prototype.getEl=function(e){var t=this.getView(e);return t&&t.el},r.prototype.getView=function(e){var t=this,n=t.view,i=t.views,s=t.em,c=e||s?.getCurrentFrameModel();return c&&(n=i.filter(function(u){return u.frameView===c.view})[0]),n},r.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),t=e?.model;return this.getView(t)},r.prototype.__getScriptProps=function(){var e=this.props(),t=this.get("script-props")||[];return t.reduce(function(n,i){return n[i]=e[i],n},{})},r.prototype.getScriptString=function(e){var t=this,n=e||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,M.isFunction)(n)){var i=n.toString().trim();i=i.slice(i.indexOf("{")+1,i.lastIndexOf("}")),n=i.trim()}var s=this.em.getConfig(),c=Zm(s.tagVarStart||"{[ "),u=Zm(s.tagVarEnd||" ]}"),d=new RegExp("".concat(c,"([\\w\\d-]*)").concat(u),"g");n=n.replace(d,function(h,v){t.scriptUpdated();var m=t.attributes[v]||"";return(0,M.isArray)(m)||typeof m=="object"?JSON.stringify(m):m})}return n},r.prototype.emitUpdate=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.em,c=ju+(e?":".concat(e):""),u=e&&this.get(e);e&&this.updated.apply(this,io([e,u,e&&this.previous(e)],n,!1)),this.trigger.apply(this,io([c],n,!1)),s&&s.trigger.apply(s,io([c,this],n,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(t={},t[e]=u,t),options:n[2]||n[1]||{}})},r.prototype.onAll=function(e){return(0,M.isFunction)(e)&&(e(this),this.components().forEach(function(t){return t.onAll(e)})),this},r.prototype.forEachChild=function(e){(0,M.isFunction)(e)&&this.components().forEach(function(t){e(t),t.forEachChild(e)})},r.prototype.remove=function(e){var t=this;e===void 0&&(e={});var n=this.em,i=this.collection,s=function(){i&&i.remove(t,cn({action:Dr.t.remove},e)),i||(t.components("",e),t.components().removeChildren(t,void 0,e))},c=cn({},e);return[this,n].map(function(u){return u.trigger(Dr.I.removeBefore,t,s,c)}),!c.abort&&s(),this},r.prototype.move=function(e,t){if(t===void 0&&(t={}),e){var n=t.at,i=this.index(),s=e===this.parent(),c=i===n||i===n-1;if(!s||!c){s&&n&&n>i&&(t.at=n-1);var u=Dr.t.move;this.remove({action:u,temporary:1}),e.append(this,cn({action:u},t)),this.emitUpdate()}}return this},r.prototype.isInstanceOf=function(e){var t,n,i=(n=(t=this.em)===null||t===void 0?void 0:t.Components.getType(e))===null||n===void 0?void 0:n.model;if(!i)return!1;var s=this.constructor.typeExtends;return this instanceof i||s.has(e)},r.prototype.isChildOf=function(e){for(var t=(0,M.isString)(e),n=this.parent();n;){if(t){if(n.isInstanceOf(e))return!0}else if(n===e)return!0;n=n.parent()}return!1},r.prototype.resetId=function(e){e===void 0&&(e={});var t=this.em,n=this.getId();if(!n)return this;var i=r.createId(this);this.setId(i);var s=t?.Css.getIdRule(n),c=s?.get("selectors").at(0);return c?.set("name",i),this},r.prototype._getStyleRule=function(e){var t=e===void 0?{}:e,n=t.id,i=this.em,s=n||this.getId();return i?.Css.getIdRule(s)},r.prototype._getStyleSelector=function(e){var t=this._getStyleRule(e);return t?.get("selectors").at(0)},r.prototype._idUpdated=function(e,t,n){if(n===void 0&&(n={}),!n.idUpdate){var i=this.ccid,s=(this.get("attributes")||{}).id,c=(this.previous("attributes")||{}).id||i,u=r.getList(this);if(u[s]||!s&&c)return this.setId(c,{idUpdate:!0});delete u[c],u[s]=this,this.ccid=s;var d=this._getStyleSelector({id:c});d&&d.set({name:s,label:s})}},r.getDefaults=function(){return(0,M.result)(this.prototype,"defaults")},r.isComponent=function(e,t){return{tagName:(0,Le.toLowerCase)(e.tagName)}},r.ensureInList=function(e){var t=r.getList(e),n=e.getId(),i=t[n];if(!i)t[n]=e;else if(i!==e){var s=r.getIncrementId(n,t);e.setId(s),t[s]=e}e.components().forEach(function(c){return r.ensureInList(c)})},r.createId=function(e,t){t===void 0&&(t={});var n=r.getList(e),i=t.idMap,s=i===void 0?{}:i,c=e.get("attributes").id,u;return c?(u=r.getIncrementId(c,n,t),e.setId(u),c!==u&&(s[c]=u)):u=r.getNewId(n),n[u]=e,u},r.getNewId=function(e){for(var t=Object.keys(e).length,n=t.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-n),s="i".concat(i);e[s];)s=r.getNewId(e);return s},r.getIncrementId=function(e,t,n){n===void 0&&(n={});var i=n.keepIds,s=i===void 0?[]:i,c=1,u=e;if(s.indexOf(e)<0)for(;t[u];)c++,u="".concat(e,"-").concat(c);return u},r.getList=function(e){var t,n=e.em,i=n?.Components;return(t=i?.componentsById)!==null&&t!==void 0?t:{}},r.checkId=function(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n={}),i===void 0&&(i={});var s=(0,M.isArray)(e)?e:[e],c=i.keepIds,u=c===void 0?[]:c,d=i.idMap,h=d===void 0?{}:d;s.forEach(function(v){v.attributes;var m=v.attributes,_=m===void 0?{}:m,w=v.components,x=_.id;if(x&&n[x]&&u.indexOf(x)<0){var E=r.getIncrementId(x,n);h[x]=E,_.id=E,(0,M.isArray)(t)&&t.forEach(function(F){var U=F.selectors;U.forEach(function(R,W){R==="#".concat(x)&&(U[W]="#".concat(E))})})}w&&r.checkId(w,t,n,i)})},r.typeExtends=new Set,r}(vy),Mr=Dw,Mw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$u=function(){return $u=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},$u.apply(this,arguments)},Ys="head",kw=["title","style","base","link","meta","script","noscript"],Pw=function(o){Mw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return $u($u({},o.prototype.defaults),{type:Ys,tagName:Ys,draggable:!1,highlightable:!1,droppable:function(e){var t=e.tagName;return!t||kw.includes((0,Le.toLowerCase)(t))}})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Ys},r}(Mr),Iw=Pw,qp=function(){return qp=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},qp.apply(this,arguments)},Lw=function(){function o(r,e){var t=this;this.em=r,this.canvas=r.Canvas;var n=e||this.canvas.getFrames().map(function(s){return s.getComponent().getEl()}),i=Array.isArray(n)?n:[n];this.el=i[0],this.counter=0,(0,M.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),i.forEach(function(s){return t.toggleEffects(s,!0)})}return o.prototype.toggleEffects=function(r,e){var t={on:ot.on,off:ot.AU},n=e?"on":"off";t[n](r,"dragenter",this.handleDragEnter),t[n](r,"dragover",this.handleDragOver),t[n](r,"drop",this.handleDrop),t[n](r,"dragleave",this.handleDragLeave)},o.prototype.__customTglEff=function(r){var e,t=r?ot.on:ot.AU,n=this.el.ownerDocument,i=(e=n.defaultView)===null||e===void 0?void 0:e.frameElement;this.sortOpts=r?{onStart:function(s){var c=s.sorter;(0,ot.on)(i,"pointermove",c.onMove)},onEnd:function(s){var c=s.sorter;(0,ot.AU)(i,"pointermove",c.onMove)},customTarget:function(s){var c=s.event;return n.elementFromPoint(c.clientX,c.clientY)}}:null,t(i,"pointerenter",this.handleDragEnter),t(i,"pointermove",this.handleDragOver),t(document,"pointerup",this.handleDrop),t(i,"pointerout",this.handleDragLeave)},o.prototype.startCustom=function(){this.__customTglEff(!0)},o.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},o.prototype.endDrop=function(r,e){var t=this,n=t.em,i=t.dragStop;this.counter=0,i&&i(r||!this.over),this.__customTglEff(!1),n.trigger("canvas:dragend",e)},o.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},o.prototype.updateCounter=function(r,e){this.counter+=r,this.counter===0&&this.endDrop(!0,e)},o.prototype.handleDragEnter=function(r){var e=this,t=this,n=t.em,i=t.canvas,s=r.dataTransfer,c=n.get("dragContent");if(!(!c&&!i.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var u=n.Utils,d=c||"<br>",h,v;if(n.stopDefault(),n.inAbsoluteMode()){var m=n.Components.getWrapper(),_=m.append({})[0],w=n.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:_,onEnd:function(E,F,U){var R=U.cancelled,W;if(!R){W=m.append(d)[0];var de=i.getOffset(),Ae=_.getStyle(),Te=Ae.top,pe=Ae.left,K=Ae.position,he=(0,ot.Xy)(E.target),B=parseInt("".concat(parseFloat(pe)+he.x-de.left),10),L=parseInt("".concat(parseFloat(Te)+he.y-de.top),10);W.addStyle({left:B+"px",top:L+"px",position:K})}e.handleDragEnd(W,s),_.remove()}});h=function(E){return w.stop(r,{cancel:E})},v=function(E){return d=E}}else{var x=new u.Sorter(qp({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:i.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(E){return e.handleDragEnd(E,s)},document:this.el.ownerDocument},this.sortOpts||{}));x.setDropContent(d),x.startSort(),this.sorter=x,h=function(E){E&&(x.moved=!1),x.endMove()},v=function(E){return x.setDropContent(E)}}this.dragStop=h,this.dragContent=v,n.trigger("canvas:dragenter",s,d)}},o.prototype.handleDragEnd=function(r,e){var t=this.em;this.over=!1,r&&(t.set("dragResult",r),t.trigger("canvas:drop",e,r)),t.runDefault({preserveSelected:1})},o.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},o.prototype.handleDrop=function(r){r.preventDefault();var e=this.dragContent,t=r.dataTransfer,n=this.getContentByData(t).content;n&&e&&e(n),this.endDrop(!n,r)},o.prototype.getContentByData=function(r){var e=this.em,t=r&&r.types,n=r&&r.files||[],i=e.get("dragContent"),s=r&&r.getData("text");if(n.length){s=[];for(var c=0;c<n.length;c++){var u=n[c],d=u.type.split("/")[0];d=="image"&&s.push({type:d,file:u,attributes:{alt:u.name}})}}else if(i)s=i;else if((0,M.indexOf)(t,"text/html")>=0)s=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,M.indexOf)(t,"text/uri-list")>=0)s={type:"link",attributes:{href:s},content:s};else if((0,M.indexOf)(t,"text/json")>=0){var h=r&&r.getData("text/json");h&&(s=JSON.parse(h))}else t.length===1&&t[0]==="text/plain"&&(s="<div>".concat(s,"</div>"));var v={content:s};return e.trigger("canvas:dragdata",r,v),v},o}(),Vw=Lw,Rw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zi=function(){return zi=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},zi.apply(this,arguments)},Fw=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Nw=function(o){Rw(r,o);function r(e,t){var n=o.call(this,{model:e})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,M.bindAll)(n,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var i=n.el;n.module._config=zi(zi({},n.config||{}),{frameView:n}),n.frameWrapView=t,n.showGlobalTools=(0,M.debounce)(n.showGlobalTools.bind(n),50);var s=n.getCanvasModel();return n.listenTo(e,"change:head",n.updateHead),n.listenTo(s,"change:styles",n.renderStyles),e.view=n,(0,Le.setViewEl)(i,n),n}return Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var e=this,t=e.el,n=e.module,i=n.getCanvasView(),s=n.getCoords(),c=t.getBoundingClientRect(),u=i.getCanvasOffset(),d=i.getViewportDelta(),h=n.getZoomMultiplier(),v=(c.x-u.left-d.x-s.x)*h,m=(c.y-u.top-d.y-s.y)*h,_=c.width*h,w=c.height*h;return{x:v,y:m,width:_,height:w}},r.prototype.updateHead=function(){var e=this.model,t=this.getHead(),n=[],i=[],s=e.head,c=e.previous("head"),u=function(h){return h===void 0&&(h={}),Object.keys(h).sort().map(function(v){return"[".concat(v,'="').concat(h[v],'"]')}).join("")},d=function(h,v,m){h.forEach(function(_){var w=_.tag,x=_.attributes,E=v.some(function(F){return F.tag===w&&u(F.attributes)===u(x)});!E&&m.push(_)})};d(s,c,i),d(c,s,n),n.forEach(function(h){var v,m=t.querySelector("".concat(h.tag).concat(u(h.attributes)));(v=m?.parentNode)===null||v===void 0||v.removeChild(m)}),(0,ot.af)(t,i)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){var e;return(e=this===null||this===void 0?void 0:this.em.Canvas)===null||e===void 0?void 0:e.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ot.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var e=this.el,t=this.getBody(),n=t.scrollTop,i=t.scrollLeft,s=e.offsetHeight,c=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:s,width:c,scrollTop:n,scrollLeft:i,scrollBottom:n+s,scrollRight:i+c}},r.prototype._getTool=function(e){var t=this.tools,n=this.getToolsEl();return t[e]||(t[e]=n.querySelector(e)),t[e]},r.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),Gi.prototype.remove.apply(this,t),this},r.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)},0)},r.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,t=this.em.Canvas,n=this.getWindow(),i=n.pageYOffset,s=e||0,c=t.getConfig().autoscrollLimit,u=this.getRect().height-c,d=i;if(s<c&&(d-=c-s),s>u&&(d+=s-u),!(0,M.isUndefined)(e)&&d!==i&&d>0&&d<this.lastMaxHeight){var h=this.getGlobalToolsEl();h.style.opacity="0",this.showGlobalTools(),n.scrollTo(0,d),t.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},r.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,ot.G2)(e).clientY*this.em.getZoomDecimal()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},r.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var t=this.getWindow(),n=e?"on":"off",i={on:ot.on,off:ot.AU};i[n](t,"mousemove dragover",this.updateClientY),i[n](t,"mouseup",this.stopAutoscroll)},r.prototype.render=function(){var e=this,t=e.$el,n=e.ppfx,i=e.em;return t.attr({class:"".concat(n,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var e=this,t=this,n=t.el,i=t.model,s=t.em,c="frame:load",u={el:n,model:i,view:this},d=this.getCanvasModel(),h=function(v){var m;if(v.length>0){var _=v.shift(),w=(0,ot.a_)("script",zi({type:"text/javascript"},(0,M.isString)(_)?{src:_}:_));(m=n.contentDocument)===null||m===void 0||m.head.appendChild(w),w.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?h(v):w.onerror=w.onload=h.bind(null,v)}else s?.trigger(Hu.frameLoadHead,u),e.renderBody(),s?.trigger(Hu.frameLoadBody,u),s?.trigger(c,u)};n.onload=function(){var v=e.config.frameContent;if(v){var m=e.getDoc();m.open(),m.write(v),m.close()}u.window=e.getWindow(),s?.trigger("".concat(c,":before"),u),s?.trigger(Hu.frameLoad,u),e.renderHead(),h(Fw([],d.get("scripts"),!0))}},r.prototype.renderStyles=function(e){e===void 0&&(e={});var t=this.getHead(),n=this.getCanvasModel(),i=function(v){return v===void 0&&(v=[]),v.map(function(m){return{tag:"link",attributes:zi({rel:"stylesheet"},(0,M.isString)(m)?{href:m}:m)}})},s=i(e.prev||n.previous("styles")),c=i(n?.get("styles")),u=[],d=[],h=function(v,m,_){v.forEach(function(w){var x=w.attributes.href,E=m.some(function(F){return F.attributes.href===x});!E&&_.push(w)})};h(c,s,d),h(s,c,u),u.forEach(function(v){var m,_=t.querySelector('link[href="'.concat(v.attributes.href,'"]'));(m=_?.parentNode)===null||m===void 0||m.removeChild(_)}),(0,ot.af)(t,d)},r.prototype.renderHead=function(){var e,t=this,n=t.model,i=t.em,s=n.root,c=(e=i?.Components)===null||e===void 0?void 0:e.getType(Ys).view;c&&(this.headView=new c({el:this.getHead(),model:s.head,config:zi(zi({},s.config),{frameView:this})}).render())},r.prototype.renderBody=function(){var e=this,t,n,i,s=this,c=s.config,u=s.em,d=s.model,h=s.ppfx,v=this.getDoc(),m=this.getBody(),_=this.getWindow(),w=d.hasAutoHeight(),x=u.config;_._isEditor=!0,this.renderStyles({prev:[]});var E="#ffca6f";(0,ot.BC)(m,`<style>
      `.concat(x.baseCss||c.frameStyle||"",`

      `).concat(w?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(w?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(h,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(h,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(h,`selected-parent {
        outline: 2px solid `).concat(E,` !important
      }

      .`).concat(h,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(h,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(h,`no-pointer {
        pointer-events: none;
      }

      .`).concat(h,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(h,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(h,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(h,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(h,`is__grabbing,
      .`).concat(h,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(x.canvasCss||"",`
      `).concat(x.protectedCss||"",`
    </style>`));var F=d.root,U=(((t=u?.Components)===null||t===void 0?void 0:t.getType("wrapper"))||{}).view;U&&(this.wrapper=new U({model:F,config:zi(zi({},F.config),{em:u,frameView:this})}).render(),(0,ot.BC)(m,(n=this.wrapper)===null||n===void 0?void 0:n.el),(0,ot.BC)(m,new py({collection:d.getStyles(),config:zi(zi({},u.Css.getConfig()),{frameView:this})}).render().el),(0,ot.BC)(m,this.getJsContainer()),(0,ot.on)(m,"click",function(R){var W;return R&&((W=R.target)===null||W===void 0?void 0:W.tagName)=="A"&&R.preventDefault()}),(0,ot.on)(m,"submit",function(R){return R&&R.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!c.infiniteCanvas}}].forEach(function(R){return R.event.split(" ").forEach(function(W){v.addEventListener(W,function(de){return e.el.dispatchEvent((0,ot.yL)(de,R.class))},R.opts)})}),this._toggleEffects(!0),(0,Le.hasDnd)(u)&&(this.droppable=new Vw(u,(i=this.wrapper)===null||i===void 0?void 0:i.el)),this.loaded=!0,d.trigger("loaded"))},r.prototype._toggleEffects=function(e){var t=e?ot.on:ot.AU,n=this.getWindow();n&&t(n,"".concat(ot.D8," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r}(Gi),Hw=Nw,Ey=en(14),Bw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hs=function(){return Hs=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Hs.apply(this,arguments)},jw=function(o){Bw(r,o);function r(e,t){var n=o.call(this,{model:e})||this;(0,M.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag");var i=Hs(Hs({},e.config),{frameWrapView:n});return n.cv=t,n.frame=new Hw(e,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,M.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,M.debounce)(n.updateSize.bind(n),0),n.listenTo(e,"loaded",n.frameLoaded),n.listenTo(e,"change:x change:y",n.updatePos),n.listenTo(e,"change:width change:height",n.updateSize),n.listenTo(e,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var e=this,t=this,n=t.module,i=t.model,s,c,u,d=function(h){n.toggleFramesEvents(h)};this.dragger=new Ey.A({onStart:function(){var h=i.attributes,v=h.x,m=h.y;u=e.em.getZoomMultiplier(),s=v,c=m,d(!1)},onEnd:function(){return d(!0)},setPosition:function(h){i.set({x:s+h.x*u,y:c+h.y*u})}})},r.prototype.startDrag=function(e){var t;e&&((t=this.dragger)===null||t===void 0||t.start(e))},r.prototype.__clear=function(e){var t=this.frame;t&&t.remove(e),(0,ot.YZ)(this.elTools)},r.prototype.remove=function(e){var t=this;return this.__clear(e),Gi.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(n){return t[n]=0}),this},r.prototype.updateOffset=function(){var e,t=this,n=t.em,i=t.$el,s=t.frame;!n||n.destroyed||(n.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(e=s?.model)===null||e===void 0||e._emitUpdated())},r.prototype.updatePos=function(e){var t=this,n=t.model,i=t.el,s=n.attributes,c=s.x,u=s.y,d=i.style;this.frame.rect=void 0,d.left=isNaN(c)?c:"".concat(c,"px"),d.top=isNaN(u)?u:"".concat(u,"px"),e&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var e=this,t=e.em,n=e.el,i=e.$el,s=e.model,c=e.classAnim,u=e.frame;if(u){u.rect=void 0,i.addClass(c);var d=this.__handleSize(),h=d.noChanges,v=d.width,m=d.height;((0,M.isNull)(v)||(0,M.isNull)(m))&&s.set(Hs(Hs({},v?{}:{width:n.offsetWidth}),m?{}:{height:n.offsetHeight}),{silent:1}),t.stopDefault({preserveSelected:1}),h?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var e=this,t=e.frame,n=e.em;n.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},r.prototype.frameLoaded=function(){var e=this,t=e.frame,n=e.config;t.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var e,t,n="px",i=this,s=i.model,c=i.el,u=c.style,d=s.attributes,h=d.width,v=d.height,m=u.width||"",_=u.height||"",w=h||"",x=v||"",E=m==w&&_==x,F=(0,M.isNumber)(w)?"".concat(w).concat(n):w,U=(0,M.isNumber)(x)?"".concat(x).concat(n):x;if(u.width=F,s.hasAutoHeight()){var R=this.frame.el;if(R.contentDocument){var W=R.contentDocument,de=new ResizeObserver(function(){u.height="".concat(W.body.scrollHeight,"px")});de.observe(W.body),(e=this.sizeObserver)===null||e===void 0||e.disconnect(),this.sizeObserver=de}}else u.height=U,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),delete this.sizeObserver;return{noChanges:E,width:h,height:v,newW:w,newH:x}},r.prototype.render=function(){var e=this,t=e.frame,n=e.$el,i=e.ppfx,s=e.cv,c=e.model,u=e.el,d=c.attributes.onRender;this.__clear(),this.__handleSize(),t.render(),n.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(c.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(t.el);var h=(0,ot.a_)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=h;var v=s?.toolsWrapper;return v&&v.appendChild(h),d&&d({el:u,elTop:u.querySelector("[data-frame-top]"),elRight:u.querySelector("[data-frame-right]"),elBottom:u.querySelector("[data-frame-bottom]"),elLeft:u.querySelector("[data-frame-left]"),frame:c,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r}(Gi),zw=jw,Uw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ww=function(o){Uw(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=t.canvasView,n._module=t.module,n}return r.prototype.onRemoveBefore=function(e,t){t===void 0&&(t={}),e.forEach(function(n){return n.remove(t)})},r.prototype.onRender=function(){var e=this,t=e.$el,n=e.ppfx;t.attr({class:"".concat(n,"frames")})},r.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(t){return t.remove()}),this.viewCollection=[]},r.prototype.renderView=function(e,t){return new zw(e,this.canvasView)},r}($b),Gw=Ww,Yw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qu=function(){return Qu=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Qu.apply(this,arguments)},Zw=function(o){Yw(r,o);function r(e){var t=o.call(this,{model:e})||this;t.ready=!1,(0,M.bindAll)(t,"clearOff","onKeyPress","onWheel","onPointer");var n=t,i=n.em,s=n.pfx,c=n.ppfx,u=t.module.events;return t.className="".concat(s,"canvas ").concat(c,"no-touch-actions").concat(i.config.customUI?"":" ".concat(s,"canvas-bg")),t.clsUnscale="".concat(s,"unscale"),t._initFrames(),t.listenTo(i,u.refresh,t.clearOff),t.listenTo(i,"component:selected",t.checkSelected),t.listenTo(i,"".concat(u.coords," ").concat(u.zoom),t.updateFrames),t.listenTo(e,"change:frames",t._onFramesUpdate),t.toggleListeners(!0),t}return r.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var e=this,t=e.frames,n=e.model,i=e.config,s=e.em,c=n.frames;s.set("readyCanvas",0),c.once("loaded:all",function(){return s.set("readyCanvas",1)}),t?.remove(),this.frames=new Gw({collection:c},Qu(Qu({},i),{canvasView:this}))},r.prototype.checkSelected=function(e,t){var n;t===void 0&&(t={});var i=t.scroll,s=this.em.getCurrentFrame();i&&((n=e.views)===null||n===void 0||n.forEach(function(c){c.frameView===s&&c.scrollIntoView(i)}))},r.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,Gi.prototype.remove.apply(this,t),this.toggleListeners(!1),this},r.prototype.preventDefault=function(e){var t;e&&(e.preventDefault(),(t=e._parentEvent)===null||t===void 0||t.preventDefault())},r.prototype.toggleListeners=function(e){var t=this,n=t.el,i=t.config,s=e?ot.on:ot.AU;s(document,"keypress",this.onKeyPress),s(window,"scroll resize",this.clearOff),s(n,"wheel",this.onWheel,{passive:!i.infiniteCanvas}),s(n,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(e,t){var n=this.module,i=n.getCoords(),s=n.getZoomMultiplier(),c=this.getViewportDelta();return{x:(e-i.x-c.x)*s,y:(t-i.y-c.y)*s}},r.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var t=this.getCanvasOffset(),n=(0,ot.Xy)(),i={x:e.clientX-t.left+n.x,y:e.clientY-t.top+n.y};if(e._parentEvent){var s=e.target.getBoundingClientRect(),c=this.module.getZoomDecimal();i.x=s.left-t.left+n.x+e.clientX*c,i.y=s.top-t.top+n.y+e.clientY*c}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},r.prototype.onKeyPress=function(e){var t=this.em,n=(0,ot.Ch)(e);n===" "&&t.getZoomDecimal()!==1&&!t.Canvas.isInputFocused()&&(this.preventDefault(e),t.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(e){var t=this,n=t.module,i=t.config;if(i.infiniteCanvas){this.preventDefault(e);var s=e.deltaX,c=e.deltaY,u=n.getZoomDecimal(),d=(0,ot.rp)(e),h=n.getCoords();if(d){var v=u-c*u*.01;n.setZoom(v*100);var m=this.model.getPointerCoords(tt.x2.Screen),_=this.getCanvasOffset(),w=m.x-_.width/2,x=m.y-_.height/2,E=v/u,F=w-(w-h.x)*E,U=x-(x-h.y)*E;n.setCoords(F,U)}else this.onPointer(e),n.setCoords(h.x-s,h.y-c)}},r.prototype.updateFrames=function(e){var t=this.em,n=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",t.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){t.stopDefault(i),t.runDefault(i),n.style.display=""},300)},r.prototype.updateFramesArea=function(){var e=this,t=e.framesArea,n=e.model,i=e.module,s=e.cvStyle,c=e.clsUnscale,u=i.getZoomMultiplier();if(t){var d=n.attributes,h=d.x,v=d.y,m=i.getZoomDecimal();t.style.transform="scale(".concat(m,") translate(").concat(h*u,"px, ").concat(v*u,"px)")}s&&(s.innerHTML=`
        .`.concat(c," { scale: ").concat(u,` }
      `))},r.prototype.fitViewport=function(e){var t,n;e===void 0&&(e={});var i=this,s=i.em,c=i.module,u=i.model,d=this.getCanvasOffset(),h=e.el,v=h&&((t=(0,Le.getComponentView)(h))===null||t===void 0?void 0:t.frameView),m=v?v.model:e.frame||s.getCurrentFrameModel()||u.frames.at(0),_=m.attributes,w=_.x,x=_.y,E={x:w??0,y:x??0,width:m.width,height:m.height};if(h){var F=this.getElBoxRect(h);E.x=E.x+F.x,E.y=E.y+F.y,E.width=F.width,E.height=F.height}var U=e.ignoreHeight,R=(n=e.gap)!==null&&n!==void 0?n:0,W=(0,M.isNumber)(R),de=W?R:R.x,Ae=W?R:R.y,Te=E.width+de*2,pe=E.height+Ae*2,K=d.width,he=d.height,B=K/Te,L=he/pe,z=U?B:Math.min(B,L),j=z*100;c.setZoom(j);var oe=-E.x+(m.width>=K?K/2-Te/2:-de),D=-E.y+he/2-pe/2,be={x:(oe+de)*z,y:(D+Ae)*z};if(U){var we=c.getZoomMultiplier(),Re=he*we,at=Re-he,ct=at/2;be.y=(-E.y+Ae)*z-ct/we}c.setCoords(be.x,be.y)},r.prototype.isElInViewport=function(e){var t=(0,Le.getElement)(e),n=(0,ot.C8)(t),i=this.getFrameOffset(t),s=n.top,c=n.left;return s>=0&&c>=0&&s<=i.height&&c<=i.width},r.prototype.offset=function(e,t){t===void 0&&(t={});var n=t.noScroll,i=(0,ot.C8)(e),s=n?{x:0,y:0}:(0,ot.Xy)(e);return{top:i.top+s.y,left:i.left+s.x,width:i.width,height:i.height}},r.prototype.getRectToScreen=function(e){var t,n,i,s,c=this.module.getZoomDecimal(),u=this.module.getCoords(),d=this.getViewportDelta(),h=((t=e.x)!==null&&t!==void 0?t:0)*c+u.x+d.x||0,v=((n=e.y)!==null&&n!==void 0?n:0)*c+u.y+d.y||0;return{x:h,y:v,width:((i=e.width)!==null&&i!==void 0?i:0)*c,height:((s=e.height)!==null&&s!==void 0?s:0)*c}},r.prototype.getElBoxRect=function(e,t){var n,i,s;t===void 0&&(t={});var c=this.module,u=(0,ot.C8)(e),d=u.width,h=u.height,v=u.left,m=u.top,_=(n=(0,Le.getComponentView)(e))===null||n===void 0?void 0:n.frameView,w=_?.getBoxRect(),x=c.getZoomMultiplier(),E=(i=w?.x)!==null&&i!==void 0?i:0,F=(s=w?.y)!==null&&s!==void 0?s:0,U=this.el,R=(0,ot.Xy)(),W=v+E+(U.scrollLeft+R.x)*x,de=m+F+(U.scrollTop+R.y)*x,Ae={x:W,y:de,width:d,height:h};return t.local&&(Ae.x=v,Ae.y=m),t.toScreen?this.getRectToScreen(Ae):Ae},r.prototype.getViewportRect=function(e){e===void 0&&(e={});var t=this.getCanvasOffset(),n=t.top,i=t.left,s=t.width,c=t.height,u=this.module;if(e.toWorld){var d=u.getZoomMultiplier(),h=u.getCoords(),v=this.getViewportDelta(),m=-h.x-v.x||0,_=-h.y-v.y||0;return{x:m*d,y:_*d,width:s*d,height:c*d}}else return{x:i,y:n,width:s,height:c}},r.prototype.getViewportDelta=function(e){e===void 0&&(e={});var t=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),i=n.width,s=n.height,c=i*t,u=s*t,d=c-i,h=u-s;return{x:d/2/t,y:h/2/t}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(e){var t;if(!this.frmOff||e){var n=(t=this.frame)===null||t===void 0?void 0:t.el,i=e?.ownerDocument.defaultView,s=i?i.frameElement:n;this.frmOff=this.offset(s||n)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(e,t){t===void 0&&(t={});var n=this.module.getZoomDecimal(),i=this.getFrameOffset(e),s=this.el,c=this.getCanvasOffset(),u=this.offset(e,t),d=t.avoidFrameOffset?0:i.top,h=t.avoidFrameOffset?0:i.left,v=t.avoidFrameZoom?u.top:u.top*n,m=t.avoidFrameZoom?u.left:u.left*n,_=t.avoidFrameOffset?v:v+d-c.top+s.scrollTop,w=t.avoidFrameOffset?m:m+h-c.left+s.scrollLeft,x=t.avoidFrameZoom?u.height:u.height*n,E=t.avoidFrameZoom?u.width:u.width*n;return{top:_,left:w,height:x,width:E,zoom:n,rect:u}},r.prototype.getElementOffsets=function(e){if(!e||(0,ot.ir)(e))return{};var t={},n=window.getComputedStyle(e),i=this.module.getZoomDecimal(),s=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return s.forEach(function(c){t[c]=parseFloat(n[c])*i}),t},r.prototype.getPosition=function(e){var t;e===void 0&&(e={});var n=(t=this.frame)===null||t===void 0?void 0:t.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var i=n.body,s=this.module.getZoomDecimal(),c=this.getFrameOffset(),u=this.getCanvasOffset(),d=e.noScroll;return{top:c.top+(d?0:i.scrollTop)*s-u.top,left:c.left+(d?0:i.scrollLeft)*s-u.left,width:u.width,height:u.height}},r.prototype.updateScript=function(e){var t=e.model,n=t.getId();if(!e.scriptContainer){e.scriptContainer=(0,ot.a_)("div",{"data-id":n});var i=this.getJsContainer();i?.appendChild(e.scriptContainer)}e.el.id=n,e.scriptContainer.innerHTML="";var s=document.createElement("script"),c=t.getScriptString(),u=t.get("script-props")?c:`function(){
`.concat(c,`
;}`),d=JSON.stringify(t.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        (`).concat(u,".bind(item))(").concat(d,`)
      }, 1);`),setTimeout(function(){var h=e.scriptContainer;h?.appendChild(s)},0)},r.prototype.getJsContainer=function(e){var t=this.getFrameView(e);return t?.getJsContainer()},r.prototype.getFrameView=function(e){return e?.frameView||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var e=this,t=e.model,n=e.frames,i=e.em,s=e.framesArea,c=t.frames;c.listenToLoad(),n.render();var u=c.at(0),d=u?.view;i.setCurrentFrame(d),s?.appendChild(n.el),this.frame=d,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var e=this,t=e.el,n=e.$el,i=e.ppfx,s=e.config,c=e.em;n.html(this.template());var u=n.find("[data-frames]");this.framesArea=u.get(0);var d=n.find("[data-tools]");return this.toolsWrapper=d.get(0),d.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(s.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=t.querySelector("#".concat(i,"tools")),this.hlEl=t.querySelector(".".concat(i,"highlighter")),this.badgeEl=t.querySelector(".".concat(i,"badge")),this.placerEl=t.querySelector(".".concat(i,"placeholder")),this.ghostEl=t.querySelector(".".concat(i,"ghost")),this.toolbarEl=t.querySelector(".".concat(i,"toolbar")),this.resizerEl=t.querySelector(".".concat(i,"resizer")),this.offsetEl=t.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(i,"tools-gl")),this.spotsEl=t.querySelector("[data-spots]"),this.cvStyle=t.querySelector("[data-canvas-style]"),this.el.className=(0,Le.getUiClass)(c,this.className),this.ready=!0,this._renderFrames(),this},r}(Gi),Kw=Zw,qw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ba=function(){return Ba=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ba.apply(this,arguments)},$w=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Qw=function(o){qw(r,o);function r(e){var t=o.call(this,e,"Canvas",yb)||this;return t.events=dh,t.framesById={},t.canvas=new zb(t),t.spots=new Gb(t),t.model=t.canvas,t.startAutoscroll=t.startAutoscroll.bind(t),t.stopAutoscroll=t.stopAutoscroll.bind(t),t}return r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(e){return this.getFrames()[e||0]},r.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e?.el},r.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},r.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e?.getWindow()},r.prototype.getDocument=function(){var e=this.getFrameEl();return e?.contentDocument},r.prototype.getBody=function(){var e=this.getDocument();return e?.body},r.prototype._getLocalEl=function(e,t,n){var i=e,s=t?.frameView;return i=s?s[n]():i,i},r.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},r.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},r.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},r.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},r.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new Kw(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},r.prototype.offset=function(e){return this.getCanvasView().offset(e)},r.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},r.prototype.getElementPos=function(e,t){return this.getCanvasView().getElementPos(e,t)},r.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},r.prototype.getRect=function(){var e,t=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},n=t.top,i=n===void 0?0:n,s=t.left,c=s===void 0?0:s;return Ba(Ba({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:c})},r.prototype.getTargetToElementDim=function(e,t,n){n===void 0&&(n={});var i=n||{},s=this.getCanvasView().getPosition();if(s){var c=i.elPos||this.getCanvasView().getElementPos(t),u=n.toRight||0,d=i.targetHeight||e.offsetHeight,h=i.targetWidth||e.offsetWidth,v=i.event||null,m=c.top-d,_=c.left;_+=u?c.width:0,_=u?_-h:_;var w=_<s.left?s.left:_,x=m<s.top?s.top:m;x=x>c.top+c.height?c.top+c.height:x;var E={top:x,left:w,elementTop:c.top,elementLeft:c.left,elementWidth:c.width,elementHeight:c.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:s.top,canvasLeft:s.left,canvasWidth:s.width,canvasHeight:s.height};return v&&this.em&&this.em.trigger(v,E),E}},r.prototype.canvasRectOffset=function(e,t,n){var i=this;n===void 0&&(n={});var s=function(u){var d=u.defaultView;return d?.frameElement},c=function(u,d,h){d===void 0&&(d=1);var v=i.em.getZoomDecimal(),m=d?"top":"left",_=u.ownerDocument,w=n.offset?s(_):{},x=w.offsetTop,E=x===void 0?0:x,F=w.offsetLeft,U=F===void 0?0:F,R=_.body||{},W=R.scrollTop,de=W===void 0?0:W,Ae=R.scrollLeft,Te=Ae===void 0?0:Ae,pe=d?de:Te,K=d?E:U;return h[m]-(pe-K)*v};return{top:c(e,1,t),left:c(e,0,t)}},r.prototype.getTargetToElementFixed=function(e,t,n){n===void 0&&(n={});var i=n.pos||this.getElementPos(e,{noScroll:!0}),s=n.canvasOff||this.canvasRectOffset(e,i),c=t.offsetHeight||0,u=t.offsetWidth||0,d=i.left+i.width,h=this.getCanvasView(),v=h.getPosition(),m=h.getFrameOffset(e),_=n.event,w=-c,x=(0,M.isUndefined)(n.left)?i.width-u:n.left;if(x=i.left<-x?-i.left:x,x=d>v.width?x-(d-v.width):x,s.top<c){var E=i.height+c,F=E<m.height;F?w=w+E:w=-s.top<i.height?-s.top:i.height}var U={top:w,left:x,canvasOffsetTop:s.top,canvasOffsetLeft:s.left,elRect:i,canvasOffset:s,canvasRect:v,targetWidth:u,targetHeight:c};return _&&this.em.trigger(_,U),U},r.prototype.getMouseRelativePos=function(e,t){t===void 0&&(t={});var n=t.subWinOffset,i=e.target.ownerDocument,s=i.defaultView||i.parentWindow,c=s.frameElement,u=n?s.pageYOffset:0,d=n?s.pageXOffset:0,h=this.getZoomMultiplier(),v=0,m=0;if(c){var _=c.getBoundingClientRect();v=_.top||0,m=_.left||0}return{y:(e.clientY+v-u)*h,x:(e.clientX+m-d)*h}},r.prototype.getMouseRelativeCanvas=function(e,t){var n,i=this.getZoomDecimal(),s=(n=this.getCanvasView().getPosition(t))!==null&&n!==void 0?n:{},c=s.top,u=c===void 0?0:c,d=s.left,h=d===void 0?0:d;return{y:e.clientY*i+u,x:e.clientX*i+h}},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var e=this.getDocument(),t=this.getFrameEl(),n=$w(["body"],this.config.notTextable,!0),i=t&&document.activeElement===t,s=i?e&&e.activeElement:document.activeElement;return s&&!n.some(function(c){return s.matches(c)})},r.prototype.scrollTo=function(e,t){t===void 0&&(t={});var n=(0,Le.getElement)(e),i=n&&(0,Le.getViewEl)(n);i&&i.scrollIntoView(t)},r.prototype.startAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},r.prototype.stopAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},r.prototype.setZoom=function(e){return this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(e,t,n){var i;n===void 0&&(n={});var s=e||e===0,c=t||t===0,u={x:this.canvas.get("x"),y:this.canvas.get("y")};if(s&&(u.x=parseFloat("".concat(e))),c&&(u.y=parseFloat("".concat(t))),n.toWorld){var d=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();d&&(s&&(u.x=u.x-d.x),c&&(u.y=u.y-d.y))}return this.canvas.set(u),this},r.prototype.getCoords=function(){var e=this.canvas.attributes,t=e.x,n=e.y;return{x:t,y:n}},r.prototype.getPointer=function(e){var t=this.canvas.attributes,n=t.pointer,i=t.pointerScreen;return e?i:n},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},r.prototype.fitViewport=function(e){var t;(t=this.canvasView)===null||t===void 0||t.fitViewport(e)},r.prototype.toggleFramesEvents=function(e){var t=this.getFramesEl().style;t.pointerEvents=e?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},r.prototype.addFrame=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.canvas.frames.add(new uy(this,Ba({},e)),t)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(e,t){var n;t===void 0&&(t={});var i=e,s=this.getSpots(i);if(s.length){var c=s[0];return c.set(i),c}var u=i.componentView||((n=i.component)===null||n===void 0?void 0:n.view),d=new Wi.A(this,Ba(Ba({},i),{id:i.id||"cs_".concat(i.type,"_").concat(u?.cid),type:i.type||""}));return this.spots.add(d,t),d},r.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},r.prototype.removeSpots=function(e){e===void 0&&(e={});var t=(0,M.isArray)(e)?e:this.getSpots(e),n=this.spots.remove(t);return n},r.prototype.hasCustomSpot=function(e){var t=this.config.customSpots;return!!(t===!0||t&&e&&t[e])},r.prototype.getWorldRectToScreen=function(e){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.getRectToScreen(e)},r.prototype.refresh=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.events,s=t.canvasView;s?.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),n.trigger("canvas:updateTools")),n.set("canvasOffset",this.getOffset()),n.trigger(i.refresh,e)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var e=this,t;this.canvas.stopListening(),(t=this.canvasView)===null||t===void 0||t.remove(),["model","droppable"].forEach(function(n){return e[n]={}})},r}(vi),Xw=Qw,Km={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},Jw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xu=function(){return Xu=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Xu.apply(this,arguments)},eC=function(o){Jw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Xu(Xu({},o.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var e=this.content,t=this.parent();return t?.is("script")?e:this.__escapeContent(e)},r.prototype.__escapeContent=function(e){return(0,Le.escapeNodeContent)(e)},r.isComponent=function(e){var t;if(e.nodeType===3)return{type:"textnode",content:(t=e.textContent)!==null&&t!==void 0?t:""}},r}(Mr),Ty=eC,tC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$p=function(){return $p=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},$p.apply(this,arguments)},nC=function(o){tC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return $p({},o.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},r.isComponent=function(e){var t;if(e.nodeType==8)return{type:"comment",content:(t=e.textContent)!==null&&t!==void 0?t:""}},r}(Ty),rC=nC,iC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ju=function(){return Ju=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ju.apply(this,arguments)},hp="iframe",oC=function(o){iC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ju(Ju({},o.prototype.defaults),{type:hp,tagName:hp,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===hp},r}(Mr),aC=oC,sC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ed=function(){return ed=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ed.apply(this,arguments)},qm='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',lC=function(o){sC(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,i=n.get("attributes").src;return i&&(0,Le.buildBase64UrlFromSvg)((0,M.result)(n,"defaults").src)!==i&&n.set("src",i,{silent:!0}),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ed(ed({},o.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(qm,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(qm,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),r.prototype.initToolbar=function(){o.prototype.initToolbar.call(this);var e=this.em;if(e){var t=e.Commands,n="image-editor";if(t.has(n)){for(var i=!1,s=this.get("toolbar"),c=0;c<s.length;c++)if(s[c].command==="image-editor"){i=!0;break}i||(s.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",s))}}},r.prototype.getAttrToHTML=function(){var e=o.prototype.getAttrToHTML.call(this),t=this.getSrcResult();return t&&(e.src=t),e},r.prototype.getSrcResult=function(e){e===void 0&&(e={});var t=this.get(e.fallback?"fallback":"src")||"",n=t;return t&&t.substr(0,4)==="<svg"&&(n=(0,Le.buildBase64UrlFromSvg)(t)),n},r.prototype.isDefaultSrc=function(){var e=this.get("src"),t=(0,M.result)(this,"defaults").src;return e===t||e===(0,Le.buildBase64UrlFromSvg)(t)},r.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),n=t.attributes;return n&&t.src===n.src&&delete t.src,t},r.prototype.parseUri=function(e){var t={},n=function(i){i===void 0&&(i="");for(var s={},c=i.substring(1).split("&"),u=0;u<c.length;u++){var d=c[u].split("="),h=decodeURIComponent(d[0]);h&&(s[h]=decodeURIComponent(d[1]||""))}return s};if((0,Le.hasWin)())t=document.createElement("a"),t.href=e;else if(typeof URL<"u")try{t=new URL(e)}catch{}return{hostname:t.hostname||"",pathname:t.pathname||"",protocol:t.protocol||"",search:t.search||"",hash:t.hash||"",port:t.port||"",query:n(t.search)}},r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)==="img"},r}(Mr),gh=lC,cC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),td=function(){return td=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},td.apply(this,arguments)},uC=function(o){cC(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.__checkInnerChilds(),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return td(td({},o.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var t=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,M.isFunction)(e)?this.forEachChild(function(n){e(n)&&t(n)}):this.forEachChild(t)}},r}(Mr),vh=uC,dC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nd=function(){return nd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},nd.apply(this,arguments)},gp="label",fC=function(o){dC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return nd(nd({},o.prototype.defaults),{type:gp,tagName:gp,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===gp},r}(vh),pC=fC,hC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rd=function(){return rd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},rd.apply(this,arguments)},$m="link",gC=function(o){hC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return rd(rd({},o.prototype.defaults),{type:$m,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e,t){t===void 0&&(t={});var n;if((0,Le.toLowerCase)(e.tagName)==="a"){var i=t.textTags||[];n={type:$m,editable:!1};var s=e.childNodes,c=s.length;c||delete n.editable,(0,M.forEach)(s,function(u){var d=u.tagName;(u.nodeType==3&&u.textContent.trim()!==""||d&&i.indexOf((0,Le.toLowerCase)(d))>=0)&&delete n.editable})}return n},r}(vh),vC=gC,mC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),id=function(){return id=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},id.apply(this,arguments)},yC=function(o){mC(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.get("src")?n.parseFromSrc():n.updateSrc(),n.listenTo(n,"change:address change:zoom change:mapType",n.updateSrc),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){var e=o.prototype.defaults;return id(id({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var e=this.get("address"),t=this.get("zoom"),n=this.get("mapType");e=e?"&q="+e:"",t=t?"&z="+t:"",n=n?"&t="+n:"";var i=this.get("mapUrl")+"?"+e+t+n;return i+="&output=embed",i},r.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),t=e.query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},r.isComponent=function(e){if((0,Le.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},r}(gh),_C=yC,bC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),od=function(){return od=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},od.apply(this,arguments)},vp="script",wC=function(o){bC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return od(od({},o.prototype.defaults),{type:vp,tagName:vp,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===vp},r}(Mr),CC=wC,xC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ad=function(){return ad=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ad.apply(this,arguments)},mp="svg",AC=function(o){xC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ad(ad({},o.prototype.defaults),{type:mp,tagName:mp,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var e=this.get("tagName"),t=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),t||e},r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===mp},r}(Mr),Oy=AC,SC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sd=function(){return sd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},sd.apply(this,arguments)},EC=function(o){SC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return sd(sd({},o.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(e,t){return t===void 0&&(t={}),!!t.inSvg},r}(Oy),TC=EC,OC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ld=function(){return ld=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ld.apply(this,arguments)},yp="table",DC=function(o){OC(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,i=n.get("components");return!i.length&&i.add({type:"tbody"}),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ld(ld({},o.prototype.defaults),{type:yp,tagName:yp,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===yp},r}(Mr),MC=DC,kC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cd=function(){return cd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},cd.apply(this,arguments)},_p="tbody",PC=function(o){kC(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,i=n.get("components"),s=n.get("columns"),c=n.get("rows");if(!i.length){for(var u=[];c--;){for(var d=[],h=s;h--;)d.push({type:"cell",classes:["cell"]});u.push({type:"row",classes:["row"],components:d})}i.add(u)}return n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return cd(cd({},o.prototype.defaults),{type:_p,tagName:_p,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===_p},r}(Mr),mh=PC,IC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ud=function(){return ud=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ud.apply(this,arguments)},LC=function(o){IC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ud(ud({},o.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return["td","th"].indexOf((0,Le.toLowerCase)(e.tagName))>=0},r}(Mr),VC=LC,RC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dd=function(){return dd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},dd.apply(this,arguments)},bp="tfoot",FC=function(o){RC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return dd(dd({},o.prototype.defaults),{type:bp,tagName:bp})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===bp},r}(mh),NC=FC,HC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fd=function(){return fd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},fd.apply(this,arguments)},wp="thead",BC=function(o){HC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return fd(fd({},o.prototype.defaults),{type:wp,tagName:wp})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===wp},r}(mh),jC=BC,zC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pd=function(){return pd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},pd.apply(this,arguments)},Qm="tr",UC=function(o){zC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return pd(pd({},o.prototype.defaults),{tagName:Qm,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Qm},r}(Mr),WC=UC,GC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hd=function(){return hd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},hd.apply(this,arguments)},Cp="video",Ls="yt",Vs="vi",Rs="ytnc",Xm="so",xp=function(o){return o&&o!=="0"},YC=function(o){GC(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.get("src")&&n.parseFromSrc(),n.updatePropsFromAttr(),n.updateTraits(),n.on("change:provider",n.updateTraits),n.on("change:videoId change:provider",n.updateSrc),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return hd(hd({},o.prototype.defaults),{type:Cp,tagName:Cp,videoId:"",void:!1,provider:Xm,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Xm){var e=this.get("attributes"),t=e.controls,n=e.autoplay,i=e.loop,s={};(0,Le.isDef)(t)&&(s.controls=!!t),(0,Le.isDef)(n)&&(s.autoplay=!!n),(0,Le.isDef)(i)&&(s.loop=!!i),(0,Le.isEmptyObj)(s)||this.set(s)}},r.prototype.updateTraits=function(){var e=this.em,t=this.get("provider"),n="iframe",i;switch(t){case Ls:case Rs:i=this.getYoutubeTraits();break;case Vs:i=this.getVimeoTraits();break;default:n="video",i=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:i}),e.get("ready")&&e.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),n=t.query;switch(e){case Ls:case Rs:case Vs:this.set("videoId",t.pathname.split("/").pop()),n.list&&this.set("list",n.list),xp(n.autoplay)&&this.set("autoplay",!0),xp(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),xp(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1);break;default:}},r.prototype.updateSrc=function(){var e=this.get("provider"),t="";switch(e){case Ls:t=this.getYoutubeSrc();break;case Rs:t=this.getYoutubeNoCookieSrc();break;case Vs:t=this.getVimeoSrc();break}this.set({src:t})},r.prototype.getAttrToHTML=function(){var e=o.prototype.getAttrToHTML.call(this),t=this.get("provider");switch(t){case Ls:case Rs:case Vs:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls")}return e},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Ls,name:"Youtube"},{value:Rs,name:"Youtube (no cookie)"},{value:Vs,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),t=this.get("ytUrl"),n=this.get("list");return t+=e+(e.indexOf("?")<0?"?":""),t+=n?"&list=".concat(n):"",t+=this.get("autoplay")?"&autoplay=1&mute=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":"",t},r.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},r.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},r.isComponent=function(e){var t=e.tagName,n=e.src,i=/youtube\.com\/embed/.test(n),s=/youtube-nocookie\.com\/embed/.test(n),c=/player\.vimeo\.com\/video/.test(n),u=i||s||c;if((0,Le.toLowerCase)(t)==Cp||(0,Le.toLowerCase)(t)=="iframe"&&u){var d={type:"video"};return n&&(d.src=n),u&&(i?d.provider=Ls:s?d.provider=Rs:c&&(d.provider=Vs)),d}},r}(gh),ZC=YC,KC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gd=function(){return gd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},gd.apply(this,arguments)},qC=function(o){KC(r,o);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,i,s=o.apply(this,e)||this,c=e[1],u=(n=c?.em)===null||n===void 0?void 0:n.Components,d=(i=u?.getType(Ys))===null||i===void 0?void 0:i.model,h=u?.getType("default").model;return d&&s.set({head:new d({},c),docEl:new h({tagName:"html"},c)},{silent:!0}),s}return Object.defineProperty(r.prototype,"defaults",{get:function(){return gd(gd({},o.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(e){e===void 0&&(e={});var t=this.doctype,n=(0,M.isUndefined)(e.asDocument)?!!t:e.asDocument,i=this,s=i.head,c=i.docEl,u=o.prototype.toHTML.call(this,e),d=n&&s?.toHTML(e)||"",h=n&&(0,ot.kk)(c?.getAttrToHTML())||"",v=h?" ".concat(h):"";return n?"".concat(t,"<html").concat(v,">").concat(d).concat(u,"</html>"):u},r.prototype.__postAdd=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&t?.add(this),o.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return t?.remove(this),o.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r}(Mr),$C=qC,QC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XC=function(o){QC(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return e.compView=Kn,e}return r.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},r.prototype.removeChildren=function(e,t,n){var i=this;n===void 0&&(n={}),e.views.forEach(function(c){if(c){var u=c.childrenView,d=c.scriptContainer;u&&u.stopListening(),(0,ot.YZ)(d),c.remove.apply(c)}});var s=e.components();s.forEach(function(c){return i.removeChildren(c,t,n)})},r.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},r.prototype.addToCollection=function(e,t,n){for(var i=this,s=i.config,c=i.opts,u=i.em,d=s.frameView,h=d?.model&&e.getView(d.model),v=c.componentTypes||u?.Components.getTypes(),m=e.get("type")||"default",_=this.compView,w=0;w<v.length;w++)if(v[w].id==m){_=v[w].view;break}var x=h||new _({model:e,config:s,componentTypes:v}),E;try{E=x.render().el}catch(W){E=document.createTextNode(""),u.logError(W)}if(t)t.appendChild(E);else{var F=this.parentEl,U=F.childNodes;if((0,M.isUndefined)(n))F.appendChild(E);else{var R=U.length==n;R&&n--,R||!U.length?F.appendChild(E):F.insertBefore(E,U[n])}}return e.opt.temporary||u?.trigger("component:mount",e),E},r.prototype.resetChildren=function(e,t){var n=this,i=t===void 0?{}:t,s=i.previousModels,c=s===void 0?[]:s;this.parentEl.innerHTML="",c.forEach(function(u){return n.removeChildren(u,n.collection)}),e.each(function(u){return n.addToCollection(u)})},r.prototype.render=function(e){var t=this,n=this.el,i=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(s){return t.addToCollection(s,i)}),n.innerHTML="",n.appendChild(i),this},r}(tt.Ss),Dy=XC,JC=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ho=function(){return ho=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ho.apply(this,arguments)},ex=function(o){JC(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},r.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,n=e.config||{},i=n.em,s=t.opt||{},c=this,u=c.$el,d=c.el;this.opts=e,this.modelOpt=s,this.config=n,this.em=i,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=t.get("attributes"),this.classe=this.attr.class||[],this.listenTo(t,"change:style",this.updateStyle),this.listenTo(t,"change:attributes",this.renderAttributes),this.listenTo(t,"change:highlightable",this.updateHighlight),this.listenTo(t,"change:status change:locked",this.updateStatus),this.listenTo(t,"change:script rerender",this.reset),this.listenTo(t,"change:content",this.updateContent),this.listenTo(t,"change",this.handleChange),this.listenTo(t,"active",this.onActive),this.listenTo(t,"disable",this.onDisable),u.data("model",t),(0,Le.setViewEl)(d,this),t.view=this,this.frameView&&t.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=ho(ho({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!s.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"createDoc",{get:function(){var e,t,n=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((t=this.opts.config)===null||t===void 0)&&t.useFrameDoc?n:document},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){var e=this,t=e.model,n=e.config,i=t.attributes.draggable;return n.draggableComponents&&i},r.prototype._clbObj=function(){var e=this,t=e.em,n=e.model,i=e.el;return{editor:t?.getEditor(),model:n,el:i}},r.prototype.init=function(e){},r.prototype.removed=function(e){},r.prototype.onRender=function(e){},r.prototype.onActive=function(e){},r.prototype.onDisable=function(e){},r.prototype.remove=function(){var e;o.prototype.remove.call(this);var t=this,n=t.model,i=t.$el,s=n.views,c=this.frameView||{};return n.components().forEach(function(u){var d=u.getView(c.model);d?.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),s.splice(s.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:e})},r.prototype.initClasses=function(){var e=this.model,t=e.classes,n="change:classes";t instanceof ca&&(this.stopListening(e,n,this.initClasses),this.listenTo(e,n,this.initClasses),this.listenTo(t,"add remove change reset",this.updateClasses),t.length&&this.importClasses())},r.prototype.initComponents=function(e){e===void 0&&(e={});var t=this,n=t.model,i=t.$el,s=t.childrenView,c="change:components",u=n.get("components"),d=[n,c,this.initComponents];u instanceof hc&&(i.data("collection",u),s&&s.remove(),this.stopListening.apply(this,d),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,d))},r.prototype.handleChange=function(){var e=this.model,t=(0,M.keys)(e.changed);if(!(t.length===1&&t[0]==="status")){e.emitUpdate();for(var n in e.changed)e.emitUpdate(n)}},r.prototype.importClasses=function(){var e=this,t=e.em,n=e.model,i=t.Selectors;i&&n.classes.forEach(function(s){return i.add(s.getName())})},r.prototype.updateStatus=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.el,s=t.ppfx,c=t.model,u=n?.Canvas,d=u?.config.extHl,h=c.get("status"),v="".concat(s,"selected"),m="".concat(v,"-parent"),_="".concat(s,"freezed"),w="".concat(s,"hovered"),x="".concat(s,"no-pointer"),E="".concat(s,"pointer-init"),F=[v,m,_,w,x],U=d&&!e.noExtHl?"":v;this.$el.removeClass(F.join(" "));var R=i.getAttribute("class")||"",W=[R],de=!u?.hasCustomSpot(Wi.F.Select),Ae=!u?.hasCustomSpot(Wi.F.Target);switch(h){case"selected":de&&W.push(U);break;case"selected-parent":Ae&&W.push(m);break;case"freezed":W.push(_);break;case"freezed-selected":W.push(_),de&&W.push(U);break;case"hovered":!e.avoidHover&&W.push(w);break}(0,M.isBoolean)(c.locked)&&W.push(c.locked?x:E);var Te=W.filter(Boolean).join(" ");Te&&i.setAttribute("class",Te)},r.prototype.updateHighlight=function(){var e=this.model,t=e.get("textable"),n=e.get("highlightable")&&(t||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",n?!0:"")},r.prototype.updateStyle=function(e,t,n){n===void 0&&(n={});var i=this,s=i.model,c=i.em;if(ec(c)&&!n.inline){var u=this.__cmpStyleOpts,d=s.getStyle(ho({inline:!0},u));!(0,M.isEmpty)(d)&&s.setStyle(d,u)}else this.setAttribute("style",s.styleToString(n))},r.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(e,t){var n=this.$el;t?n.attr(e,t):n.removeAttr(e)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var e=[],t=this,n=t.model,i=t.$el,s=t.el,c=n.attributes,u=c.textable,d=c.type,h=ho(ho({id:n.getId(),"data-gjs-type":d||"default"},this.__isDraggable()&&{draggable:!0}),u&&{contenteditable:"false"});(0,M.each)(s.attributes,function(m){return e.push(m.nodeName)}),e.forEach(function(m){return i.removeAttr(m)}),this.updateStyle(),this.updateHighlight();var v=ho(ho({},h),n.getAttributes());(0,M.keys)(v).forEach(function(m){return v[m]===!1&&delete v[m]}),i.attr(v)},r.prototype.updateContent=function(){var e=this.model.content,t=this.model.components().length;this.getChildrenContainer().innerHTML=t?"":e},r.prototype.prevDef=function(e){e.preventDefault()},r.prototype.updateScript=function(){var e=this,t=e.model,n=e.em;t.get("script")&&n?.Canvas.getCanvasView().updateScript(this)},r.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},r.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},t=this.el,n=0,i=0,s=function(c){var u=c.offsetParent;u?(n+=u.offsetTop,i+=u.offsetLeft,s(u)):(e.top=t.offsetTop+n,e.left=t.offsetLeft+i,e.bottom=e.top+t.offsetHeight,e.right=e.left+t.offsetWidth)};return s(t),e},r.prototype.isInViewport=function(){var e=this,t=e.el,n=e.em,i=e.frameView,s=n.Canvas.getCanvasView(),c=s.getElBoxRect(t,{local:!0}),u=i.el,d=u.clientHeight,h=u.clientWidth,v=c.y,m=c.x,_=v+c.height,w=m+c.width,x=v>=0&&v<d,E=_>0&&_<d,F=w>=0&&w<h,U=m>0&&m<=h,R=(x||E)&&(F||U);return R},r.prototype.scrollIntoView=function(e){var t;e===void 0&&(e={});var n=this.isInViewport();if(!n||e.force){var i=this.el;if(e.behavior!=="smooth"){var s=this.getOffsetRect();(t=i.ownerDocument.defaultView)===null||t===void 0||t.scrollTo(0,s.top)}else i.scrollIntoView(ho({behavior:"smooth",block:"nearest"},e))}},r.prototype.reset=function(){var e=this.el;this.el="",this._ensureElement(),this._setData(),(0,ot.bG)(e,this.el),this.render()},r.prototype._setData=function(){var e=this.model,t=e.components(),n=this;this.$el.data({model:e,collection:t,view:n})},r.prototype._createElement=function(e){return this.createDoc.createElement(e)},r.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new Dy({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var n=Array.prototype.slice.call(t.el.childNodes),i=0,s=n.length;i<s;i++)e.appendChild(n.shift())},r.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Le.setViewEl)(this.el,this),this.postRender(),this)},r.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},r.getEvents=function(){return(0,M.result)(this.prototype,"events")},r}(tt.Ss),Kn=ex,tx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nx=function(o){tx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var e=this,t=e.model,n=e.el;return t.opt.temporary?this:(n.textContent=t.content,this)},r}(Kn),My=nx,rx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ix=function(o){rx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createComment(this.model.content)},r}(My),ox=ix,ax=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sx=function(o){ax(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var e=(0,ot.I6)(this.el,"iframe")[0];e&&(0,ot.X6)(e,{src:this.__getSrc()})},r.prototype.render=function(){o.prototype.render.call(this);var e=(0,ot.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r}(Kn),lx=sx,cx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ux=function(o){cx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,t=e.model,n=e.em,i=t.get("file");if(i&&n){var s=n.Assets.FileUploader();s?.uploadFile({dataTransfer:{files:[i]}},function(c){var u=c&&c.data&&c.data[0],d=u&&((0,M.isString)(u)?u:u.src);d&&t.set({src:d})}),t.set("file","")}}},r.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){o.prototype.updateClasses.call(this);var e=this,t=e.el,n=e.classEmpty,i=e.model,s=i.getSrcResult()&&!i.isDefaultSrc(),c=s?"remove":"add";t.classList[c](n)},r.prototype.onActive=function(e){e?.stopPropagation();var t=this,n=t.em,i=t.model,s=n?.Assets;s&&i.get("editable")&&s.open({select:function(c,u){i.set({src:c.getSrc()}),u&&s.close()},target:i,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var e=this.model.getSrcResult({fallback:!0});e&&(this.el.src=e)},r.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},r.prototype.noDrag=function(e){return e.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,t=e.$el,n=e.model,i=t.attr("class")||"";return!n.get("src")&&t.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},r}(Kn),yh=ux,dx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ac=function(){return ac=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ac.apply(this,arguments)},ku=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?i(h.value):n(h.value).then(c,u)}d((t=t.apply(o,r||[])).next())})},Pu=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(o,e)}catch(h){d=[6,h],n=0}finally{t=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},fx=function(o){dx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(e){o.prototype.initialize.call(this,e),(0,M.bindAll)(this,"disableEditing","onDisable");var t=this.model,n=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=n?.RichTextEditor},r.prototype.updateContentText=function(e,t,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var e=this,t=e.model,n=e.rteEnabled,i=e.em,s=i?.getEditing(),c=s===t,u=!0,d=!1,h;if((n||!t.get("editable")||c||(d=t.isChildOf("text")))&&(u=!1,d&&!t.get("textable"))){for(var v=t.parent();v&&!v.isInstanceOf("text");)v=v.parent();v&&v.get("editable")?h=v:u=!0}return{result:u,delegate:h}},r.prototype.onActive=function(e){return ku(this,void 0,void 0,function(){var t,n,i,s,c,u,d,h,v,m,_;return Pu(this,function(w){switch(w.label){case 0:return t=this,n=t.rte,i=t.em,s=this.canActivate(),c=s.result,u=s.delegate,c?((_=e?.stopPropagation)===null||_===void 0||_.call(e),d=this,[4,this.getContent()]):(u&&((m=e?.stopPropagation)===null||m===void 0||m.call(e),i.setSelected(u),u.trigger("active",e)),[2]);case 1:if(d.lastContent=w.sent(),!n)return[3,5];w.label=2;case 2:return w.trys.push([2,4,,5]),h=this,[4,n.enable(this,this.activeRte,{event:e})];case 3:return h.activeRte=w.sent(),[3,5];case 4:return v=w.sent(),i.logError(v),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(e){this.disableEditing(e)},r.prototype.disableEditing=function(){return ku(this,arguments,void 0,function(e){var t,n,i,s,c,u,d,h;return e===void 0&&(e={}),Pu(this,function(v){switch(v.label){case 0:if(t=this,n=t.model,i=t.rte,s=t.activeRte,c=t.em,u=n&&n.get("editable"),!i)return[3,8];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,i.disable(this,s,e)];case 2:return v.sent(),[3,4];case 3:return d=v.sent(),c.logError(d),[3,4];case 4:return h=u,h?[4,this.getContent()]:[3,6];case 5:h=v.sent()!==this.lastContent,v.label=6;case 6:return h?[4,this.syncContent(e)]:[3,8];case 7:v.sent(),this.lastContent="",v.label=8;case 8:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return ku(this,void 0,void 0,function(){var e,t,n,i;return Pu(this,function(s){switch(s.label){case 0:return e=this,t=e.rte,n=e.activeRte,i="",t?[4,t.getContent(this,n)]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return[2,i]}})})},r.prototype.syncContent=function(){return ku(this,arguments,void 0,function(e){var t,n,i,s,c,u,d;return e===void 0&&(e={}),Pu(this,function(h){switch(h.label){case 0:return t=this,n=t.model,i=t.rte,s=t.rteEnabled,!s&&!e.force?[2]:[4,this.getContent()];case 1:return c=h.sent(),u=n.components(),d=ac({fromDisable:1},e),n.set("content","",d),i?.customRte&&!i.customRte.parseContent?(u.length&&u.reset(void 0,ac(ac({},e),{keepIds:Ns(u)})),n.set("content",c,d)):u.resetFromString(c,e),[2]}})})},r.prototype.insertComponent=function(e,t){var n;t===void 0&&(t={});var i=this,s=i.model,c=i.el,u=c.ownerDocument,d=u.getSelection();if(d?.rangeCount){var h=d.getRangeAt(0),v=h.startContainer,m=h.startOffset,_=(0,Le.getComponentModel)(v),w=[];if(_&&(!((n=_.is)===null||n===void 0)&&n.call(_,"textnode"))){var x=_.collection;x.forEach(function(U){if(U===_){var R="textnode",W=t.useDomContent?v.textContent||"":U.content;w.push({type:R,content:W.slice(0,m)}),w.push(e),w.push({type:R,content:W.slice(m)})}else w.push(U)});var E=w.filter(Boolean),F=E.indexOf(e);return x.reset(E,t),x.at(F)}}return s.append(e,t)},r.prototype.onInput=function(){var e=this.em,t="component",n=["".concat(t,":update"),"".concat(t,":input")].join(" ");e&&e.trigger(n,this.model)},r.prototype.disablePropagation=function(e){e.stopPropagation()},r.prototype.toggleEvents=function(e){var t=this,n=t.em,i=t.model,s=t.$el,c={on:ot.on,off:ot.AU},u=e?"on":"off";n.setEditing(e?this:!1),this.rteEnabled=!!e;var d=[this.el.ownerDocument,document];if(c.off(d,"mousedown",this.onDisable),c[u](d,"mousedown",this.onDisable),n[u]("toolbar:run:before",this.onDisable),i&&(i[u]("removed",this.onDisable),i.trigger("rte:".concat(e?"enable":"disable"))),s?.off("mousedown",this.disablePropagation),s&&s[u]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var h=this.el;h;)h.draggable=!e,h=h.parentNode,h&&h.tagName=="BODY"&&(h=0)},r}(Kn),ky=fx,px=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hx=function(o){px(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.render=function(){return o.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r}(ky),Py=hx,gx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vx=function(o){gx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Py),mx=vx,yx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_x=function(o){yx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},r.prototype.render=function(){return o.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r}(yh),bx=_x,wx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cx=function(o){wx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r}(Kn),xx=Cx,Ax=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sx=function(o){Ax(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},r}(Kn),Jm=Sx,Ex=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tx=function(o){Ex(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Kn),Ox=Tx,Dx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mx=function(o){Dx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Kn),kx=Mx,Px=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ix=function(o){Px(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Kn),Lx=Ix,Vx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rx=function(o){Vx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Kn),Fx=Rx,Nx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hx=function(o){Nx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Kn),Bx=Hx,jx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zx=function(o){jx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{}},r}(Kn),Ux=zx,Wx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gx=function(o){Wx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){Kn.prototype.initialize.apply(this,arguments);var e=this.model,t=["loop","autoplay","controls","color","rel","modestbranding","poster"],n=t.map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,n,this.updateVideo)},r.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},r.prototype.updateSrc=function(){var e=this,t=e.model,n=e.videoEl;if(n){var i=t.get("provider"),s=t.get("src");switch(i){case"yt":s=t.getYoutubeSrc();break;case"ytnc":s=t.getYoutubeNoCookieSrc();break;case"vi":s=t.getVimeoSrc();break}n.src=s}},r.prototype.updateVideo=function(){var e=this,t=e.model,n=e.videoEl,i=t.get("provider");switch(i){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(n){var s=n;s.loop=t.get("loop"),s.autoplay=t.get("autoplay"),s.controls=t.get("controls"),s.poster=t.get("poster")}}},r.prototype.renderByProvider=function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t,t},r.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},r.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},r.prototype.render=function(){Kn.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},r}(yh),Yx=Gx,Zx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kx=function(o){Zx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r}(Kn),qx=Kx,$x=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vd=function(){return vd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},vd.apply(this,arguments)},Qx=function(o){$x(r,o);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.apply(this,e)||this;n.refreshDbn=(0,M.debounce)(function(){return n.refresh()},0);var i=n.events;return n.on(i.update,n.onUpdate),n.on(i.updateInside,n.onUpdateDeep),n}return r.prototype.removeChildren=function(e,t,n){var i;n===void 0&&(n={}),o.prototype.removeChildren.call(this,e,t,n),(i=ki(e))===null||i===void 0||i.forEach(function(s){return fh(s,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},r.prototype.onAdd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.prototype.onAdd.apply(this,e);var n=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:n})},r.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},r.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},r.prototype.refresh=function(){var e=this,t=e.em,n=e.events;t.trigger(n.symbol)},r.prototype.__trgEvent=function(e,t,n){n===void 0&&(n=!1);var i=this,s=i.em,c=i.events,u=n?c.symbolInstance:c.symbolMain;s.trigger(e,t),s.trigger(u,vd(vd({},t),{event:e})),this.refreshDbn()},r}(hc),Xx=Qx,Jx=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tr=function(){return Tr=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Tr.apply(this,arguments)},e3=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},t3=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},zu=function(o){return o[o.InvalidSource=0]="InvalidSource",o[o.SourceReject=1]="SourceReject",o[o.TargetReject=2]="TargetReject",o}(zu||{}),n3=function(o){Jx(r,o);function r(e){var t=o.call(this,e,"DomComponents",new hc(void 0,{em:e}))||this;t.componentTypes=[{id:"cell",model:VC,view:kx},{id:"row",model:WC,view:Bx},{id:"table",model:MC,view:Ux},{id:"thead",model:jC,view:Fx},{id:"tbody",model:mh,view:Ox},{id:"tfoot",model:NC,view:Lx},{id:"map",model:_C,view:bx},{id:"link",model:vC,view:Py},{id:"label",model:pC,view:mx},{id:"video",model:ZC,view:Yx},{id:"image",model:gh,view:yh},{id:"script",model:CC,view:xx},{id:"svg-in",model:TC,view:Jm},{id:"svg",model:Oy,view:Jm},{id:"iframe",model:aC,view:lx},{id:"comment",model:rC,view:ox},{id:"textnode",model:Ty,view:My},{id:Ys,model:Iw,view:Kn},{id:"wrapper",model:$C,view:qx},{id:"text",model:vh,view:ky},{id:"default",model:Mr,view:Kn}],t.componentsById={},t.Component=Mr,t.Components=hc,t.ComponentView=Kn,t.ComponentsView=Dy,t.storageKey="components",t.keySymbols="symbols",t.events=Dr.I;var n=t.config;t.symbols=new Xx([],{em:e,config:n,domc:t}),e&&(t.config.components=e.config.components||t.config.components);for(var i in Km)i in t.config||(t.config[i]=Km[i]);var s=t.config.pStylePrefix;if(s&&(t.config.stylePrefix=s+t.config.stylePrefix),e){e.get("Parser").compTypes=t.componentTypes,e.on("change:componentHovered",t.componentHovered,t);var c=e.get("selected");e.listenTo(c,"add",function(u,d,h){return t.selectAdd(c.getComponent(u),h)}),e.listenTo(c,"remove",function(u,d,h){return t.selectRemove(c.getComponent(u),h)})}return t}return r.prototype.postLoad=function(){var e=this,t=e.em,n=e.symbols,i=t.UndoManager;i.add(n)},r.prototype.load=function(e){var t=this,n=this.loadProjectData(e,{onResult:function(i){var s=t.getWrapper();if(s||(t.em.Pages.add({},{select:!0}),s=t.getWrapper()),(0,M.isArray)(i))i.length&&s.components(i);else{var c=i.components,u=c===void 0?[]:c,d=e3(i,["components"]);s.set(d),s.components(u)}}});return this.symbols.reset(e[this.keySymbols]||[]),n},r.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},r.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),t=e?.getMainFrame();return t?.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var e=this.getWrapper();return e?.components()},r.prototype.addComponent=function(e,t){return t===void 0&&(t={}),this.getComponents().add(e,t)},r.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},r.prototype.clear=function(e){e===void 0&&(e={});var t=this.getComponents();return t?.filter(Boolean).forEach(function(n){return n.remove(e)}),this},r.prototype.setComponents=function(e,t){t===void 0&&(t={}),this.clear(t).addComponent(e,t)},r.prototype.addType=function(e,t){var n=this.em,i=t.model,s=i===void 0?{}:i,c=t.view,u=c===void 0?{}:c,d=t.isComponent,h=t.extend,v=t.extendView,m=t.extendFn,_=m===void 0?[]:m,w=t.extendFnView,x=w===void 0?[]:w,E=t.block,F=this.getType(e),U=this.getType(h),R=this.getType(v),W=U||F||this.getType("default"),de=W.model,Ae=R?R.view:W.view,Te=function(z,j,oe){return z.reduce(function(D,be){var we=j[be],Re=oe.prototype[be];return we&&Re&&(D[be]=function(){for(var at=[],ct=0;ct<arguments.length;ct++)at[ct]=arguments[ct];Re.bind(this).apply(void 0,at),we.bind(this).apply(void 0,at)}),D},{})};if(typeof s=="object"){var pe={defaults:s.defaults};delete s.defaults;var K=new Set(de.typeExtends);K.add(de.getDefaults().type),t.model=de.extend(Tr(Tr({},s),Te(_,s,de)),{typeExtends:K,isComponent:F&&!U&&!d?de.isComponent:d||function(){return 0}}),Object.defineProperty(t.model.prototype,"defaults",{get:function(){return Tr(Tr({},(0,M.result)(de.prototype,"defaults")||{}),(0,M.result)(pe,"defaults")||{})}})}if(typeof u=="object"&&(t.view=Ae.extend(Tr(Tr({},u),Te(x,u,Ae)))),F?(F.model=t.model,F.view=t.view):(t.id=e,this.componentTypes.unshift(t)),E){var he={id:e,label:e,content:{type:e}},B=E===!0?he:Tr(Tr({},he),E);n.Blocks.add(B.id||e,B)}var L="component:type:".concat(F?"update":"add");return n?.trigger(L,F||t),this},r.prototype.getType=function(e){for(var t=this.componentTypes,n=0;n<t.length;n++){var i=t[n].id;if(i==e)return t[n]}},r.prototype.removeType=function(e){var t=this.componentTypes,n=this.getType(e);if(n){var i=t.indexOf(n);return t.splice(i,1),n}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(e,t){var n=this;t===void 0&&(t={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return n.em.trigger(i,e,t)}))},r.prototype.selectRemove=function(e,t){var n=this;if(t===void 0&&(t={}),e){var i=this.em;e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(s){return n.em.trigger(s,e,t)})}},r.prototype.componentHovered=function(){var e=this.em,t=e.get("componentHovered"),n=e.previous("componentHovered"),i="hovered";n&&n.get("status")==i&&n.set({status:"",state:""}),t&&(0,M.isEmpty)(t.get("status"))&&t.set("status",i)},r.prototype.getShallowWrapper=function(){var e=this,t=e.shallow,n=e.em;if(!t&&n){var i=n.shallow;if(!i)return;var s=i.Components;if(s.componentTypes=this.componentTypes,t=s.getWrapper(),t){var c=[ju,Kp].join(" ");t.on(c,(0,M.debounce)(function(){return t?.components("")},100))}this.shallow=t}return t},r.prototype.isComponent=function(e){return(0,Le.isComponent)(e)},r.prototype.addSymbol=function(e){if(!((0,M.isSymbol)(e)&&!Ya(e))){var t=e.clone({symbol:!0});return Wu(t)&&this.symbols.add(t),this.em.trigger("component:toggled"),t}},r.prototype.getSymbols=function(){return t3([],this.symbols.models,!0)},r.prototype.detachSymbol=function(e){Gu(e)&&fh(e)},r.prototype.getSymbolInfo=function(e,t){t===void 0&&(t={});var n=Wu(e),i=Za(e),s=!!i,c=ki(n?e:i)||[],u=i||(n?e:void 0),d=Wa(e,{changed:t.withChanges}),h=n||s,v=h&&Ya(e);return{isSymbol:h,isMain:n,isInstance:s,isRoot:v,main:u,instances:c,relatives:d||[]}},r.prototype.canMove=function(e,t,n){var i={result:!1,reason:zu.InvalidSource,target:e,source:null};if(!t||!e)return i;var s=(0,Le.isComponent)(t)?t:null;if(!s){var c=this.getShallowWrapper();s=c?.append(t)[0]||null}if(i.source=s,!s)return i;var u=s.get("draggable");if((0,M.isFunction)(u))u=!!u(s,e,n);else{var d=e.getEl();u=(0,M.isArray)(u)?u.join(","):u,u=(0,M.isString)(u)?d?.matches(u):u}if(!u)return Tr(Tr({},i),{reason:zu.SourceReject});var h=e.get("droppable");if((0,M.isFunction)(h))h=!!h(s,e,n);else if(h===!1&&e.isInstanceOf("text")&&s.get("textable"))h=!0;else{var d=s.getEl();h=(0,M.isArray)(h)?h.join(","):h,h=(0,M.isString)(h)?d?.matches(h):h}var v=[e].concat(e.parents()).indexOf(s)>-1;return!h||v?Tr(Tr({},i),{reason:zu.TargetReject}):Tr(Tr({},i),{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(e){return this.componentsById[e]||null},r.prototype.destroy=function(){var e,t=this.allById();Object.keys(t).forEach(function(n){return t[n]&&t[n].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return n={}})},r}(da),r3=n3,i3={stylePrefix:"css-",rules:[]},o3=i3,a3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),s3=Number.MAX_VALUE,l3=function(o){var r=/(-?\d*\.?\d+)\w{0,}/.exec(o);return r?r[0]:""},c3=function(o){a3(r,o);function r(){var e=o.call(this)||this;return(0,M.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return r.prototype.buildFromModel=function(e,t){var n=this;t===void 0&&(t={});var i="",s=this.em,c=s&&s.getConfig().avoidInlineStyle,u=e.styleToString(),d=e.classes;this.ids.push("#".concat(e.getId())),d.forEach(function(v){return n.compCls.push(v.getFullName())}),!c&&u&&(i="#".concat(e.getId(),"{").concat(u,"}"));var h=e.components();return h.forEach(function(v){return i+=n.buildFromModel(v,t)}),i},r.prototype.build=function(e,t){var n=this;t===void 0&&(t={});var i=t.json,s=t.em,c=t.cssc||s?.Css;this.em=s,this.compCls=[],this.ids=[],this.model=e;var u=[],d=e?this.buildFromModel(e,t):"",h=(0,M.isUndefined)(t.clearStyles)&&s?s.getConfig().clearStyles:t.clearStyles;if(c){var v=t.rules||c.getAll(),m={},_=[];t.onlyMatched&&e&&(0,Le.hasWin)()&&(v=this.matchedRules(e,v)),v.forEach(function(w){var x=w.getAtRule();if(x){var E=m[x];E?E.push(w):m[x]=[w];return}var F=n.buildFromRule(w,_,t);i?u.push(F):d+=F}),this.sortMediaObject(m).forEach(function(w){var x="",E=w.key,F=w.value;F.forEach(function(U){var R=n.buildFromRule(U,_,t);U.get("singleAtRule")?d+="".concat(E,"{").concat(R,"}"):x+=R,i&&u.push(R)}),x&&(d+="".concat(E,"{").concat(x,"}"))}),s&&h&&v.remove&&v.remove(_)}return i?u.filter(function(w){return w}):d},r.prototype.buildFromRule=function(e,t,n){var i=this,s;n===void 0&&(n={});var c="",u=this.model,d=e.selectorsToString({skipAdd:1}),h=e.get("selectorsAdd"),v=e.get("singleAtRule"),m;if((s=e.get("selectors"))===null||s===void 0||s.forEach(function(w){var x=w.getFullName();(i.compCls.indexOf(x)>=0||i.ids.indexOf(x)>=0||n.keepUnusedStyles)&&(m=1)}),d&&m||h||v||!u){var _=e.getDeclaration({body:1});_&&(n.json?c=e:c+=_)}else t.push(e);return c},r.prototype.matchedRules=function(e,t){var n=this,i=e.getEl(),s=[];return t.forEach(function(c){try{c.selectorsToString().split(",").some(function(u){return i?.matches(n.__cleanSelector(u))})&&s.push(c)}catch{}}),e.components().forEach(function(c){s=s.concat(n.matchedRules(c,t))}),s=s.filter(function(c,u){return s.indexOf(c)===u}),s},r.prototype.getQueryLength=function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):s3},r.prototype.sortMediaObject=function(e){var t=this;e===void 0&&(e={});var n=[];return(0,M.each)(e,function(i,s){return n.push({key:s,value:i})}),n.sort(function(i,s){var c=[i.key,s.key].every(function(h){return h.indexOf("min-width")!==-1}),u=c?i.key:s.key,d=c?s.key:i.key;return t.getQueryLength(u)-t.getQueryLength(d)})},r.prototype.sortRules=function(e,t){var n=function(u){return u.get("mediaText")||""},i=[n(e),n(t)].every(function(u){return u.indexOf("min-width")!==-1}),s=n(i?e:t),c=n(i?t:e);return this.getQueryLength(s)-this.getQueryLength(c)},r.prototype.__cleanSelector=function(e){return e.split(" ").map(function(t){return t.split(":")[0]}).join(" ")},r}(tt.Kx),u3=c3,d3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sc=function(){return sc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},sc.apply(this,arguments)},f3=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Ap=((0,Le.hasWin)()?window:{}).CSS,p3=function(o){d3(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e)||this;return n.config=e||{},n.opt=t,n.em=t.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n}return r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(e,t){var n=this.em,i=this.changedAttributes();i&&!(0,Le.isEmptyObj)(i)&&n?.changesUp(t)},r.prototype.clone=function(){var e=sc({},this.opt),t=sc({},this.attributes);return t.selectors=this.get("selectors").map(function(n){return n.clone()}),new this.constructor(t,e)},r.prototype.ensureSelectors=function(e,t,n){var i=this.em,s=i?.Selectors,c=[this,"change:selectors",this.ensureSelectors],u=this.getSelectors();if(this.stopListening.apply(this,c),u.models&&(u=f3([],u.models,!0)),u=(0,M.isString)(u)?[u]:u,Array.isArray(u)){var d=u.filter(function(h){return h}).map(function(h){return s?s.add(h):h});u=new ca(d)}this.set("selectors",u,n),this.listenTo.apply(this,c)},r.prototype.getAtRule=function(){var e=this.get("atRuleType"),t=this.get("mediaText"),n=e?"@".concat(e):t?"@media":"";return n+(t&&n?" ".concat(t):"")},r.prototype.selectorsToString=function(e){e===void 0&&(e={});var t=[],n=this.get("state"),i=this.get("selectorsAdd"),s={escape:function(d){return Ap&&Ap.escape?Ap.escape(d):d}},c=this.getSelectors().getFullString(0,s),u=n&&!e.skipState?":".concat(n):"";return c&&t.push("".concat(c).concat(u)),i&&!e.skipAdd&&t.push(i),t.join(", ")},r.prototype.getDeclaration=function(e){e===void 0&&(e={});var t="",n=this.attributes.important,i=this.selectorsToString(e),s=this.styleToString(sc({important:n},e)),c=this.get("singleAtRule");return(i||c)&&(s||e.allowEmpty)&&(t=c?s:"".concat(i,"{").concat(s,"}")),t},r.prototype.getDevice=function(){var e=this.em,t=this.attributes,n=t.atRuleType,i=t.mediaText,s=e?.Devices.getDevices()||[],c=s.filter(function(u){return u.getWidthMedia()===""})[0];return n!=="media"||!i?c||null:s.filter(function(u){return u.getWidthMedia()===l3(i)})[0]||null},r.prototype.getState=function(){var e=this.em,t=this.get("state"),n=e?.Selectors.getStates()||[];return n.filter(function(i){return i.getName()===t})[0]||null},r.prototype.getComponent=function(){var e,t=this.getSelectors(),n=t.length==1&&t.at(0),i=n&&n.isId()&&n.get("name");return i&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(i))||null},r.prototype.toCSS=function(e){e===void 0&&(e={});var t="",n=this.getAtRule(),i=this.getDeclaration(e);return(i||e.allowEmpty)&&(t=i),n&&t&&(t="".concat(n,"{").concat(t,"}")),t},r.prototype.toJSON=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=tt.Kx.prototype.toJSON.apply(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var s=this.defaults();(0,M.forEach)(s,function(c,u){i[u]===c&&delete i[u]}),delete i.style.__p,(0,M.isEmpty)(i.selectors)&&delete i.selectors,(0,M.isEmpty)(i.style)&&delete i.style}return i},r.prototype.compare=function(e,t,n,i){var s;i===void 0&&(i={});var c=t||"",u=n||"",d=i.selectorsAdd||"",h=i.atRuleType||"",v=!(0,M.isArray)(e)&&!e.models?[e]:e.models||e;u&&!h&&(h="media");var m=v.map(function(E){return E.getFullName()}),_=(s=this.get("selectors"))===null||s===void 0?void 0:s.map(function(E){return E.getFullName()}),w=m.slice().sort(),x=_.slice().sort();return!(m.length!==_.length||!w.every(function(E,F){return E===x[F]})||this.get("state")!==c||this.get("mediaText")!==u||this.get("selectorsAdd")!==d||this.get("atRuleType")!==h)},r}(vy),Iy=p3,h3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ly=function(o){h3(r,o);function r(e,t){var n=o.call(this,e)||this;return n.editor=t?.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return r.prototype.toJSON=function(e){var t=tt.pM.prototype.toJSON.call(this,e);return t.filter(function(n){return n.style&&!n.shallow})},r.prototype.onAdd=function(e,t,n){e.ensureSelectors(e,t,n)},r.prototype.onRemove=function(e){var t=this.editor;t.stopListening(e),t.UndoManager.remove(e)},r.prototype.add=function(e,t){return t===void 0&&(t={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),t.em=this.editor,tt.pM.prototype.add.apply(this,[e,t])},r}(tt.pM),g3=Ly;Ly.prototype.model=Iy;var v3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ja=function(){return ja=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ja.apply(this,arguments)},m3=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},y3=function(o){v3(r,o);function r(e){var t=o.call(this,e,"CssComposer",null,{},o3)||this;t.Selectors=ca,t.storageKey="styles";var n=t.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),n.rules=t.em.config.style||n.rules||"",t.rules=new g3([],n),t}return r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},r.prototype.postLoad=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.get("UndoManager");t&&t.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},r.prototype.add=function(e,t,n,i,s){i===void 0&&(i={}),s===void 0&&(s={});var c=t||"",u=n||"",d=ja({},i),h=this.get(e,c,u,d);return h&&h.config&&!h.config.singleAtRule||(d.state=c,d.mediaText=u,d.selectors=[],u&&!d.atRuleType&&(d.atRuleType="media"),h=new Iy(d,this.config),h.get("selectors").add(e,s),this.rules.add(h,s)),h},r.prototype.get=function(e,t,n,i){var s=e;if((0,M.isString)(e)){var c=this.em.Selectors,u=e.split(",")[0].trim(),d=this.em.Parser.parserCss.checkNode({selectors:u})[0];s=c.get(d.selectors)}return this.rules.find(function(h){return h.compare(s,t,n,i)})||null},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=this.em,s=[];(0,M.isString)(e)&&(e=i.Parser.parseCss(e));for(var c=e instanceof Array?e:[e],u=0,d=c.length;u<d;u++){var h=c[u]||{};if(h.selectors){var v=i?.Selectors;v||console.warn("Selector Manager not found");for(var m=h.selectors,_=m instanceof Array?m:[m],w=[],x=0,E=_.length;x<E;x++){var F=v.add(_[x]);w.push(F)}var U=this.get(w,h.state,h.mediaText,h),R=this.add(w,h.state,h.mediaText,h,t),W=!U||!t.avoidUpdateStyle,de=h.style||{};if((0,Le.isObject)(n)&&R.set(n,t),W){var Ae=t.extend?ja(ja({},R.get("style")),de):de;R.set("style",Ae,t)}s.push(R)}}return s},r.prototype.addRules=function(e){return this.addCollection(e)},r.prototype.setRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.atRuleType,s=n.atRuleParams,c=this.em.Parser.parserCss.checkNode({selectors:e,style:t})[0],u=c.state,d=c.selectorsAdd,h=this.em.Selectors,v=h.add(c.selectors),m=this.add(v,u,s,{selectorsAdd:d,atRule:i});return n.addStyles?m.addStyle(t,n):m.setStyle(t,n),m},r.prototype.getRule=function(e,t){t===void 0&&(t={});var n=this.em,i=n.Selectors,s=n.Parser.parserCss.checkNode({selectors:e})[0],c=i.get(s.selectors),u=s.state,d=s.selectorsAdd,h=t.atRuleType,v=t.atRuleParams;return c?this.get(c,u,v,{selectorsAdd:d,atRuleType:h}):void 0},r.prototype.getRules=function(e){var t=this.getAll();if(!e)return m3([],t.models,!0);var n={sort:!0},i=(0,M.isString)(e)?e.split(",").map(function(c){return c.trim()}):e,s=t.filter(function(c){return i.indexOf(c.getSelectors().getFullString(null,n))>=0});return s},r.prototype.setIdRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.addOpts,s=i===void 0?{}:i,c=n.mediaText,u=n.state||"",d=(0,M.isUndefined)(c)?this.em.getCurrentMedia():c,h=this.em.Selectors,v=h.add({name:e,type:Yr.TYPE_ID},s),m=this.add(v,u,d,{},s);return m.setStyle(t,ja(ja({},n),s)),m},r.prototype.getIdRule=function(e,t){t===void 0&&(t={});var n=t.mediaText,i=t.state||"",s=(0,M.isUndefined)(n)?this.em.getCurrentMedia():n,c=this.em.Selectors.get(e,Yr.TYPE_ID);return c&&this.get(c,i,s)},r.prototype.setClassRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.state||"",s=n.mediaText||this.em.getCurrentMedia(),c=this.em.Selectors,u=c.add({name:e,type:Yr.TYPE_CLASS}),d=this.add(u,i,s);return d.setStyle(t,n),d},r.prototype.getClassRule=function(e,t){t===void 0&&(t={});var n=t.state||"",i=t.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors.get(e,Yr.TYPE_CLASS);return s&&this.get(s,n,i)},r.prototype.remove=function(e,t){var n=(0,M.isString)(e)?this.getRules(e):e,i=this.getAll().remove(n,t);return(0,M.isArray)(i)?i:[i]},r.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},r.prototype.getComponentRules=function(e,t){t===void 0&&(t={});var n=t.state,i=t.mediaText,s=t.current;s&&(n=this.em.get("state")||"",i=this.em.getCurrentMedia());var c=e.getId(),u=this.getAll().filter(function(d){return!(0,M.isUndefined)(n)&&d.get("state")!==n||!(0,M.isUndefined)(i)&&d.get("mediaText")!==i?!1:d.getSelectorsString()==="#".concat(c)});return u},r.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new py({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.checkId=function(e,t){t===void 0&&(t={});var n=t.idMap,i=n===void 0?{}:n,s=[];if(!Object.keys(i).length)return s;var c=Array.isArray(e)?e:[e];return c.forEach(function(u){var d=u.selectors;if(d&&d.length==1){var h=d[0];if((0,M.isString)(h)){if(h[0]==="#"){var v=h.substring(1),m=i[v];v&&m&&(d[0]="#".concat(m),s.push(u))}}else if(h.name&&h.type===Yr.TYPE_ID){var m=i[h.name];m&&(h.name=m,s.push(u))}}}),s},r.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},r}(da),_3=y3,b3={appendTo:"",blocks:[],appendOnClick:!1,custom:!1},w3=b3,C3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),x3=function(o){C3(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(r.prototype,"category",{get:function(){var e=this.get("category");return e instanceof mc?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,M.isFunction)(e?.get)?e.get("label"):e?.label?e?.label:e},r}(tt.Kx),Vy=x3,A3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ry=function(o){A3(r,o);function r(e,t){var n=o.call(this,e)||this;return n.em=t.em,n.on("add",n.handleAdd),n}return r.prototype.getCategories=function(){return this.em.Blocks.getCategories()},r.prototype.handleAdd=function(e){this.initCategory(e)},r}(Ay),Iu=Ry;Ry.prototype.model=Vy;var Uu=function(o){return o.add="block:add",o.remove="block:remove",o.removeBefore="block:remove:before",o.update="block:update",o.dragStart="block:drag:start",o.drag="block:drag",o.dragEnd="block:drag:stop",o.categoryUpdate="block:category:update",o.custom="block:custom",o.all="block",o}(Uu||{});var S3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),E3=function(o){S3(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e)||this,i=n.model;return n.em=t.em,n.config=t,n.endDrag=n.endDrag.bind(n),n.ppfx=t.pStylePrefix||"",n.listenTo(i,"destroy remove",n.remove),n.listenTo(i,"change",n.render),n}return r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(e){var t=this,n=t.config,i=t.model,s=t.em,c=i.get("onClick")||n.appendOnClick;if(s.trigger("block:click",i,e),c){if((0,M.isFunction)(c))return c(i,s?.getEditor(),{event:e})}else return;var u=n.getSorter(),d=i.get("content"),h=s.getSelected();u.setDropContent(d);var v,m,_;if(h)if(m=u.validTarget(h.getEl(),d),m.valid)v=h;else{var w=h.parent();w&&(m=u.validTarget(w.getEl(),d),m.valid&&(v=w,_=w.components().indexOf(h)+1))}if(!v){var x=s.getWrapper();m=u.validTarget(x.getEl(),d),m.valid&&(v=x)}var E=v&&v.append(d,{at:_})[0];E&&s.setSelected(E,{scroll:1})},r.prototype.startDrag=function(e){var t=this,n=t.config,i=t.em,s=t.model,c=s.get("disable");if(!(e.button!==0||!n.getSorter||this.el.draggable||c)){i.refreshCanvas();var u=n.getSorter();u.__currentBlock=s,u.setDragHelper(this.el,e),u.setDropContent(this.model.get("content")),u.startSort(this.el),(0,ot.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},r.prototype.handleDrag=function(e){this.__getModule().__drag(e)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){(0,ot.AU)(document,"mouseup",this.endDrag);var e=this.config.getSorter();e.moved=0,e.endMove()},r.prototype.render=function(){var e,t=this,n=t.em,i=t.el,s=t.$el,c=t.ppfx,u=t.model,d=u.get("disable"),h=u.get("attributes")||{},v=h.class||"",m="".concat(c,"block"),_=n&&n.t("blockManager.labels.".concat(u.id))||u.get("label"),w=u.get("render"),x=u.get("media"),E=d?"".concat(m,"--disable"):"".concat(c,"four-color-h");s.attr(h),i.className="".concat(v," ").concat(m," ").concat(c,"one-bg ").concat(E).trim(),i.innerHTML=`
      `.concat(x?'<div class="'.concat(m,'__media">').concat(x,"</div>"):"",`
      <div class="`).concat(m,'-label">').concat(_,`</div>
    `),i.title=h.title||((e=i.textContent)===null||e===void 0?void 0:e.trim()),i.setAttribute("draggable","".concat(!!((0,Le.hasDnd)(n)&&!d)));var F=w&&w({el:i,model:u,className:m,prefix:c});return F&&(i.innerHTML=F),this},r}(tt.Ss),T3=E3,O3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),D3=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},M3=function(o){O3(r,o);function r(e,t,n){var i=o.call(this,e)||this;i.config=t;var s=t.pStylePrefix||"";return i.em=t.em,i.catName=n,i.pfx=s,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(s,"caret-icon"),i.activeClass="".concat(s,"open"),i.className="".concat(s).concat(n,"-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(e){var t=e.pfx,n=e.label,i=e.catName;return hi(e0||(e0=D3([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),t,t,n,t,i)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},r.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},r.prototype.append=function(e){this.getTypeEl().appendChild(e)},r.prototype.render=function(){var e=this,t=e.em,n=e.el,i=e.$el,s=e.model,c=e.pfx,u=e.catName,d=t.t("".concat(u,"Manager.categories.").concat(s.id))||s.get("label");return n.innerHTML=this.template({pfx:c,label:d,catName:u}),i.addClass(this.className),i.css({order:s.get("order")}),this.updateVisibility(),this},r}(tt.Ss),Fy=M3,e0,k3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),md=function(){return md=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},md.apply(this,arguments)},P3=function(o){k3(r,o);function r(e,t){var n=o.call(this,e)||this;n.renderedCategories=new Map,(0,M.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=t||{},n.categories=e.categories||"";var i=n.config.pStylePrefix||"";n.ppfx=i,n.noCatClass="".concat(i,"blocks-no-cat"),n.blockContClass="".concat(i,"blocks-c"),n.catsClass="".concat(i,"block-categories");var s=n.collection;return n.listenTo(s,"add",n.addTo),n.listenTo(s,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=md(md({},this.config),e)},r.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var t=e.Utils,n=e.Canvas;this.sorter=new t.Sorter({container:n.getBody(),placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:n.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:e,canvasRelative:1})}return this.sorter}},r.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},r.prototype.onMove=function(e){this.__getModule().__drag(e)},r.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},r.prototype.addTo=function(e){this.add(e)},r.prototype.add=function(e,t){var n=this,i=n.config,s=n.renderedCategories,c=e.get("attributes"),u=new T3({model:e,attributes:c},i),d=u.render().el,h=e.parent.initCategory(e);if(h&&this.categories&&!i.ignoreCategories){var v=h.getId(),m=this.getCategoriesEl(),_=s.get(v);!_&&m&&(_=new Fy({model:h},i,"block").render(),s.set(v,_),m.appendChild(_.el)),_?.append(d);return}t?t.appendChild(d):this.append(d)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},r.prototype.render=function(){var e=this,t=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(s){return e.add(s,n)}),this.append(n);var i="".concat(this.blockContClass,"s ").concat(t,"one-bg ").concat(t,"two-color");return this.$el.addClass(i),this.rendered=!0,this},r}(tt.Ss),t0=P3,I3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aa=function(){return aa=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},aa.apply(this,arguments)},L3=function(o){I3(r,o);function r(e){var t,n=o.call(this,e,"BlockManager",new Iu(((t=e.config.blockManager)===null||t===void 0?void 0:t.blocks)||[],{em:e}),Uu,w3)||this;return n.events=Uu,n.Block=Vy,n.Blocks=Iu,n.Category=mc,n.Categories=Yu,n.storageKey="",n.blocks=n.all,n.blocksVisible=new Iu(n.blocks.models,{em:e}),n.categories=new Yu([],{em:e,events:{update:Uu.categoryUpdate}}),n.blocks.on("add",function(i){return n.blocksVisible.add(i)}),n.blocks.on("remove",function(i){return n.blocksVisible.remove(i)}),n.blocks.on("reset",function(i){return n.blocksVisible.reset(i.models)}),n.__onAllEvent=(0,M.debounce)(function(){return n.__trgCustom()},0),n}return r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:t.container,dragStart:function(n,i){return e.startDrag(n,i)},drag:function(n){return e.__drag(n)},dragStop:function(n){return e.endDrag(n)}}},r.prototype.__startDrag=function(e,t){var n=this,i=n.em,s=n.events,c=n.blocks,u=e.getContent?e.getContent():e;this._dragBlock=e,i.set({dragResult:null,dragContent:u}),[i,c].map(function(d){return d.trigger(s.dragStart,e,t)})},r.prototype.__drag=function(e){var t=this,n=t.em,i=t.events,s=t.blocks,c=this._dragBlock;[n,s].map(function(u){return u.trigger(i.drag,c,e)})},r.prototype.__endDrag=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.events,s=t.blocks,c=this._dragBlock,u=e.component||n.get("dragResult");if(delete this._dragBlock,u&&c){var d="activeOnRender",h=u.get&&u.get(d),v=c.get("activate")||h,m=c.get("select"),_=(0,M.isArray)(u)?u[0]:u;(m||v&&m!==!1)&&n.setSelected(_),v&&(_.trigger("active"),h&&_.unset(d)),c.get("resetId")&&_.onAll(function(w){return w.resetId()})}n.set({dragResult:null,dragContent:null}),c&&[n,s].map(function(w){return w.trigger(i.dragEnd,u,c)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},r.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=aa(aa({},this._bhv||{}),e)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(e,t){this.__startDrag(e,t),this.__getFrameViews().forEach(function(n){var i;return(i=n.droppable)===null||i===void 0?void 0:i.startCustom()})},r.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(t){var n;return(n=t.droppable)===null||n===void 0?void 0:n.endCustom(e)}),this.__endDrag()},r.prototype.postRender=function(){var e=this,t=e.categories,n=e.config,i=e.em,s=this.blocksVisible;this.blocksView=new t0({collection:s,categories:t},aa(aa({},n),{em:i})),this.__appendTo(s.models),this.__trgCustom()},r.prototype.add=function(e,t,n){n===void 0&&(n={});var i=t||{};return i.id=e,this.blocks.add(i,n)},r.prototype.get=function(e){return this.blocks.get(e)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.getBlocksByCategory=function(e){return xy(e||this.getAll().models)},r.prototype.render=function(e,t){t===void 0&&(t={});var n=this,i=n.categories,s=n.config,c=n.em,u=e||this.getAll().models;if(t.external){var d=new Iu(u,{em:c});return new t0({collection:d,categories:i},aa(aa({em:c},s),t)).render().el}return this.blocksView&&(this.blocksView.updateConfig(t),this.blocksView.collection.reset(u),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var e,t=[this.blocks,this.blocksVisible,this.categories];t.map(function(n){return n.stopListening()}),t.map(function(n){return n.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},r}(da),V3=L3,R3={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1},F3=R3,N3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ny=function(o){N3(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r}(tt.Kx),Sp=Ny;Ny.prototype.idAttribute="name";var H3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),B3=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},n0="contentEditable",j3=function(o){H3(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.config||{};return t.config=n,t.module=e.module,t.coll=e.coll||null,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.em=n.em,t.listenTo(t.model,"change:active",t.updateStatus),t}return r.prototype.template=function(){var e=this,t=e.pfx,n=e.model,i=e.config,s=n.get("label")||"";return hi(r0||(r0=B3([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),t,t,t,s,t,t,i.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var e=this.em,t=this.getInputEl();t[n0]="true",t.focus(),e?.setEditing(!0)},r.prototype.endEditTag=function(){var e=this,t=e.model,n=e.em,i=this.getInputEl(),s=i.textContent||"",c=n?.Selectors;i[n0]="false",n?.setEditing(!1),c&&c.rename(t,s)!==t&&(i.innerText=t.getLabel())},r.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var e=this,t=e.model,n=e.$el,i=e.config,s=i.iconTagOn,c=i.iconTagOff,u=n.find("[data-tag-status]");t.get("active")?(u.html(s),n.removeClass("opac50")):(u.html(c),n.addClass("opac50"))},r.prototype.render=function(){var e=this,t=e.pfx,n=e.ppfx,i=e.$el,s=e.model,c="".concat(t,"tag"),u=["".concat(c," ").concat(n,"three-bg")];return s.get("protected")&&u.push("".concat(c,"-protected")),i.html(this.template()),i.attr("class",u.join(" ")),this.updateStatus(),this},r}(tt.Ss),z3=j3,r0,U3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ql=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},W3=function(o){U3(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.className=t.pfx+"tags",t.stateInputId=t.pfx+"states",t.stateInputC=t.pfx+"input-c",t.states=t.config.states||[];var n=t.config.em,i=t.collection;t.target=n;var s=n.Selectors;t.module=s,t.em=n,t.componentChanged=(0,M.debounce)(t.componentChanged.bind(t),0),t.checkSync=(0,M.debounce)(t.checkSync.bind(t),0);var c=Dr.I.update,u="".concat(c,":classes"),d="component:toggled ".concat(u),h="".concat(u," ").concat(c,":attributes:id change:state");return t.listenTo(n,d,t.componentChanged),t.listenTo(n,"styleManager:update",t.componentChanged),t.listenTo(n,h,t.__handleStateChange),t.listenTo(n,"styleable:change change:device",t.checkSync),t.listenTo(i,"add",t.addNew),t.listenTo(i,"reset",t.renderClasses),t.listenTo(i,"remove",t.tagRemoved),t.listenTo(s.getAll(),s.events.state,(0,M.debounce)(function(){return t.renderStates()},0)),t.delegateEvents(),t}return r.prototype.template=function(e){var t=e.labelInfo,n=e.labelHead,i=e.iconSync,s=e.iconAdd,c=e.pfx,u=e.ppfx;return hi(i0||(i0=Ql([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),c,c,c,c,n,c,c,c,u,u,u,c,u,u,c,u,c,c,c,c,c,s,c,c,i,c,c,t,c)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var e=this.em,t=this.getTarget(),n=e.Css,i={noDisabled:1},s=this.getCommonSelectors({opts:i}),c=e.get("state"),u=e.getCurrentMedia(),d=[],h=n.get(s,c,u)||n.add(s,c,u),v;this.getTargets().forEach(function(m){var _=n.getIdRule(m.getId(),{state:c,mediaText:u});v=_.getStyle(),_.setStyle({}),d.push(_)}),v&&h.addStyle(v),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:s,mediaText:u,rule:h,ruleComponents:d,state:c})},r.prototype.tagRemoved=function(e){this.updateStateVis()},r.prototype.addNew=function(e){this.addToClasses(e)},r.prototype.startNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(t=this.$input)===null||t===void 0||t.show().focus()},r.prototype.endNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(t=this.$input)===null||t===void 0||t.hide().val("")},r.prototype.onInputKeyUp=function(e){var t;e.keyCode===13?(e.preventDefault(),this.addNewTag((t=this.$input)===null||t===void 0?void 0:t.val())):e.keyCode===27&&this.endNewTag()},r.prototype.checkStates=function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},r.prototype.componentChanged=function(e){var t=e===void 0?{}:e,n=t.targets;this.updateSelection(n)},r.prototype.updateSelection=function(e){var t=e||this.getTargets();t=(0,M.isArray)(t)?t:[t];var n=[];return t&&t.length&&(n=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(t),this.module.__trgCustom(),n},r.prototype.getCommonSelectors=function(e){var t=e===void 0?{}:e,n=t.targets,i=t.opts,s=i===void 0?{}:i,c=n||this.getTargets();return this.module.__getCommonSelectors(c,s)},r.prototype._commonSelectors=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.module).__common.apply(e,t)},r.prototype.checkSync=function(){var e=this,t=e.$btnSyncEl,n=e.config,i=e.collection,s=this.getTarget(),c;if(s&&n.componentFirst&&i.length){var u=s.getStyle();c=!(0,M.isEmpty)(u)}t&&t[c?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(e){var t=this.em,n=t&&t.getConfig().avoidInlineStyle,i=this.collection.length||n?"":"none";this.getStatesC().css("display",i),this.updateSelector(e)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(e){var t=this,n=this.el.querySelector("[data-selected]"),i=[],s=e||this.getTargets();s=(0,M.isArray)(s)?s:[s],s.forEach(function(c){return i.push(t.__getName(c))}),n&&(n.innerHTML=i.join(", ")),this.checkStates()},r.prototype.__getName=function(e){var t=this,n=t.pfx,i=t.config,s=t.em,c=i.selectedName,u=i.componentFirst,d;if((0,M.isString)(e))d=hi(o0||(o0=Ql(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),n,e);else{var h=e?.getSelectors();if(!h)return"";var v=h.getStyleable(),m=s.get("state"),_=e.getId?hi(a0||(a0=Ql(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),n,e.getName(),n,e.getId()):"";d=this.collection.getFullString(v),d=d?hi(s0||(s0=Ql(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),n,d):e.get("selectorsAdd")||_,d=u&&_?_:d,d+=m?hi(l0||(l0=Ql(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),n,m):"",d=c?c({result:d,state:m,target:e}):d}return d&&'<span class="'.concat(n,'sel">').concat(d,"</span>")},r.prototype.stateChanged=function(e){var t=this.em,n=e.target.value;t.set("state",n)},r.prototype.addNewTag=function(e){var t=e.trim();t&&(this.module.addSelected({label:t}),this.endNewTag())},r.prototype.addToClasses=function(e,t){var n=t,i=this.getClasses(),s=new z3({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(s):i.append(s),s},r.prototype.renderClasses=function(){var e=this,t=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(i){return e.addToClasses(i,t)}),n.append(t)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var e=this,t=e.module,n=e.em,i=n.t("selectorManager.emptyState"),s=t.getStates().map(function(u){var d=n.t("selectorManager.states.".concat(u.id))||u.getLabel()||u.id;return'<option value="'.concat(u.id,'">').concat(d,"</option>")}).join(""),c=this.getStates();c&&c.html('<option value="">'.concat(i,"</option>").concat(s)),this.checkStates()},r.prototype.render=function(){var e=this,t=e.em,n=e.pfx,i=e.ppfx,s=e.config,c=e.$el,u=e.el,d=s.render,h=s.iconSync,v=s.iconAdd,m={iconSync:h,iconAdd:v,labelHead:t.t("selectorManager.label"),labelInfo:t.t("selectorManager.selected"),ppfx:i,pfx:n,el:u};c.html(this.template(m));var _=d&&d(m);return _&&_!==u&&c.empty().append(_),this.$input=c.find("[data-input]"),this.$addBtn=c.find("[data-add]"),this.$classes=c.find("#"+n+"tags-c"),this.$btnSyncEl=c.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),c.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},r}(tt.Ss),G3=W3,i0,o0,a0,s0,l0,Y3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lc=function(){return lc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},lc.apply(this,arguments)},Ep=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},c0=function(o){return(0,M.isString)(o)&&o[0]=="#"},u0=function(o){return(0,M.isString)(o)&&o[0]=="."},Hy="selector",yc="".concat(Hy,":"),Z3="".concat(yc,"add"),K3="".concat(yc,"update"),By="".concat(yc,"remove"),q3="".concat(By,":before"),$3="".concat(yc,"custom"),jy="".concat(yc,"state"),Q3={all:Hy,update:K3,add:Z3,remove:By,removeBefore:q3,state:jy,custom:$3},X3=function(o){Y3(r,o);function r(e){var t=o.call(this,e,"SelectorManager",new ca([]),Q3,F3,{skipListen:!0})||this;t.Selector=Yr,t.Selectors=ca,t.storageKey="",(0,M.bindAll)(t,"__updateSelectedByComponents");var n=t.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),t.all=new ca(n.selectors),t.selected=new ca([],{em:e,config:n}),t.states=new tt.pM(n.states.map(function(u){return new Sp(u)}),{model:Sp}),t.model=new tt.Kx({cFirst:n.componentFirst,_undo:!0}),t.__update=(0,M.debounce)(function(){return t.__trgCustom()},0),t.__initListen({collections:[t.states,t.selected],propagate:[{entity:t.states,event:t.events.state}]}),e.on("change:state",function(u,d){return e.trigger(jy,d)}),t.model.on("change:cFirst",function(u,d){return e.trigger("selector:type",d)});var s="".concat(Dr.I.update,":classes");e.on("component:toggled ".concat(s),t.__updateSelectedByComponents);var c="component:toggled ".concat(s," change:device styleManager:update selector:state selector:type style:target");return t.model.listenTo(e,c,function(){return t.__update()}),t}return r.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},r.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?Ep([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(e,t){t===void 0&&(t={});var n=Array.isArray(e)?e:[e],i=this.em.Styles.select(n,t);this.selected.reset(this.__getCommonSelectors(i));var s=this.selectorTags,c=i.filter(function(u){return u}).map(function(u){return(0,Le.isComponent)(u)||(0,Le.isRule)(u)&&!u.get("selectorsAdd")?u:u.getSelectorsString()});return s&&s.componentChanged({targets:c}),this},r.prototype.addSelector=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=lc({},t);(0,M.isObject)(e)?i=e:i.name=e,c0(i.name)?(i.name=i.name.substr(1),i.type=Yr.TYPE_ID):u0(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var s=i.name,c=this.getConfig(),u=this,d=u.all,h=u.em,v=s?this.get(s,i.type):d.where(i)[0];if(!v){var m=i instanceof Yr?i:new Yr(i,lc(lc({},n),{config:c,em:h}));return d.add(m,n)}return v},r.prototype.getSelector=function(e,t){return t===void 0&&(t=Yr.TYPE_CLASS),c0(e)?(e=e.substr(1),t=Yr.TYPE_ID):u0(e)&&(e=e.substr(1)),this.all.where({name:e,type:t})[0]},r.prototype.add=function(e,t){var n=this;t===void 0&&(t={});var i=(0,M.isString)(e)?{}:t;return(0,M.isArray)(e)?e.map(function(s){return n.addSelector(s,t,i)}):this.addSelector(e,t,i)},r.prototype.addClass=function(e){var t=this,n=[];return(0,M.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(i){return n.push(t.addSelector(i))}),n},r.prototype.get=function(e,t){var n=this;if((0,M.isArray)(e)){var i=[],s=e.map(function(c){return n.getSelector(c)}).filter(Boolean);return s.forEach(function(c){return i.indexOf(c)<0&&i.push(c)}),i}else return this.getSelector(e,t)},r.prototype.remove=function(e,t){return this.__remove(e,t)},r.prototype.rename=function(e,t,n){var i=this.escapeName(t),s=this.get(i);return s||e.set({name:i,label:t},n)},r.prototype.setState=function(e){return this.em.setState(e),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return Ep([],this.states.models,!0)},r.prototype.setStates=function(e,t){return this.states.reset(e.map(function(n){return new Sp(n)}),t)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return Ep([],this.selected.models,!0)},r.prototype.addSelected=function(e){var t=this.add(e);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(t)})},r.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)})},r.prototype.duplicateSelected=function(e,t){var n=this;t===void 0&&(t={});var i=this.em,s=this.getSelected();if(!(s.indexOf(e)<0)){var c=this.getState(),u=i.getCurrentMedia(),d=i.Css.get(s,c,u),h=d?.getStyle();if(i.getSelectedAll().forEach(function(m){var _=m.getSelectors();if(_.includes(e)){var w=t.suffix||" copy",x=e.getLabel(),E=n.addSelector("".concat(x).concat(w)),F=_.indexOf(e);_.remove(e),_.add(E,{at:F})}}),h){var v=i.Css.add(this.getSelected(),c,u);v.setStyle(h)}}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(e){var t=this.getConfig().escapeName;return t?t(e):Yr.escapeName(e)},r.prototype.render=function(e){var t=this.selectorTags,n=this.getConfig(),i=t?.el;return this.selected.reset(e),this.selectorTags=new G3({el:i,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},r.prototype.destroy=function(){var e=this,t=e.selectorTags,n=e.model;n.stopListening(),this.__update.cancel(),this.__destroy(),t?.remove(),this.selectorTags=void 0},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(e,t){t===void 0&&(t={});var n=e.map(function(i){return i.getSelectors&&i.getSelectors().getValid(t)}).filter(Boolean);return this.__common.apply(this,n)},r.prototype.__common=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length?t.length===1?t[0]:t.length===2?t[0].filter(function(i){return t[1].indexOf(i)>=0}):t.slice(1).reduce(function(i,s){return e.__common(i,s)},t[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r}(da),J3=X3,e4={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}},t4=e4,oo,Di={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},Zs=(oo={},oo[Di.MEDIA_RULE]="media",oo[Di.FONT_FACE_RULE]="font-face",oo[Di.PAGE_RULE]="page",oo[Di.KEYFRAMES_RULE]="keyframes",oo[Di.COUNTER_STYLE_RULE]="counter-style",oo[Di.SUPPORTS_RULE]="supports",oo[Di.DOCUMENT_RULE]="document",oo[Di.FONT_FEATURE_VALUES_RULE]="font-feature-values",oo[Di.VIEWPORT_RULE]="viewport",oo),zy=(0,M.keys)(Zs),_h=[Di.FONT_FACE_RULE,Di.PAGE_RULE,Di.COUNTER_STYLE_RULE,Di.VIEWPORT_RULE],n4=zy.filter(function(o){return _h.indexOf(Number(o))<0}).map(function(o){return Zs[o]}).concat(["container","layer"]),r4=_h.map(function(o){return Zs[o]}),Uy=function(o){o===void 0&&(o="");for(var r=[],e=[],t=o.split(","),n=0,i=t.length;n<i;n++){var s=t[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(s)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(s)){var c=s.split(".").filter(Boolean);e.push(c)}else r.push(s)}return{result:e,add:r}},i4=function(o){for(var r=o.style,e={},t=0,n=r.length;t<n;t++){var i=r[t],s=r.getPropertyValue(i),c=r.getPropertyPriority(i);e[i]="".concat(s).concat(c?" !".concat(c):"")}return e},d0=function(o){var r=o.conditionText||o.media&&o.media.mediaText||o.name||o.selectorText||"";return r.trim()},Qp=function(o,r,e){r===void 0&&(r={}),e===void 0&&(e={});var t={},n=o.length,i=o[n-1],s=i?i.split(/:(.+)/):[],c=s[1],u=e.atRule,d=e.selectorsAdd,h=e.mediaText,v=r4.indexOf(u)>=0;return v&&(t.singleAtRule=!0),u&&(t.atRuleType=u),d&&(t.selectorsAdd=d),h&&(t.mediaText=h),c&&(o[n-1]=s[0],t.state=c,s.splice(s.length-1,1)),t.selectors=o,t.style=r,t},f0=function(o){var r=o.cssText,e=r===void 0?"":r;return n4.find(function(t){return e.indexOf("@".concat(t))===0})},Wy=function(o){for(var r=[],e=o.cssRules||[],t=0,n=e.length;t<n;t++){var i=e[t],s=i.type,c=!1,u="",d="",h=i.selectorText||i.keyText||"",v=_h.indexOf(s)>=0;if(v)c=!0,u=Zs[s],d=d0(i);else if(zy.indexOf("".concat(s))>=0||!s&&f0(i)){var m=Wy(i),_=Zs[s]||f0(i);d=d0(i);for(var w=0,x=m.length;w<x;w++){var E=m[w];d&&(E.mediaText=d),E.atRuleType=_}r=r.concat(m)}if(!(!h&&!v)){for(var F=i4(i),U=Uy(h),R=U.add,W=U.result,de=void 0,Ae=0,Te=W.length;Ae<Te;Ae++){var pe=Qp(W[Ae],F,{atRule:Zs[s]});r.push(pe),de=pe}if(R.length){var K=R.join(", ");if(de)de.selectorsAdd=K;else{var pe={selectors:[],selectorsAdd:K,style:F};c&&(pe.singleAtRule=c),u&&(pe.atRuleType=u),d&&(pe.mediaText=d),r.push(pe)}}}}return r},o4=function(o){var r=document.createElement("style");r.innerHTML=o,document.head.appendChild(r);var e=r.sheet;return document.head.removeChild(r),e?Wy(e):[]},a4=function(o,r){return r===void 0&&(r={}),{parse:function(e){var t=this,n=[],i=r.parserCss,s=o?.Editor,c=i?i(e,s):o4(e);return c.forEach(function(u){return n=n.concat(t.checkNode(u))}),o?.trigger("parse:css",{input:e,output:n,nodes:c}),n},checkNode:function(e){var t=e.selectors,n=e.style,i=[e];if((0,M.isString)(t)){var s=[],c=e,u=Uy(t),d=u.result,h=u.add.join(", "),v={atRule:c.atRule,mediaText:c.params};if(d.length?d.forEach(function(_){s.push(Qp(_,n,v))}):s.push(Qp([],n,v)),h){var m=s[s.length-1];m.selectorsAdd=h}i=s}return i}}},s4=a4,l4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),c4=function(o){l4(r,o);function r(e){var t=o.call(this,e,"Parser",t4)||this,n=t.config;return t.parserCss=s4(e,n),t.parserHtml=gy(e,n),t}return r.prototype.parseHtml=function(e,t){t===void 0&&(t={});var n=this,i=n.em,s=n.parserHtml;return s.compTypes=i.Components.getTypes()||[],s.parse(e,this.parserCss,t)},r.prototype.parseCss=function(e){return this.parserCss.parse(e)},r.prototype.destroy=function(){},r}(vi),u4=c4,d4={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(o){return o},onLoad:function(o){return o},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(o){return o},onLoad:function(o){return o}}}},f4=d4,p0=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?i(h.value):n(h.value).then(c,u)}d((t=t.apply(o,r||[])).next())})},h0=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(o,e)}catch(h){d=[6,h],n=0}finally{t=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},p4=function(){function o(){}return o.prototype.store=function(r){return p0(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),h0(this,function(n){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(e)),[2,e]})})},o.prototype.load=function(){return p0(this,arguments,void 0,function(r){var e;return r===void 0&&(r={}),h0(this,function(t){return e={},this.hasLocal(r,!0)&&(e=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,e]})})},o.prototype.hasLocal=function(r,e){if(r===void 0&&(r={}),r.checkLocal&&(!(0,Le.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},o}(),h4=p4;function gc(o){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gc(o)}function g4(o){var r=this.constructor;return this.then(function(e){return r.resolve(o()).then(function(){return e})},function(e){return r.resolve(o()).then(function(){return r.reject(e)})})}var v4=g4,m4=setTimeout;function Gy(o){return!!(o&&typeof o.length<"u")}function y4(){}function _4(o,r){return function(){o.apply(r,arguments)}}function Bn(o){if(!(this instanceof Bn))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Zy(o,this)}function Yy(o,r){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(r);return}o._handled=!0,Bn._immediateFn(function(){var e=o._state===1?r.onFulfilled:r.onRejected;if(e===null){(o._state===1?Xp:vc)(r.promise,o._value);return}var t;try{t=e(o._value)}catch(n){vc(r.promise,n);return}Xp(r.promise,t)})}function Xp(o,r){try{if(r===o)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(gc(r)==="object"||typeof r=="function")){var e=r.then;if(r instanceof Bn){o._state=3,o._value=r,Jp(o);return}else if(typeof e=="function"){Zy(_4(e,r),o);return}}o._state=1,o._value=r,Jp(o)}catch(t){vc(o,t)}}function vc(o,r){o._state=2,o._value=r,Jp(o)}function Jp(o){o._state===2&&o._deferreds.length===0&&Bn._immediateFn(function(){o._handled||Bn._unhandledRejectionFn(o._value)});for(var r=0,e=o._deferreds.length;r<e;r++)Yy(o,o._deferreds[r]);o._deferreds=null}function b4(o,r,e){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof r=="function"?r:null,this.promise=e}function Zy(o,r){var e=!1;try{o(function(t){e||(e=!0,Xp(r,t))},function(t){e||(e=!0,vc(r,t))})}catch(t){if(e)return;e=!0,vc(r,t)}}Bn.prototype.catch=function(o){return this.then(null,o)};Bn.prototype.then=function(o,r){var e=new this.constructor(y4);return Yy(this,new b4(o,r,e)),e};Bn.prototype.finally=v4;Bn.all=function(o){return new Bn(function(r,e){if(!Gy(o))return e(new TypeError("Promise.all accepts an array"));var t=Array.prototype.slice.call(o);if(t.length===0)return r([]);var n=t.length;function i(c,u){try{if(u&&(gc(u)==="object"||typeof u=="function")){var d=u.then;if(typeof d=="function"){d.call(u,function(h){i(c,h)},e);return}}t[c]=u,--n===0&&r(t)}catch(h){e(h)}}for(var s=0;s<t.length;s++)i(s,t[s])})};Bn.resolve=function(o){return o&&gc(o)==="object"&&o.constructor===Bn?o:new Bn(function(r){r(o)})};Bn.reject=function(o){return new Bn(function(r,e){e(o)})};Bn.race=function(o){return new Bn(function(r,e){if(!Gy(o))return e(new TypeError("Promise.race accepts an array"));for(var t=0,n=o.length;t<n;t++)Bn.resolve(o[t]).then(r,e)})};Bn._immediateFn=typeof setImmediate=="function"&&function(o){setImmediate(o)}||function(o){m4(o,0)};Bn._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};var eh=Bn;(0,Le.hasWin)()&&(window.Promise=window.Promise||eh);var Ky=typeof fetch=="function"?fetch.bind():function(o,r){return new eh(function(e,t){var n=new XMLHttpRequest;n.open(r.method||"get",o),n.withCredentials=r.credentials=="include";for(var i in r.headers||{})n.setRequestHeader(i,r.headers[i]);n.onload=function(s){return e({status:n.status,statusText:n.statusText,text:function(){return eh.resolve(n.responseText)}})},n.onerror=t,n.upload&&r.onProgress&&(n.upload.onprogress=r.onProgress),r.body?n.send(r.body):n.send()})},yd=function(){return yd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},yd.apply(this,arguments)},g0=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?i(h.value):n(h.value).then(c,u)}d((t=t.apply(o,r||[])).next())})},v0=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(o,e)}catch(h){d=[6,h],n=0}finally{t=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},w4=function(){function o(){}return o.prototype.store=function(r){return g0(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),v0(this,function(n){switch(n.label){case 0:return[4,this.request(t.urlStore,this.__props(t,e),t)];case 1:return[2,n.sent()]}})})},o.prototype.load=function(){return g0(this,arguments,void 0,function(r){return r===void 0&&(r={}),v0(this,function(e){switch(e.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,e.sent()]}})})},o.prototype.request=function(r,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Ky(r,e).then(function(n){var i=n.text(),s=(n.status/200|0)===1;return s?i:i.then(Promise.reject)}).then(function(n){var i=n&&(0,M.isString)(n);return t.contentTypeJson&&i?JSON.parse(n):n})},o.prototype.__props=function(r,e){r===void 0&&(r={});var t=r.contentTypeJson,n=r.headers||{},i=r.fetchOptions||{},s="X-Requested-With",c="Content-Type",u;if((0,M.isUndefined)(n[s])&&(n[s]="XMLHttpRequest"),(0,M.isUndefined)(n[c])&&t&&(n[c]="application/json; charset=utf-8"),e)if(t)u=JSON.stringify(e);else{u=new FormData;for(var d in e)u.append(d,e[d])}var h={method:u?"POST":"GET",credentials:r.credentials,headers:n,body:u};return yd(yd({},h),(0,M.isFunction)(i)?i(h):i)},o}(),C4=w4,qy=function(o){return o.start="storage:start",o.startStore="storage:start:store",o.startLoad="storage:start:load",o.load="storage:load",o.store="storage:store",o.after="storage:after",o.afterStore="storage:after:store",o.afterLoad="storage:after:load",o.end="storage:end",o.endStore="storage:end:store",o.endLoad="storage:end:load",o.error="storage:error",o.errorStore="storage:error:store",o.errorLoad="storage:error:load",o}(qy||{}),Ur=qy,x4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bs=function(){return Bs=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Bs.apply(this,arguments)},Tp=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?i(h.value):n(h.value).then(c,u)}d((t=t.apply(o,r||[])).next())})},Op=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(o,e)}catch(h){d=[6,h],n=0}finally{t=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Lu="local",m0="remote",A4=function(o){x4(r,o);function r(e){var t=o.call(this,e,"StorageManager",f4)||this;t.storages={},t.events=Ur;var n=t.config;return n._disable&&(n.type=void 0),t.storages={},t.add(Lu,new h4),t.add(m0,new C4),t.setCurrent(n.type),t}return r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},r.prototype.add=function(e,t){return this.storages[e]=t,this},r.prototype.get=function(e){return this.storages[e]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},r.prototype.store=function(e){return Tp(this,arguments,void 0,function(t,n){var i,s,c,u,d,h;return n===void 0&&(n={}),Op(this,function(v){switch(v.label){case 0:i=this.getCurrentStorage(),s=Bs(Bs({},this.getCurrentOptions()),n),c=this.getRecoveryStorage(),u=this.getCurrentOptions(Lu),v.label=1;case 1:return v.trys.push([1,5,,9]),[4,this.__exec(i,s,t)];case 2:return v.sent(),d=c,d?[4,this.__exec(c,u,{})]:[3,4];case 3:d=v.sent(),v.label=4;case 4:return[3,9];case 5:return h=v.sent(),c?[4,this.__exec(c,u,t)]:[3,7];case 6:return v.sent(),[3,8];case 7:throw h;case 8:return[3,9];case 9:return[2,t]}})})},r.prototype.load=function(){return Tp(this,arguments,void 0,function(e){var t,n,i,s,c,u;return e===void 0&&(e={}),Op(this,function(d){switch(d.label){case 0:return t=this.getCurrentStorage(),n=Bs(Bs({},this.getCurrentOptions()),e),i=this.getRecoveryStorage(),i?[4,this.__exec(i,this.getCurrentOptions(Lu))]:[3,5];case 1:if(c=d.sent(),(0,M.isEmpty)(c))return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return d.sent(),s=c,[3,5];case 4:return u=d.sent(),[3,5];case 5:return s?[3,7]:[4,this.__exec(t,n)];case 6:s=d.sent(),d.label=7;case 7:return[2,s||{}]}})})},r.prototype.__askRecovery=function(){var e=this.em,t=this.getRecovery();return new Promise(function(n,i){(0,M.isFunction)(t)?t(n,i,e?.getEditor()):confirm(e?.t("storageManager.recover"))?n(null):i()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===m0&&this.get(Lu)},r.prototype.__exec=function(e,t,n){return Tp(this,void 0,void 0,function(){var i,s,c,u,d,h,v,m,_,w,x,E,F,U;return Op(this,function(R){switch(R.label){case 0:if(i=n?"store":"load",s=this.getConfig(),c=s.onStore,u=s.onLoad,!e)return[2,n||{}];this.onStart(i,n),R.label=1;case 1:return R.trys.push([1,14,,15]),h=(U=this.em)===null||U===void 0?void 0:U.getEditor(),v=void 0,n?(_=c,_?[4,c(n,h)]:[3,3]):[3,7];case 2:_=R.sent(),R.label=3;case 3:return m=_||n,w=t.onStore,w?[4,t.onStore(m,h)]:[3,5];case 4:w=R.sent(),R.label=5;case 5:return m=w||m,[4,e.store(m,t)];case 6:return v=R.sent(),d=n,[3,13];case 7:return[4,e.load(t)];case 8:return v=R.sent(),d=this.__clearKeys(v),x=t.onLoad,x?[4,t.onLoad(d,h)]:[3,10];case 9:x=R.sent(),R.label=10;case 10:return d=x||d,E=u,E?[4,u(d,h)]:[3,12];case 11:E=R.sent(),R.label=12;case 12:d=E||d,R.label=13;case 13:return this.onAfter(i,d,v),this.onEnd(i,d,v),[3,15];case 14:throw F=R.sent(),this.onError(i,F),F;case 15:return[2,d]}})})},r.prototype.__clearKeys=function(e){e===void 0&&(e={});var t=this.getConfig(),n=new RegExp("^".concat(t.id)),i={};for(var s in e){var c=s.replace(n,"");i[c]=e[s]}return i},r.prototype.getCurrentOptions=function(e){var t=this.getConfig(),n=e||this.getCurrent();return t.options[n]||{}},r.prototype.onStart=function(e,t){var n=this.em;if(n){var i=e==="load"?Ur.startLoad:Ur.startStore;n.trigger(Ur.start,e,t),n.trigger(i,t)}},r.prototype.onAfter=function(e,t,n){var i=this.em;if(i){var s=e==="load"?Ur.afterLoad:Ur.afterStore;i.trigger(Ur.after),i.trigger(s,t,n);var c=e==="load"?Ur.load:Ur.store;i.trigger(c,t,n)}},r.prototype.onEnd=function(e,t,n){var i=this.em;if(i){var s=e==="load"?Ur.endLoad:Ur.endStore;i.trigger(Ur.end,e,t,n),i.trigger(s,t,n)}},r.prototype.onError=function(e,t){var n=this.em;if(n){var i=e==="load"?Ur.errorLoad:Ur.errorStore;n.trigger(Ur.error,t,e),n.trigger(i,t),this.onEnd(e,t)}},r.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r}(vi),S4=A4,E4={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1},T4=E4,O4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cc=function(){return cc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},cc.apply(this,arguments)},$y=function(o){O4(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.events={},t.appendInput=!0;var n=e.config,i=n===void 0?{}:n,s=t,c=s.model,u=s.eventCapture,d=c.target,h=c.attributes.type;t.config=i,t.em=i.em,t.pfx=i.stylePrefix||"",t.ppfx=i.pStylePrefix||"",t.target=d,t.className=t.pfx+"trait",t.clsField="".concat(t.ppfx,"field ").concat(t.ppfx,"field-").concat(h);var v=[["change:value",t.onValueChange],["remove",t.removeView]];return v.forEach(function(m){var _=m[0],w=m[1];c.off(_,w),t.listenTo(c,_,w)}),c.view=t,t.listenTo(c,"change:label",t.render),t.listenTo(c,"change:placeholder",t.rerender),t.events={},u.forEach(function(m){return t.events[m]="onChange"}),t.delegateEvents(),t.init(),t}return r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(e){var t=this.ppfx,n=this.getLabel();return'<div class="'.concat(t,'label" title="').concat(n,'">').concat(n,"</div>")},r.prototype.templateInput=function(e){var t=this.clsField;return'<div class="'.concat(t,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(e){},r.prototype.onUpdate=function(e){},r.prototype.onEvent=function(e){},r.prototype.onChange=function(e){var t=this.getInputElem();t&&!(0,M.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(cc(cc({},this.getClbOpts()),{event:e}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.value=e)},r.prototype.onValueChange=function(e,t,n){if(n===void 0&&(n={}),n.fromTarget)this.setInputValue(e.get("value")),this.postUpdate();else{var i=this.getValueForTarget();e.setTargetValue(i,n)}},r.prototype.renderLabel=function(){var e=this,t=e.$el,n=e.target,i=this.getLabel(),s=this.templateLabel(n);this.createLabel&&(s=this.createLabel({label:i,component:n,trait:this})||""),t.find("[data-label]").append(s)},r.prototype.getLabel=function(){var e=this.em,t=this.model.attributes,n=t.label,i=t.name;return e.t("traitManager.traits.labels.".concat(i))||(0,Le.capitalize)(n||i).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.em,n=e.model,i=n,s=n.attributes.name,c=i.get("placeholder")||i.get("default")||"",u=i.get("type")||"text",d=i.get("min"),h=i.get("max"),v=this.getModelValue(),m=(0,Sn.default)('<input type="'.concat(u,'">')),_=t.t("traitManager.traits.attributes.".concat(s))||{};m.attr(cc({placeholder:c},_)),(0,M.isUndefined)(v)||(i.set({value:v},{silent:!0}),m.prop("value",v)),d&&m.prop("min",d),h&&m.prop("max",h),this.$input=m}return this.$input.get(0)},r.prototype.getInputElem=function(){var e=this,t=e.input,n=e.$input;return t||n&&n.get&&n.get(0)||this.getElInput()},r.prototype.getModelValue=function(){return this.model.getValue()},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var e=this,t=e.$el,n=e.appendInput,i=e.model,s=t.find("[data-input]"),c=s[s.length-1],u=i.el;u||(u=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,M.isString)(u)?(c.innerHTML=u,this.elInput=c.firstChild):(n?c.appendChild(u):c.insertBefore(u,c.firstChild),this.elInput=u),i.el=this.elInput},r.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var e=this,t=e.$el,n=e.pfx,i=e.ppfx,s=e.model,c=s.attributes,u=c.type,d=c.id,h=this.hasLabel&&this.hasLabel(),v="".concat(n,"trait");delete this.$input;var m='<div class="'.concat(v," ").concat(v,"--").concat(u,`">
      `).concat(h?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(u,`" data-input>
        `).concat(this.templateInput?(0,M.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return t.empty().append(m),h&&this.renderLabel(),this.renderField(),this.el.className="".concat(v,"__wrp ").concat(v,"__wrp-").concat(d),this.postUpdate(),this.onRender(this.getClbOpts()),this},r}(tt.Ss),ko=$y;$y.prototype.eventCapture=["change"];var D4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qy=function(o){D4(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){this.model.runCommand()},r.prototype.renderLabel=function(){this.model.get("label")&&ko.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var e=this,t=e.model,n=e.ppfx,i=t.props(),s=i.labelButton,c=i.text,u=i.full,d=s||c,h="".concat(n,"btn"),v='<button type="button" class="'.concat(h,"-prim").concat(u?" ".concat(h,"--full"):"",'">').concat(d,"</button>");return v},r}(ko),M4=Qy;Qy.prototype.eventCapture=["click button"];var k4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),P4=function(o){k4(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return e.appendInput=!1,e}return r.prototype.templateInput=function(){var e=this,t=e.ppfx,n=e.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(t,`chk-icon"></i>
  </label>`)},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.checked=!!e)},r.prototype.getInputEl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!this.$input,i=ko.prototype.getInputEl.apply(this,e);if(n){var s=void 0,c=void 0,u=this,d=u.model,h=u.target,v=d.attributes.valueFalse,m=d.getName();d.changeProp?(s=h.get(m),c=s):(c=h.get("attributes")[m],s=!!(c||c==="")),!(0,M.isUndefined)(v)&&c===v&&(s=!1),i.checked=s}return i},r}(ko),I4=P4;function L4(o,r){"use strict";if(!(0,Le.hasWin)())return;var e={beforeShow:_,move:_,change:_,show:_,hide:_,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},t=[],n=!!/msie/i.exec(window.navigator.userAgent),i=function(){function H(ke,_e){return!!~(""+ke).indexOf(_e)}var re=document.createElement("div"),k=re.style;return k.cssText="background-color:rgba(0,0,0,.5)",H(k.backgroundColor,"rgba")||H(k.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),c=function(){var H="";if(n)for(var re=1;re<=6;re++)H+="<div class='sp-"+re+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",H,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function u(H,re,k,ke){for(var _e=[],Be=0;Be<H.length;Be++){var lt=H[Be];if(lt){var st=L(lt),Je=st.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Je+=L.equals(re,lt)?" sp-thumb-active":"";var vt=st.toString(ke.preferredFormat||"rgb"),Nt=i?"background-color:"+st.toRgbString():"filter:"+st.toFilter();_e.push('<span title="'+vt+'" data-color="'+st.toRgbString()+'" class="'+Je+'"><span class="sp-thumb-inner" style="'+Nt+';"></span></span>')}else{var Ut="sp-clear-display";_e.push(o("<div />").append(o('<span data-color="" style="background-color:transparent;" class="'+Ut+'"></span>').attr("title",ke.noColorSelectedText)).html())}}return"<div class='sp-cf "+k+"'>"+_e.join("")+"</div>"}function d(){for(var H=0;H<t.length;H++)t[H]&&t[H].hide()}function h(H,re){var k=o.extend({},e,H);return k.callbacks={move:x(k.move,re),change:x(k.change,re),show:x(k.show,re),hide:x(k.hide,re),beforeShow:x(k.beforeShow,re)},k}function v(H,re){var k=h(re,H),ke=k.flat,_e=k.showSelectionPalette,Be=k.localStorageKey,lt=k.theme,st=k.callbacks,Je=F(Qr,10),vt=!1,Nt=!1,Ut=!0,Bt=0,_n=0,jn=0,V=0,J=0,fe=0,Ie=0,nt=0,mt=0,Mt=0,Ln=0,an=1,hn=[],qr=[],zn={},gn=k.selectionPalette.slice(0),yi=k.maxSelectionSize,sn="sp-dragging",vn=null,bn=H.ownerDocument,$r=bn.body,Zt=o(H),hr=!1,Dt=o(c,bn).addClass(lt),rr=Dt.find(".sp-picker-container"),Pn=Dt.find(".sp-color"),gr=Dt.find(".sp-dragger"),Qt=Dt.find(".sp-hue"),dt=Dt.find(".sp-slider"),Un=Dt.find(".sp-alpha-inner"),ar=Dt.find(".sp-alpha"),Vn=Dt.find(".sp-alpha-handle"),It=Dt.find(".sp-input"),on=Dt.find(".sp-palette"),_i=Dt.find(".sp-initial"),bi=Dt.find(".sp-cancel"),Fe=Dt.find(".sp-clear"),St=Dt.find(".sp-choose"),Ir=Dt.find(".sp-palette-toggle"),P=Zt.is("input"),$=P&&Zt.attr("type")==="color"&&U(),De=P&&!ke,je=De?o(s).addClass(lt).addClass(k.className).addClass(k.replacerClassName):o([]),Ue=De?je:Zt,Ft=je.find(".sp-preview-inner"),jt=k.color||P&&Zt.val(),Jt=!1,nn=k.preferredFormat,Po=!k.showButtons||k.clickoutFiresChange,wi=!jt,Lr=k.allowEmpty&&!$;function so(){if(k.showPaletteOnly&&(k.showPalette=!0),Ir.text(k.showPaletteOnly?k.togglePaletteMoreText:k.togglePaletteLessText),k.palette){hn=k.palette.slice(0),qr=o.isArray(hn[0])?hn:[hn],zn={};for(var _t=0;_t<qr.length;_t++)for(var yt=0;yt<qr[_t].length;yt++){var Vt=L(qr[_t][yt]).toRgbString();zn[Vt]=!0}}Dt.toggleClass("sp-flat",ke),Dt.toggleClass("sp-input-disabled",!k.showInput),Dt.toggleClass("sp-alpha-enabled",k.showAlpha),Dt.toggleClass("sp-clear-enabled",Lr),Dt.toggleClass("sp-buttons-disabled",!k.showButtons),Dt.toggleClass("sp-palette-buttons-disabled",!k.togglePaletteOnly),Dt.toggleClass("sp-palette-disabled",!k.showPalette),Dt.toggleClass("sp-palette-only",k.showPaletteOnly),Dt.toggleClass("sp-initial-disabled",!k.showInitial),Dt.addClass(k.className).addClass(k.containerClassName),Qr()}function fa(){if(n&&Dt.find("*:not(input)").attr("unselectable","on"),so(),De&&Zt.after(je).hide(),Lr||Fe.hide(),ke)Zt.after(Dt).hide();else{var _t=k.appendTo==="parent"?Zt.parent():o(k.appendTo);_t.length!==1&&(_t=o("body")),_t.append(Dt)}Io(),Ue.bind("click.spectrum touchstart.spectrum",function(wt){hr||Wn(),wt.stopPropagation(),o(wt.target).is("input")||wt.preventDefault()}),(Zt.is(":disabled")||k.disabled===!0)&&wo(),Dt.click(w),It.change(Rn),It.bind("paste",function(){setTimeout(Rn,1)}),It.keydown(function(wt){wt.keyCode==13&&Rn()}),bi.text(k.cancelText),bi.bind("click.spectrum",function(wt){wt.stopPropagation(),wt.preventDefault(),ga(),sr()}),Fe.attr("title",k.clearText),Fe.bind("click.spectrum",function(wt){wt.stopPropagation(),wt.preventDefault(),wi=!0,Ci(),ke&&xi(!0)}),St.text(k.chooseText),St.bind("click.spectrum",function(wt){wt.stopPropagation(),wt.preventDefault(),n&&It.is(":focus")&&It.trigger("change"),Ro()&&(xi(!0),sr())}),Ir.text(k.showPaletteOnly?k.togglePaletteMoreText:k.togglePaletteLessText),Ir.bind("click.spectrum",function(wt){wt.stopPropagation(),wt.preventDefault(),k.showPaletteOnly=!k.showPaletteOnly,!k.showPaletteOnly&&!ke&&Dt.css("left","-="+(rr.outerWidth(!0)+5)),so()}),E(ar,function(wt,En,Xr){an=wt/fe,wi=!1,Xr.shiftKey&&(an=Math.round(an*10)/10),Ci()},$i,yo),E(Qt,function(wt,En){mt=parseFloat(En/V),wi=!1,k.showAlpha||(an=1),Ci()},$i,yo),E(Pn,function(wt,En,Xr){if(!Xr.shiftKey)vn=null;else if(!vn){var Jr=Mt*Bt,qn=_n-Ln*_n,ir=Math.abs(wt-Jr)>Math.abs(En-qn);vn=ir?"x":"y"}var ei=!vn||vn==="x",Ji=!vn||vn==="y";ei&&(Mt=parseFloat(wt/Bt)),Ji&&(Ln=parseFloat((_n-En)/_n)),wi=!1,k.showAlpha||(an=1),Ci()},$i,yo),jt?(Vi(jt),Ri(),nn=k.preferredFormat||L(jt).getFormat(),vo(jt)):Ri(),ke&&Vo();function yt(wt){return wt.data&&wt.data.ignore?(Vi(o(wt.target).closest(".sp-thumb-el").data("color")),Ci()):(Vi(o(wt.target).closest(".sp-thumb-el").data("color")),Ci(),k.hideAfterPaletteSelect&&(xi(!0),sr())),!1}var Vt=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";on.delegate(".sp-thumb-el",Vt,yt),_i.delegate(".sp-thumb-el:nth-child(1)",Vt,{ignore:!0},yt)}function Io(){if(Be&&window.localStorage){try{var _t=window.localStorage[Be].split(",#");_t.length>1&&(delete window.localStorage[Be],o.each(_t,function(yt,Vt){vo(Vt)}))}catch{}try{gn=window.localStorage[Be].split(";")}catch{}}}function vo(_t){if(_e){var yt=L(_t).toRgbString();if(!zn[yt]&&o.inArray(yt,gn)===-1)for(gn.push(yt);gn.length>yi;)gn.shift();if(Be&&window.localStorage)try{window.localStorage[Be]=gn.join(";")}catch{}}}function pa(){var _t=[];if(k.showPalette)for(var yt=0;yt<gn.length;yt++){var Vt=L(gn[yt]).toRgbString();zn[Vt]||_t.push(gn[yt])}return _t.reverse().slice(0,k.maxSelectionSize)}function Lo(){var _t=Gn(),yt=o.map(qr,function(Vt,wt){return u(Vt,_t,"sp-palette-row sp-palette-row-"+wt,k)});Io(),gn&&yt.push(u(pa(),_t,"sp-palette-row sp-palette-row-selection",k)),on.html(yt.join(""))}function mo(){if(k.showInitial){var _t=Jt,yt=Gn();_i.html(u([_t,yt],yt,"sp-palette-row-initial",k))}}function $i(){(_n<=0||Bt<=0||V<=0)&&Qr(),Nt=!0,Dt.addClass(sn),vn=null,Zt.trigger("dragstart.spectrum",[Gn()])}function yo(){Nt=!1,Dt.removeClass(sn),Zt.trigger("dragstop.spectrum",[Gn()])}function Rn(){var _t=It.val();if((_t===null||_t==="")&&Lr)Vi(null),xi(!0);else{var yt=L(_t);yt.isValid()?(Vi(yt),xi(!0)):It.addClass("sp-validation-error")}}function Wn(){vt?sr():Vo()}function Vo(){var _t=o.Event("beforeShow.spectrum");if(vt){Qr();return}if(Zt.trigger("beforeShow.spectrum",[Gn()]),!(st.beforeShow(Gn())===!1||_t.isDefaultPrevented())){d(),vt=!0;var yt=o(bn);yt.bind("keydown.spectrum",ha),yt.bind("click.spectrum",Qi),o(window).bind("resize.spectrum",Je),je.addClass("sp-active"),Dt.removeClass("sp-hidden"),Qr(),Ri(),Jt=Gn(),mo(),st.show(Jt),Zt.trigger("show.spectrum",[Jt])}}function ha(_t){_t.keyCode===27&&sr()}function Qi(_t){_t.button!=2&&(Nt||(Po?xi(!0):ga(),sr()))}function sr(){!vt||ke||(vt=!1,o(bn).unbind("keydown.spectrum",ha),o(bn).unbind("click.spectrum",Qi),o(window).unbind("resize.spectrum",Je),je.removeClass("sp-active"),Dt.addClass("sp-hidden"),st.hide(Gn()),Zt.trigger("hide.spectrum",[Gn()]))}function ga(){Vi(Jt,!0)}function Vi(_t,yt){if(L.equals(_t,Gn())){Ri();return}var Vt,wt;!_t&&Lr?wi=!0:(wi=!1,Ut=!_t,Vt=L(_t),wt=Vt.toHsv(),mt=wt.h%360/360,Mt=wt.s,Ln=wt.v,an=wt.a),Ri(),Vt&&Vt.isValid()&&!yt&&(nn=k.preferredFormat||Vt.getFormat())}function Gn(_t){return _t=_t||{},Lr&&wi?null:L.fromRatio({h:mt,s:Mt,v:Ln,a:Math.round(an*100)/100},{format:_t.format||nn})}function Ro(){return!It.hasClass("sp-validation-error")}function Ci(){Ri(),st.move(Gn()),Zt.trigger("move.spectrum",[Gn()])}function Ri(){It.removeClass("sp-validation-error"),Fo();var _t=L.fromRatio({h:mt,s:1,v:1});Pn.css("background-color",_t.toHexString());var yt=nn;an<1&&!(an===0&&yt==="name")&&(yt==="hex"||yt==="hex3"||yt==="hex6"||yt==="name")&&(yt="rgb");var Vt=Gn({format:yt}),wt="";if(Ft.removeClass("sp-clear-display"),Ft.css("background-color","transparent"),!Vt&&Lr)Ft.addClass("sp-clear-display");else{var En=Vt.toHexString(),Xr=Vt.toRgbString();if(i||Vt.alpha===1?Ft.css("background-color",Xr):(Ft.css("background-color","transparent"),Ft.css("filter",Vt.toFilter())),k.showAlpha){var Jr=Vt.toRgb();Jr.a=0;var qn=L(Jr).toRgbString(),ir="linear-gradient(left, "+qn+", "+En+")";n?Un.css("filter",L(qn).toFilter({gradientType:1},En)):(Un.css("background","-webkit-"+ir),Un.css("background","-moz-"+ir),Un.css("background","-ms-"+ir),Un.css("background","linear-gradient(to right, "+qn+", "+En+")"))}wt=Vt.toString(yt)}k.showInput&&It.val(wt),k.showPalette&&Lo(),mo()}function Fo(){var _t=Mt,yt=Ln;if(Lr&&wi)Vn.hide(),dt.hide(),gr.hide();else{Vn.show(),dt.show(),gr.show();var Vt=_t*Bt,wt=_n-yt*_n;Vt=Math.max(-jn,Math.min(Bt-jn,Vt-jn)),wt=Math.max(-jn,Math.min(_n-jn,wt-jn)),gr.css({top:wt+"px",left:Vt+"px"});var En=an*fe;Vn.css({left:En-Ie/2+"px"});var Xr=mt*V;dt.css({top:Xr-nt+"px"})}}function xi(_t){var yt=Gn(),Vt="",wt=Ut?!0:!L.equals(yt,Jt);yt&&(Vt=yt.toString(nn),!vt&&vo(yt)),P&&Zt.val(Vt),_t&&wt&&(st.change(yt),Zt.trigger("change",[yt]))}function Qr(){vt&&(Bt=Pn.width(),_n=Pn.height(),jn=gr.height(),J=Qt.width(),V=Qt.height(),nt=dt.height(),fe=ar.width(),Ie=Vn.width(),ke||(Dt.css("position","absolute"),k.offset?Dt.offset(k.offset):Dt.offset(m(Dt,Ue))),Fo(),k.showPalette&&Lo(),Zt.trigger("reflow.spectrum"))}function _o(){Zt.show(),Ue.unbind("click.spectrum touchstart.spectrum"),Dt.remove(),je.remove(),t[Ai.id]=null}function Xi(_t,yt){if(_t===r)return o.extend({},k);if(yt===r)return k[_t];k[_t]=yt,_t==="preferredFormat"&&(nn=k.preferredFormat),so()}function bo(){hr=!1,Zt.attr("disabled",!1),Ue.removeClass("sp-disabled")}function wo(){sr(),hr=!0,Zt.attr("disabled",!0),Ue.addClass("sp-disabled")}function va(_t){k.offset=_t,Qr()}fa();var Ai={show:Vo,hide:sr,toggle:Wn,reflow:Qr,option:Xi,enable:bo,disable:wo,offset:va,set:function(_t){Vi(_t),xi()},get:Gn,destroy:_o,container:Dt};return Ai.id=t.push(Ai)-1,Ai}function m(H,re){for(var k=re[0],ke=H[0],_e=ke.parentElement,Be=k.getBoundingClientRect(),lt=ke.offsetWidth,st=ke.offsetHeight,Je={top:0,left:0,width:k.offsetWidth,height:k.offsetHeight};k&&(Je.top+=k.offsetTop-k.scrollTop,Je.left+=k.offsetLeft-k.scrollLeft,!(k===_e||!_e.contains(k.offsetParent)));)k=k.offsetParent;return Be.right+lt>window.innerWidth-window.scrollX&&Be.right-lt>0&&(Je.left-=lt-Je.width),Be.bottom+st<window.innerHeight-window.scrollY?Je.top+=Je.height:Je.top-=st,Je}function _(){}function w(H){H.stopPropagation()}function x(H,re){var k=Array.prototype.slice,ke=k.call(arguments,2);return function(){return H.apply(re,ke.concat(k.call(arguments)))}}function E(H,re,k,ke){re=re||function(){},k=k||function(){},ke=ke||function(){};var _e=document,Be=!1,lt={},st=0,Je=0,vt="ontouchstart"in window,Nt={};Nt.selectstart=Ut,Nt.dragstart=Ut,Nt["touchmove mousemove"]=Bt,Nt["touchend mouseup"]=jn;function Ut(V){V.stopPropagation&&V.stopPropagation(),V.preventDefault&&V.preventDefault(),V.returnValue=!1}function Bt(V){if(Be){if(n&&_e.documentMode<9&&!V.button)return jn();var J=V&&V.touches&&V.touches[0],fe=J&&J.pageX||V.pageX,Ie=J&&J.pageY||V.pageY,nt=Math.max(0,Math.min(fe-lt.left,Je)),mt=Math.max(0,Math.min(Ie-lt.top,st));vt&&Ut(V),re.apply(H,[nt,mt,V])}}function _n(V){var J=V.which?V.which==3:V.button==2;!J&&!Be&&k.apply(H,arguments)!==!1&&(Be=!0,st=o(H).height(),Je=o(H).width(),lt=o(H).offset(),o(_e).bind(Nt),o(_e.body).addClass("sp-dragging"),Bt(V),Ut(V))}function jn(){Be&&(o(_e).unbind(Nt),o(_e.body).removeClass("sp-dragging"),setTimeout(function(){ke.apply(H,arguments)},0)),Be=!1}o(H).bind("touchstart mousedown",_n)}function F(H,re,k){var ke;return function(){var _e=this,Be=arguments,lt=function(){ke=null,H.apply(_e,Be)};k&&clearTimeout(ke),(k||!ke)&&(ke=setTimeout(lt,re))}}function U(){return o.fn.spectrum.inputTypeColorSupport()}var R="spectrum.id";o.fn.spectrum=function(H,re){if(typeof H=="string"){var k=this,ke=Array.prototype.slice.call(arguments,1);return this.each(function(){var _e=t[o(this).data(R)];if(_e){var Be=_e[H];if(!Be)throw new Error("Spectrum: no such method: '"+H+"'");H=="get"?k=_e.get():H=="container"?k=_e.container:H=="option"?k=_e.option.apply(_e,ke):H=="destroy"?(_e.destroy(),o(this).removeData(R)):Be.apply(_e,ke)}}),k}return this.spectrum("destroy").each(function(){var _e=o.extend({},H,o(this).data()),Be=v(this,_e);o(this).data(R,Be.id)})},o.fn.spectrum.load=!0,o.fn.spectrum.loadOpts={},o.fn.spectrum.draggable=E,o.fn.spectrum.defaults=e,o.fn.spectrum.inputTypeColorSupport=function H(){if(typeof H._cachedResult>"u"){var re=o("<input type='color'/>")[0];H._cachedResult=re.type==="color"&&re.value!==""}return H._cachedResult},o.spectrum={},o.spectrum.localization={},o.spectrum.palettes={},o.fn.spectrum.processNativeColorInputs=function(){var H=o("input[type=color]");H.length&&!U()&&H.spectrum({preferredFormat:"hex6"})};var W=/^[\s,#]+/,de=/\s+$/,Ae=0,Te=Math,pe=Te.round,K=Te.min,he=Te.max,B=Te.random,L=function(H,re){if(H=H||"",re=re||{},H instanceof L)return H;if(!(this instanceof L))return new L(H,re);var k=z(H);this._originalInput=H,this._r=k.r,this._g=k.g,this._b=k.b,this._a=k.a,this._roundA=pe(100*this._a)/100,this._format=re.format||k.format,this._gradientType=re.gradientType,this._r<1&&(this._r=pe(this._r)),this._g<1&&(this._g=pe(this._g)),this._b<1&&(this._b=pe(this._b)),this._ok=k.ok,this._tc_id=Ae++};L.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var H=this.toRgb();return(H.r*299+H.g*587+H.b*114)/1e3},setAlpha:function(H){return this._a=Tt(H),this._roundA=pe(100*this._a)/100,this},toHsv:function(){var H=be(this._r,this._g,this._b);return{h:H.h*360,s:H.s,v:H.v,a:this._a}},toHsvString:function(){var H=be(this._r,this._g,this._b),re=pe(H.h*360),k=pe(H.s*100),ke=pe(H.v*100);return this._a==1?"hsv("+re+", "+k+"%, "+ke+"%)":"hsva("+re+", "+k+"%, "+ke+"%, "+this._roundA+")"},toHsl:function(){var H=oe(this._r,this._g,this._b);return{h:H.h*360,s:H.s,l:H.l,a:this._a}},toHslString:function(){var H=oe(this._r,this._g,this._b),re=pe(H.h*360),k=pe(H.s*100),ke=pe(H.l*100);return this._a==1?"hsl("+re+", "+k+"%, "+ke+"%)":"hsla("+re+", "+k+"%, "+ke+"%, "+this._roundA+")"},toHex:function(H){return Re(this._r,this._g,this._b,H)},toHexString:function(H){return"#"+this.toHex(H)},toHex8:function(){return at(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:pe(this._r),g:pe(this._g),b:pe(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+pe(this._r)+", "+pe(this._g)+", "+pe(this._b)+")":"rgba("+pe(this._r)+", "+pe(this._g)+", "+pe(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:pe(T(this._r,255)*100)+"%",g:pe(T(this._g,255)*100)+"%",b:pe(T(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+pe(T(this._r,255)*100)+"%, "+pe(T(this._g,255)*100)+"%, "+pe(T(this._b,255)*100)+"%)":"rgba("+pe(T(this._r,255)*100)+"%, "+pe(T(this._g,255)*100)+"%, "+pe(T(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:pn[Re(this._r,this._g,this._b,!0)]||!1},toFilter:function(H){var re="#"+at(this._r,this._g,this._b,this._a),k=re,ke=this._gradientType?"GradientType = 1, ":"";if(H){var _e=L(H);k=_e.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+ke+"startColorstr="+re+",endColorstr="+k+")"},toString:function(H){var re=!!H;H=H||this._format;var k=!1,ke=this._a<1&&this._a>=0,_e=!re&&ke&&(H==="hex"||H==="hex6"||H==="hex3"||H==="name");return _e?H==="name"&&this._a===0?this.toName():this.toRgbString():(H==="rgb"&&(k=this.toRgbString()),H==="prgb"&&(k=this.toPercentageRgbString()),(H==="hex"||H==="hex6")&&(k=this.toHexString()),H==="hex3"&&(k=this.toHexString(!0)),H==="hex8"&&(k=this.toHex8String()),H==="name"&&(k=this.toName()),H==="hsl"&&(k=this.toHslString()),H==="hsv"&&(k=this.toHsvString()),k||this.toHexString())},_applyModification:function(H,re){var k=H.apply(null,[this].concat([].slice.call(re)));return this._r=k._r,this._g=k._g,this._b=k._b,this.setAlpha(k._a),this},lighten:function(){return this._applyModification(Ee,arguments)},brighten:function(){return this._applyModification(ze,arguments)},darken:function(){return this._applyModification(se,arguments)},desaturate:function(){return this._applyModification(ct,arguments)},saturate:function(){return this._applyModification(Ot,arguments)},greyscale:function(){return this._applyModification(xe,arguments)},spin:function(){return this._applyModification(Se,arguments)},_applyCombination:function(H,re){return H.apply(null,[this].concat([].slice.call(re)))},analogous:function(){return this._applyCombination(ut,arguments)},complement:function(){return this._applyCombination(Me,arguments)},monochromatic:function(){return this._applyCombination(zt,arguments)},splitcomplement:function(){return this._applyCombination(We,arguments)},triad:function(){return this._applyCombination(Ke,arguments)},tetrad:function(){return this._applyCombination(Ze,arguments)}},L.fromRatio=function(H,re){if(typeof H=="object"){var k={};for(var ke in H)H.hasOwnProperty(ke)&&(ke==="a"?k[ke]=H[ke]:k[ke]=ve(H[ke]));H=k}return L(H,re)};function z(H){var re={r:0,g:0,b:0},k=1,ke=!1,_e=!1;return typeof H=="string"&&(H=Et(H)),typeof H=="object"&&(H.hasOwnProperty("r")&&H.hasOwnProperty("g")&&H.hasOwnProperty("b")?(re=j(H.r,H.g,H.b),ke=!0,_e=String(H.r).substr(-1)==="%"?"prgb":"rgb"):H.hasOwnProperty("h")&&H.hasOwnProperty("s")&&H.hasOwnProperty("v")?(H.s=ve(H.s),H.v=ve(H.v),re=we(H.h,H.s,H.v),ke=!0,_e="hsv"):H.hasOwnProperty("h")&&H.hasOwnProperty("s")&&H.hasOwnProperty("l")&&(H.s=ve(H.s),H.l=ve(H.l),re=D(H.h,H.s,H.l),ke=!0,_e="hsl"),H.hasOwnProperty("a")&&(k=H.a)),k=Tt(k),{ok:ke,format:H.format||_e,r:K(255,he(re.r,0)),g:K(255,he(re.g,0)),b:K(255,he(re.b,0)),a:k}}function j(H,re,k){return{r:T(H,255)*255,g:T(re,255)*255,b:T(k,255)*255}}function oe(H,re,k){H=T(H,255),re=T(re,255),k=T(k,255);var ke=he(H,re,k),_e=K(H,re,k),Be,lt,st=(ke+_e)/2;if(ke==_e)Be=lt=0;else{var Je=ke-_e;switch(lt=st>.5?Je/(2-ke-_e):Je/(ke+_e),ke){case H:Be=(re-k)/Je+(re<k?6:0);break;case re:Be=(k-H)/Je+2;break;case k:Be=(H-re)/Je+4;break}Be/=6}return{h:Be,s:lt,l:st}}function D(H,re,k){var ke,_e,Be;H=T(H,360),re=T(re,100),k=T(k,100);function lt(vt,Nt,Ut){return Ut<0&&(Ut+=1),Ut>1&&(Ut-=1),Ut<1/6?vt+(Nt-vt)*6*Ut:Ut<1/2?Nt:Ut<2/3?vt+(Nt-vt)*(2/3-Ut)*6:vt}if(re===0)ke=_e=Be=k;else{var st=k<.5?k*(1+re):k+re-k*re,Je=2*k-st;ke=lt(Je,st,H+1/3),_e=lt(Je,st,H),Be=lt(Je,st,H-1/3)}return{r:ke*255,g:_e*255,b:Be*255}}function be(H,re,k){H=T(H,255),re=T(re,255),k=T(k,255);var ke=he(H,re,k),_e=K(H,re,k),Be,lt,st=ke,Je=ke-_e;if(lt=ke===0?0:Je/ke,ke==_e)Be=0;else{switch(ke){case H:Be=(re-k)/Je+(re<k?6:0);break;case re:Be=(k-H)/Je+2;break;case k:Be=(H-re)/Je+4;break}Be/=6}return{h:Be,s:lt,v:st}}function we(H,re,k){H=T(H,360)*6,re=T(re,100),k=T(k,100);var ke=Te.floor(H),_e=H-ke,Be=k*(1-re),lt=k*(1-_e*re),st=k*(1-(1-_e)*re),Je=ke%6,vt=[k,lt,Be,Be,st,k][Je],Nt=[st,k,k,lt,Be,Be][Je],Ut=[Be,Be,st,k,k,lt][Je];return{r:vt*255,g:Nt*255,b:Ut*255}}function Re(H,re,k,ke){var _e=[G(pe(H).toString(16)),G(pe(re).toString(16)),G(pe(k).toString(16))];return ke&&_e[0].charAt(0)==_e[0].charAt(1)&&_e[1].charAt(0)==_e[1].charAt(1)&&_e[2].charAt(0)==_e[2].charAt(1)?_e[0].charAt(0)+_e[1].charAt(0)+_e[2].charAt(0):_e.join("")}function at(H,re,k,ke){var _e=[G(ce(ke)),G(pe(H).toString(16)),G(pe(re).toString(16)),G(pe(k).toString(16))];return _e.join("")}L.equals=function(H,re){return!H||!re?!1:L(H).toRgbString()==L(re).toRgbString()},L.random=function(){return L.fromRatio({r:B(),g:B(),b:B()})};function ct(H,re){re=re===0?0:re||10;var k=L(H).toHsl();return k.s-=re/100,k.s=N(k.s),L(k)}function Ot(H,re){re=re===0?0:re||10;var k=L(H).toHsl();return k.s+=re/100,k.s=N(k.s),L(k)}function xe(H){return L(H).desaturate(100)}function Ee(H,re){re=re===0?0:re||10;var k=L(H).toHsl();return k.l+=re/100,k.l=N(k.l),L(k)}function ze(H,re){re=re===0?0:re||10;var k=L(H).toRgb();return k.r=he(0,K(255,k.r-pe(255*-(re/100)))),k.g=he(0,K(255,k.g-pe(255*-(re/100)))),k.b=he(0,K(255,k.b-pe(255*-(re/100)))),L(k)}function se(H,re){re=re===0?0:re||10;var k=L(H).toHsl();return k.l-=re/100,k.l=N(k.l),L(k)}function Se(H,re){var k=L(H).toHsl(),ke=(pe(k.h)+re)%360;return k.h=ke<0?360+ke:ke,L(k)}function Me(H){var re=L(H).toHsl();return re.h=(re.h+180)%360,L(re)}function Ke(H){var re=L(H).toHsl(),k=re.h;return[L(H),L({h:(k+120)%360,s:re.s,l:re.l}),L({h:(k+240)%360,s:re.s,l:re.l})]}function Ze(H){var re=L(H).toHsl(),k=re.h;return[L(H),L({h:(k+90)%360,s:re.s,l:re.l}),L({h:(k+180)%360,s:re.s,l:re.l}),L({h:(k+270)%360,s:re.s,l:re.l})]}function We(H){var re=L(H).toHsl(),k=re.h;return[L(H),L({h:(k+72)%360,s:re.s,l:re.l}),L({h:(k+216)%360,s:re.s,l:re.l})]}function ut(H,re,k){re=re||6,k=k||30;var ke=L(H).toHsl(),_e=360/k,Be=[L(H)];for(ke.h=(ke.h-(_e*re>>1)+720)%360;--re;)ke.h=(ke.h+_e)%360,Be.push(L(ke));return Be}function zt(H,re){re=re||6;for(var k=L(H).toHsv(),ke=k.h,_e=k.s,Be=k.v,lt=[],st=1/re;re--;)lt.push(L({h:ke,s:_e,v:Be})),Be=(Be+st)%1;return lt}L.mix=function(H,re,k){k=k===0?0:k||50;var ke=L(H).toRgb(),_e=L(re).toRgb(),Be=k/100,lt=Be*2-1,st=_e.a-ke.a,Je;lt*st==-1?Je=lt:Je=(lt+st)/(1+lt*st),Je=(Je+1)/2;var vt=1-Je,Nt={r:_e.r*Je+ke.r*vt,g:_e.g*Je+ke.g*vt,b:_e.b*Je+ke.b*vt,a:_e.a*Be+ke.a*(1-Be)};return L(Nt)},L.readability=function(H,re){var k=L(H),ke=L(re),_e=k.toRgb(),Be=ke.toRgb(),lt=k.getBrightness(),st=ke.getBrightness(),Je=Math.max(_e.r,Be.r)-Math.min(_e.r,Be.r)+Math.max(_e.g,Be.g)-Math.min(_e.g,Be.g)+Math.max(_e.b,Be.b)-Math.min(_e.b,Be.b);return{brightness:Math.abs(lt-st),color:Je}},L.isReadable=function(H,re){var k=L.readability(H,re);return k.brightness>125&&k.color>500},L.mostReadable=function(H,re){for(var k=null,ke=0,_e=!1,Be=0;Be<re.length;Be++){var lt=L.readability(H,re[Be]),st=lt.brightness>125&&lt.color>500,Je=3*(lt.brightness/125)+lt.color/500;(st&&!_e||st&&_e&&Je>ke||!st&&!_e&&Je>ke)&&(_e=st,ke=Je,k=L(re[Be]))}return k};var xt=L.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},pn=L.hexNames=tn(xt);function tn(H){var re={};for(var k in H)H.hasOwnProperty(k)&&(re[H[k]]=k);return re}function Tt(H){return H=parseFloat(H),(isNaN(H)||H<0||H>1)&&(H=1),H}function T(H,re){ue(H)&&(H="100%");var k=Ce(H);return H=K(re,he(0,parseFloat(H))),k&&(H=parseInt(H*re,10)/100),Te.abs(H-re)<1e-6?1:H%re/parseFloat(re)}function N(H){return K(1,he(0,H))}function Z(H){return parseInt(H,16)}function ue(H){return typeof H=="string"&&H.indexOf(".")!=-1&&parseFloat(H)===1}function Ce(H){return typeof H=="string"&&H.indexOf("%")!=-1}function G(H){return H.length==1?"0"+H:""+H}function ve(H){return H<=1&&(H=H*100+"%"),H}function ce(H){return Math.round(parseFloat(H)*255).toString(16)}function gt(H){return Z(H)/255}var kt=function(){var H="[-\\+]?\\d+%?",re="[-\\+]?\\d*\\.\\d+%?",k="(?:"+re+")|(?:"+H+")",ke="[\\s|\\(]+("+k+")[,|\\s]+("+k+")[,|\\s]+("+k+")\\s*\\)?",_e="[\\s|\\(]+("+k+")[,|\\s]+("+k+")[,|\\s]+("+k+")[,|\\s]+("+k+")\\s*\\)?";return{rgb:new RegExp("rgb"+ke),rgba:new RegExp("rgba"+_e),hsl:new RegExp("hsl"+ke),hsla:new RegExp("hsla"+_e),hsv:new RegExp("hsv"+ke),hsva:new RegExp("hsva"+_e),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Et(H){H=H.replace(W,"").replace(de,"").toLowerCase();var re=!1;if(xt[H])H=xt[H],re=!0;else if(H=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var k;return(k=kt.rgb.exec(H))?{r:k[1],g:k[2],b:k[3]}:(k=kt.rgba.exec(H))?{r:k[1],g:k[2],b:k[3],a:k[4]}:(k=kt.hsl.exec(H))?{h:k[1],s:k[2],l:k[3]}:(k=kt.hsla.exec(H))?{h:k[1],s:k[2],l:k[3],a:k[4]}:(k=kt.hsv.exec(H))?{h:k[1],s:k[2],v:k[3]}:(k=kt.hsva.exec(H))?{h:k[1],s:k[2],v:k[3],a:k[4]}:(k=kt.hex8.exec(H))?{a:gt(k[1]),r:Z(k[2]),g:Z(k[3]),b:Z(k[4]),format:re?"name":"hex8"}:(k=kt.hex6.exec(H))?{r:Z(k[1]),g:Z(k[2]),b:Z(k[3]),format:re?"name":"hex"}:(k=kt.hex3.exec(H))?{r:Z(k[1]+""+k[1]),g:Z(k[2]+""+k[2]),b:Z(k[3]+""+k[3]),format:re?"name":"hex"}:!1}window.tinycolor=L,o(function(){o.fn.spectrum.load&&o.fn.spectrum.processNativeColorInputs()})}var V4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xy=function(o){V4(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.ppfx||"";return t.opts=e,t.ppfx=n,t.em=e.target||{},!e.onChange&&t.listenTo(t.model,"change:value",t.handleModelChange),t}return r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(e,t){var n=this.model,i=e||n.get("defaults"),s=this.getInputEl();s&&(s.value=i)},r.prototype.handleModelChange=function(e,t,n){this.setValue(t,n)},r.prototype.handleChange=function(e){e.stopPropagation();var t=this.getInputEl().value;this.__onInputChange(t),this.elementUpdated()},r.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var e=this,t=e.model,n=e.opts,i=n.type||"text",s=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,Sn.default)('<input type="'.concat(i,'" placeholder="').concat(s,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r}(tt.Ss),_d=Xy;Xy.prototype.events={change:"handleChange"};var R4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uc=function(){return uc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},uc.apply(this,arguments)};Sn.default&&L4(Sn.default);var Vu=function(o){var r=o.getFormat()==="name"&&o.toName(),e=o.getAlpha()==1?o.toHexString():o.toRgbString();return r||e.replace(/ /g,"")},F4=function(o){R4(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},r.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return o.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(e){e.stopPropagation();var t=e.target.value;(0,M.isUndefined)(t)||this.__onInputChange(t)},r.prototype.__onInputChange=function(e){var t=this,n=t.model,i=t.opts,s=i.onChange,c=e,u=this.getColorEl();if(u){u.spectrum("set",c);var d=u.spectrum("get"),h=c&&Vu(d);h&&(c=h)}s?s(c):n.set({value:c},{fromInput:1})},r.prototype.setValue=function(e,t){t===void 0&&(t={});var n=this.model,i=(0,M.isUndefined)(t.def)?n.get("defaults"):t.def,s=(0,M.isUndefined)(e)?(0,M.isUndefined)(i)?"":i:e,c=this.getInputEl(),u=this.getColorEl(),d=s!="none"?s:"";c.value=s,u.get(0).style.backgroundColor=d,(t.fromTarget||t.fromInput&&!t.avoidStore)&&(u.spectrum("set",d),this.noneColor=s=="none",this.movedColor=d)},r.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var t=this,n=t.em,i=t.model,s=t.opts,c=this.ppfx,u=s.onChange,d=(0,Sn.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),h=d.get(0).style,v=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var m=!1,_;this.$el.find("[data-colorp-c]").append(d);var w=function(x,E){E===void 0&&(E=!0),u?u(x,!E):(E&&i.setValueFromInput(0,!1),i.setValueFromInput(x,E))};d.spectrum(uc(uc(uc({color:i.getValue()||!1,containerClassName:"".concat(c,"one-bg ").concat(c,"two-color ").concat(c,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},v),i.get("colorPicker")||{}),{move:function(x){var E=Vu(x);e.movedColor=E,h.backgroundColor=E,w(E,!1)},change:function(x){m=!0;var E=Vu(x);h.backgroundColor=E,w(E),e.noneColor=!1},show:function(x){m=!1,e.movedColor="",_=u?i.getValue({noDefault:!0}):Vu(x)},hide:function(){!m&&(_||u)&&(e.noneColor&&(_=""),h.backgroundColor=_,d.spectrum("set",_),w(_,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){e.movedColor&&w(e.movedColor),m=!0,e.movedColor="",d.spectrum("hide")}),this.colorEl=d}return this.colorEl},r.prototype.render=function(){return _d.prototype.render.call(this),this.getColorEl(),this},r}(_d),Jy=F4,N4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),H4=function(o){N4(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var e=this.model,t=this.getModelValue(),n=new Jy({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),i=n.render();i.setValue(t,{fromTarget:1}),this.input=i.el}return this.input},r}(ko),B4=H4,j4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),e1=function(o){j4(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;return(0,M.bindAll)(t,"moveIncrement","upIncrement"),t.doc=document,t.listenTo(t.model,"change:unit",t.handleModelChange),t}return r.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},r.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},r.prototype.setValue=function(e,t){var n=t||{},i=this.validateInputValue(e,{deepCheck:1}),s={value:i.value,unit:""};(i.unit||i.force)&&(s.unit=i.unit),this.model.set(s,n),n.silent&&this.handleModelChange()},r.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},r.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,t=e.get("units")||[];if(t.length){var n=['<option value="" disabled hidden>-</option>'];t.forEach(function(s){var c=s==e.get("unit")?"selected":"";n.push("<option ".concat(c,">").concat(s,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var e=this.model,t=e.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n+t)),this.elementUpdated()},r.prototype.downArrowClick=function(){var e=this.model,t=e.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n-t)),this.elementUpdated()},r.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var t=this.model.get("value")||0;t=this.normalizeValue(t),this.current={y:e.pageY,val:t},(0,ot.on)(this.doc,"mousemove",this.moveIncrement),(0,ot.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(e){this.moved=!0;var t=this.model,n=t.get("step"),i=this.current,s=this.normalizeValue(i.val+(i.y-e.pageY)*n),c=this.validateInputValue(s),u=c.value,d=c.unit;return this.prValue=u,t.set({value:u,unit:d},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var e=this.model,t=e.get("step");if((0,ot.AU)(this.doc,"mouseup",this.upIncrement),(0,ot.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-t;e.set("value",n,{avoidStore:1}).set("value",n+t),this.elementUpdated()}},r.prototype.normalizeValue=function(e,t){t===void 0&&(t=0);var n=this.model,i=n.get("step"),s=0;if(isNaN(e))return t;if(e=parseFloat(e),Math.floor(e)!==e){var c=i.toString().split(".")[1];s=c?c.length:0}return s?parseFloat(e.toFixed(s)):e},r.prototype.validateInputValue=function(e,t){t===void 0&&(t={});var n=0,i=t||{},s=this.model,c="",u=(0,M.isUndefined)(e)?c:e,d=t.units||s.get("units")||[],h=s.get("unit")||d.length&&d[0]||"",v=(0,M.isUndefined)(t.max)?s.get("max"):t.max,m=(0,M.isUndefined)(t.min)?s.get("min"):t.min,_=!!s.get("limitlessMax"),w=!!s.get("limitlessMin");if(i.deepCheck){var x=s.get("fixedValues")||[];if(u===""&&(h=""),u){var E=new RegExp("^"+x.join("|"),"g");if(x.length&&E.test(u))u=u.match(E)[0],h="",n=1;else{var F=u+"";u+="",u=parseFloat(u.replace(",",".")),u=isNaN(u)?c:u;var U=F.replace(u,"");(0,M.indexOf)(d,U)>=0&&(h=U)}}}return!_&&!(0,M.isUndefined)(v)&&v!==""&&(u=u>v?v:u),!w&&!(0,M.isUndefined)(m)&&m!==""&&(u=u<m?m:u),{force:n,value:u,unit:h}},r.prototype.render=function(){_d.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},r}(_d),t1=e1;e1.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var z4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),U4=function(o){z4(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getValueForTarget=function(){var e=this.model,t=e.attributes,n=t.value,i=t.unit;return!(0,M.isUndefined)(n)&&n!==""?n+i:e.get("default")},r.prototype.getInputEl=function(){if(!this.input){var e=this,t=e.ppfx,n=e.model,i=this.getModelValue(),s=new t1({contClass:"".concat(t,"field-int"),type:"number",model:n,ppfx:t});s.render(),this.$input=s.inputEl,this.$unit=s.unitEl,n.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=s.el}return this.input},r}(ko),W4=U4,G4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Y4=function(o){G4(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;return t.listenTo(t.model,"change:options",t.rerender),t}return r.prototype.templateInput=function(){var e=this,t=e.ppfx,n=e.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(t,`sel-arrow">
        <div class="`).concat(t,`d-s-arrow"></div>
      </div>
    </div>`)},r.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.model,n=e.em,i=t.get("name"),s=t.get("options")||[],c=[],u="<select>";s.forEach(function(v){var m="",_,w,x;(0,M.isString)(v)?(_=v,w=v):(_=v.name||v.label||v.value,w="".concat((0,M.isUndefined)(v.value)?v.id:v.value).replace(/"/g,"&quot;"),x=v.style?v.style.replace(/"/g,"&quot;"):"",m+=x?' style="'.concat(x,'"'):"");var E=n.t("traitManager.traits.options.".concat(i,".").concat(w))||_;u+='<option value="'.concat(w,'"').concat(m,">").concat(E,"</option>"),c.push(w)}),u+="</select>",this.$input=(0,Sn.default)(u);var d=t.getTargetValue(),h=c.indexOf(d)>=0?d:t.get("default");!(0,M.isUndefined)(h)&&this.$input.val(h)}return this.$input.get(0)},r}(ko),Z4=Y4,K4=en(754),q4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),y0="data-categories",_0="data-no-categories",n1=function(o){q4(r,o);function r(e,t){var n=o.call(this,e)||this;n.reuseView=!0,n.renderedCategories=new Map,n.itemsView=t;var i=e.config||{};n.config=i;var s=e.editor;n.em=s;var c=i.pStylePrefix||"";return n.ppfx=c,n.pfx=c+i.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.traitContClass="".concat(c,"traits-c"),n.classNoCat="".concat(c,"traits-empty-c"),n.catsClass="".concat(c,"trait-categories"),n.collection=new qu([],{em:s}),n.listenTo(s,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return r.prototype.updatedCollection=function(){var e=this,t=e.ppfx,n=e.em,i=n.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=i?.traits||new qu([],{em:n}),this.render()},r.prototype.add=function(e,t){var n=this,i=n.config,s=n.renderedCategories,c=this.itemView,u=e.get(this.itemType);this.itemsView&&this.itemsView[u]&&(c=this.itemsView[u]);var d=new c({config:i,model:e,attributes:e.get("attributes")}),h=d.render().el,v=e.parent.initCategory(e);if(v){var m=v.getId(),_=this.getCategoriesEl(),w=s.get(m);!w&&_&&(w=new Fy({model:v},i,"trait").render(),s.set(m,w),_.appendChild(w.el)),w?.append(h);return}t?t.appendChild(h):this.append(h)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(y0,"]"))),this.catsEl},r.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(_0,"]"))),this.traitsEl},r.prototype.append=function(e){var t=this.getTraitsEl();t?.appendChild(e)},r.prototype.render=function(){var e=this,t=this,n=t.el,i=t.ppfx,s=t.catsClass,c=t.traitContClass,u=t.classNoCat,d=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,n.innerHTML=`
      <div class="`.concat(s,'" ').concat(y0,`></div>
      <div class="`).concat(u," ").concat(c,'" ').concat(_0,`></div>
    `),this.collection.forEach(function(v){return e.add(v,d)}),this.append(d);var h="".concat(c,"s ").concat(i,"one-bg ").concat(i,"two-color");return this.$el.addClass(h),this.rendered=!0,this},r}(K4.A),b0=n1;n1.prototype.itemView=ko;var $4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Q4=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},X4=function(o){$4(r,o);function r(e){var t=o.call(this,e,"TraitManager",T4)||this;t.TraitsView=b0,t.events=ph,t.state=new tt.Kx({traits:[]}),t.types={text:ko,number:W4,select:Z4,checkbox:I4,color:B4,button:M4};var n=t,i=n.state,s=n.config,c=n.events,u=s.pStylePrefix;u&&(s.stylePrefix="".concat(u).concat(s.stylePrefix)),(0,M.bindAll)(t,"__onSelect");var d=(0,M.debounce)(function(){return t.__upSel()},0),h=(0,M.debounce)(function(){return t.__onUp()},0);return i.listenTo(e,"component:toggled",d),i.listenTo(e,c.value,h),i.on("change:traits",t.__onSelect),t.debounced=[d,h],t}return r.prototype.select=function(e){var t=e?.getTraits()||[];this.state.set({component:e,traits:t}),this.__trgCustom()},r.prototype.getCategories=function(){var e,t=this.getComponent(),n=((e=t?.traits.categories)===null||e===void 0?void 0:e.models)||[];return Q4([],n,!0)},r.prototype.getTraits=function(){return this.getCurrent()},r.prototype.getTraitsByCategory=function(e){return xy(e||this.getTraits())},r.prototype.getComponent=function(){return this.state.attributes.component},r.prototype.addType=function(e,t){var n=this.getType("text");this.types[e]=n.extend(t)},r.prototype.getType=function(e){return this.getTypes()[e]},r.prototype.getTypes=function(){return this.types},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.getCurrent=function(){return this.state.get("traits")||[]},r.prototype.render=function(){var e=this.view,t=this.em;return e=new b0({el:e?.el,collection:[],editor:t,config:this.getConfig()},this.getTypes()),this.view=e,e.el},r.prototype.postRender=function(){this.__appendTo()},r.prototype.__onSelect=function(){var e=this,t=e.em,n=e.events,i=e.state,s=i.attributes,c=s.component,u=s.traits;t.trigger(n.select,{component:c,traits:u})},r.prototype.__trgCustom=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.events,s=t.__ctn;this.__ctn=s||e.container,n.trigger(i.custom,this.__customData())},r.prototype.__customData=function(){return{container:this.__ctn}},r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getComponent())},r}(vi),J4=X4,eA={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}},tA=eA,nA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rA=function(o){nA(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.items=[],t.opt=e;var n=e.config||{};t.config=n,t.module=e.module,t.parentView=e.parentView;var i=n.stylePrefix||"",s=n.pStylePrefix||"",c=t.collection;t.listenTo(c,"add",t.addTo),t.listenTo(c,"reset resetNavigator",t.render),t.listenTo(c,"remove",t.removeChildren),t.className="".concat(i,"layers");var u=n.em;if(n.sortable&&!t.opt.sorter){var d=u.Utils;t.opt.sorter=new d.Sorter({container:n.sortContainer||t.el,containerSel:".".concat(t.className),itemSel:".".concat(i,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:s,pfx:i,em:u})}return t.$el.data("collection",c),e.parent&&t.$el.data("model",e.parent),t}return r.prototype.removeChildren=function(e){var t=e.viewLayer;t&&(t.remove(),delete e.viewLayer)},r.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},r.prototype.addToCollection=function(e,t,n){var i=this,s=i.parentView,c=i.opt,u=i.config,d=i.el,h=c.ItemView,v=c.opened,m=c.module,_=c.level,w=c.sorter,x=e.viewLayer||new h({ItemView:h,level:_,model:e,parentView:s,config:u,sorter:w,opened:v,module:m}),E=x.render().el;if(t)t.appendChild(E);else{var F=d,U=F.childNodes;if((0,M.isUndefined)(n))F.appendChild(E);else{var R=U.length==n;R&&n--,R||!U.length?F.appendChild(E):F.insertBefore(E,U[n])}}return this.items.push(x),E},r.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tt.Ss.prototype.remove.apply(this,e),this.items.map(function(n){return n.remove()}),this},r.prototype.render=function(){var e=this,t=this,n=t.el,i=t.module,s=document.createDocumentFragment();return n.innerHTML="",this.collection.map(function(c){return i.__getLayerFromComponent(c)}).forEach(function(c){return e.addToCollection(c,s)}),n.appendChild(s),n.className=this.className,this},r}(tt.Ss),iA=rA,Dp=en(570),oA={stylePrefix:"com-",defaults:{},strict:!0},aA=oA,sA=en(242),lA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bd=function(){return bd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},bd.apply(this,arguments)},w0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},C0=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],r1={preserveSelected:1},i1=function(o){return function(r){return o.trigger("".concat(hh,":start"),r)}},o1=function(o){return function(r){return o.trigger(hh,r)}},a1=function(o,r,e){return e===void 0&&(e={}),function(t,n,i){r.forEach(function(s){return s.set("status",s.get("selectable")?"selected":"")}),o.setSelected(r),r[0].emitUpdate(),o.trigger("".concat(hh,":end"),i),setTimeout(function(){return o.runDefault(r1)}),(e.altMode||i.cancelled)&&o.set("_cmpDrag",1)}},cA=function(o){lA(r,o);function r(e){var t=o.call(this,e,"Commands",aA)||this;t.CommandAbstract=Dp.default,t.defaultCommands={},t.commands={},t.active={},t.events=sA.A;var n=t.config,i=n.pStylePrefix,s=t.defaultCommands;i&&(n.stylePrefix=i+n.stylePrefix),Object.keys(n.defaults).forEach(function(u){var d=n.defaults[u];d.id&&t.add(d.id,d)}),s["tlb-delete"]={run:function(u){return u.runCommand("core:component-delete")}},s["tlb-clone"]={run:function(u){u.runCommand("core:copy"),u.runCommand("core:paste",{action:"clone-component"})}},s["tlb-move"]={run:function(u,d,h){var v;h===void 0&&(h={});var m,_=u.getModel(),w=h.event,x=h.target,E=x?[x]:w0([],u.getSelectedAll(),!0),F=E.map(function(L){var z,j;return((j=(z=L.delegate)===null||z===void 0?void 0:z.move)===null||j===void 0?void 0:j.call(z,L))||L}).filter(Boolean),U=F[F.length-1],R=w?.type==="dragstart",W=["absolute","translate"];if(!U?.get("draggable"))return _.logWarning("The element is not draggable");var de=U.get("dmode")||_.get("dmode"),Ae=function(){return _.stopDefault(r1)},Te=(0,M.includes)(W,de);F.forEach(function(L){return L.trigger("disable",{fromMove:!0})}),R?setTimeout(Ae,0):Ae();var pe=i1(_),K=o1(_),he=a1(_,F,{altMode:Te});if(Te)m=u.runCommand("core:component-drag",{guidesInfo:1,mode:de,target:U,onStart:pe,onDrag:K,onEnd:he,event:w});else{R&&w.dataTransfer.setDragImage((v=U.view)===null||v===void 0?void 0:v.el,0,0);var B=u.Commands.get("move-comp");B.onStart=pe,B.onDrag=K,B.onEndMoveFromModel=he,B.initSorterFromModels(F)}F.filter(function(L){return L.get("selectable")}).forEach(function(L){return L.set("status","freezed-selected")})}},s["core:undo"]=function(u){return u.UndoManager.undo()},s["core:redo"]=function(u){return u.UndoManager.redo()},C0.forEach(function(u){var d=u[2],h=en(585)("./".concat(u[1])).default,v="core:".concat(u[0]);s[v]=h,d&&(s[d]=h,["run","stop"].forEach(function(m){e.on("".concat(m,":").concat(d),function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];return e.trigger.apply(e,w0(["".concat(m,":").concat(v)],_,!1))})}))}),n.model=e.Canvas;for(var c in s)t.add(c,s[c]);return t}return r.prototype.add=function(e,t){var n=(0,M.isFunction)(t)?{run:t}:t;return n.stop||(n.noStop=!0),delete n.initialize,n.id=e,this.commands[e]=Dp.default.extend(n),this},r.prototype.get=function(e){var t=this.commands[e];return(0,M.isFunction)(t)?(t=new t(this.config),this.commands[e]=t):t||this.em.logWarning("'".concat(e,"' command not found")),t},r.prototype.extend=function(e,t){t===void 0&&(t={});var n=this.get(e);if(n){var i=bd(bd({},n.constructor.prototype),t);this.add(e,i);var s=C0.filter(function(c){return"core:".concat(c[0])===e&&c[2]})[0];s&&this.add(s[2],i)}return this},r.prototype.has=function(e){return!!this.commands[e]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(e,t){return t===void 0&&(t={}),this.runCommand(this.get(e),t)},r.prototype.stop=function(e,t){return t===void 0&&(t={}),this.stopCommand(this.get(e),t)},r.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(e,t){t===void 0&&(t={});var n;if(e&&e.run){var i=this,s=i.em,c=i.config,u=e.id,d=s.Editor;(!this.isActive(u)||t.force||!c.strict)&&(n=d&&e.callRun(d,t),u&&e.stop&&!e.noStop&&!t.abort&&(this.active[u]=n))}return n},r.prototype.stopCommand=function(e,t){t===void 0&&(t={});var n;if(e&&e.run){var i=this,s=i.em,c=i.config,u=e.id,d=s.Editor;(this.isActive(u)||t.force||!c.strict)&&(u&&delete this.active[u],n=e.callStop(d,t))}return n},r.prototype.create=function(e){e.stop||(e.noStop=!0);var t=Dp.default.extend(e);return new t(this.config)},r.prototype.__onRun=function(e,t){var n=this,i=n.em,s=n.events;i.on("".concat(s.runCommand).concat(e),t)},r.prototype.__onStop=function(e,t){var n=this,i=n.em,s=n.events;i.on("".concat(s.stopCommand).concat(e),t)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r}(vi),uA=cA,dA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),x0="contentEditable",Ru="data-toggle-move",fA=function(o){dA(r,o);function r(e){var t=o.call(this,e)||this;(0,M.bindAll)(t,"__render"),t.opt=e,t.module=e.module,t.config=e.config||{},t.sorter=e.sorter||"",t.parentView=e.parentView;var n=t,i=n.model,s=n.pfx,c=n.ppfx,u=i.get("type")||"default";return t.className="".concat(s,"layer ").concat(s,"layer__t-").concat(u," no-select ").concat(c,"two-color"),t.inputNameCls="".concat(c,"layer-name"),t.clsTitleC="".concat(s,"layer-title-c"),t.clsTitle="".concat(s,"layer-title"),t.clsCaret="".concat(s,"layer-caret"),t.clsCount="".concat(s,"layer-count"),t.clsMove="".concat(s,"layer-move"),t.clsChildren="".concat(s,"layer-children"),t.clsNoChild="".concat(s,"layer-no-chld"),t.clsEdit="".concat(t.inputNameCls,"--edit"),t.clsNoEdit="".concat(t.inputNameCls,"--no-edit"),t.initComponent(),t}return r.prototype.events=function(){var e;return e={},e["mousedown [".concat(Ru,"]")]="startSort",e["touchstart [".concat(Ru,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},r.prototype.template=function(e){var t=this,n=t.pfx,i=t.ppfx,s=t.config,c=t.clsNoEdit,u=t.module,d=t.opt,h=t.em,v=s.hidable,m=u.getComponents(e).length,_=m?"":this.clsNoChild,w="".concat(this.clsTitle," ").concat(_),x="".concat(this.clsTitleC),E="".concat(this.inputNameCls," ").concat(c," ").concat(i,"no-app"),F=d.level||0,U="".concat(F*10,"px"),R=e.getName(),W=e.getIcon(),de="".concat(n,"layer"),Ae=(h?.getConfig()).icons,Te=Ae,pe=Te.move,K=Te.eye,he=Te.eyeOff,B=Te.chevron;return`
      <div class="`.concat(n,"layer-item ").concat(i,`one-bg" data-toggle-select>
        <div class="`).concat(n,`layer-item-left">
          `).concat(v?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
                <i class="`).concat(n,'layer-vis-on">').concat(K,`</i>
                <i class="`).concat(n,'layer-vis-off">').concat(he,`</i>
              </i>`):"",`
          <div class="`).concat(x,`">
            <div class="`).concat(w,'" style="padding-left: ').concat(U,`">
              <div class="`).concat(n,'layer-title-inn" title="').concat(R,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(B,`</i>
                  `).concat(W?'<span class="'.concat(de,'__icon">').concat(W,"</span>"):"",`
                <span class="`).concat(E,'" data-name>').concat(R,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(n,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(m||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Ru,">").concat(pe||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var e=this,t=this,n=t.model,i=t.config,s=i.onInit,c=n.components();this.listenTo(c,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(u){return e.listenTo(n,u[0],u[1])}),this.$el.data("model",n),this.$el.data("collection",c),n.viewLayer=this,s.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},r.prototype.updateVisibility=function(){var e=this,t=e.pfx,n=e.model,i=e.module,s="".concat(t,"layer-hidden"),c=!i.isVisible(n),u=c?"addClass":"removeClass";this.$el[u](s),this.getVisibilityEl()[u]("".concat(t,"layer-off"))},r.prototype.updateMove=function(){var e=this,t=e.model,n=e.config,i=this.getItemContainer().find("[".concat(Ru,"]"))[0];if(i){var s=t.get("draggable")&&n.sortable;i.style.display=s?"":"none"}},r.prototype.toggleVisibility=function(e){e?.stopImmediatePropagation();var t=this,n=t.module,i=t.model;n.setVisible(i,!n.isVisible(i))},r.prototype.handleEdit=function(e){e?.stopPropagation();var t=this,n=t.em,i=t.$el,s=t.clsNoEdit,c=t.clsEdit,u=this.getInputName();u[x0]="true",u.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(s).addClass(c)},r.prototype.handleEditKey=function(e){e.stopPropagation(),((0,ot.v$)(e)||(0,ot.Ci)(e))&&this.handleEditEnd(e)},r.prototype.handleEditEnd=function(e){e?.stopPropagation();var t=this,n=t.em,i=t.$el,s=t.clsNoEdit,c=t.clsEdit,u=t.model,d=this.getInputName(),h=d.textContent;d.scrollLeft=0,d[x0]="false",u.setName(h),n.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(s).removeClass(c),this.updateName()},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var e=this,t=e.$el,n=e.model,i=e.pfx,s="open",c="".concat(i,"layer-open"),u=this.getCaret();this.module.isOpen(n)?(t.addClass(s),u.addClass(c)):(t.removeClass(s),u.removeClass(c))},r.prototype.toggleOpening=function(e){var t=this,n=t.model,i=t.module;e?.stopImmediatePropagation(),n.get("components").length&&i.setOpen(n,!i.isOpen(n))},r.prototype.handleSelect=function(e){e?.stopPropagation();var t=this,n=t.module,i=t.model;n.setLayerData(i,{selected:!0},{event:e})},r.prototype.handleHover=function(e){e?.stopPropagation();var t=this,n=t.module,i=t.model;n.setLayerData(i,{hovered:!0})},r.prototype.handleHoverOut=function(e){e?.stopPropagation();var t=this,n=t.module,i=t.model;n.setLayerData(i,{hovered:!1})},r.prototype.startSort=function(e){var t,n,i;e.stopPropagation();var s=this,c=s.em,u=s.sorter,d=s.model;if(!(e.button&&e.button!==0)&&u){var h=((n=(t=d.delegate)===null||t===void 0?void 0:t.move)===null||n===void 0?void 0:n.call(t,d))||d;u.onStart=i1(c),u.onMoveClb=o1(c),u.onEndMove=a1(c,[h]);var v=((i=h.viewLayer)===null||i===void 0?void 0:i.el)||e.target;u.startSort(v)}},r.prototype.updateStatus=function(){Kn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},r.prototype.checkChildren=function(){var e=this,t=e.model,n=e.clsNoChild,i=e.module,s=i.getComponents(t).length,c=this.getItemContainer(),u=c.find(".".concat(this.clsTitle)),d=c.find("[data-count]");u[s?"removeClass":"addClass"](n),d.html("".concat(s||"")),!s&&i.setOpen(t,!1)},r.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(e){var t,n=(0,M.isString)(e)?(t=this.em.getWrapper())===null||t===void 0?void 0:t.find(e)[0]:e;n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){var e=this.parentView,t=e||this;t.render()},r.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},r.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tt.Ss.prototype.remove.apply(this,e),delete this.model.viewLayer,this.__clearItems(),this},r.prototype.render=function(){var e=this,t=e.model,n=e.config,i=e.pfx,s=e.ppfx,c=e.opt,u=e.sorter;this.__clearItems();var d=c.opened,h=c.module,v=c.ItemView,m=!h.__isLayerable(t),_=this.$el.empty(),w=c.level+1;delete this.inputName,this.items=new iA({ItemView:v,collection:t.get("components"),config:n,sorter:u,opened:d,parentView:this,parent:t,level:w,module:h});var x=this.items.render().$el;return!n.showWrapper&&w===1?_.append(x):(_.html(this.template(t)),_.find(".".concat(this.clsChildren)).append(x)),!h.isVisible(t)&&(this.className+=" ".concat(i,"hide")),m&&(this.className+=" ".concat(s,"hidden")),_.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var e=this,t=e.model,n=e.config,i=e.el,s=n.onRender,c={component:t,el:i};s.bind(this)(c),this.em.trigger("layer:render",c)},r}(tt.Ss),pA=fA,hA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),th=function(){return th=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},th.apply(this,arguments)},s1="layer",bh="".concat(s1,":"),l1="".concat(bh,"root"),c1="".concat(bh,"component"),gA="".concat(bh,"custom"),vA={all:s1,root:l1,component:c1,custom:gA},Mp={mediaText:""},mA=["open","status","locked","custom-name","components","classes"].map(function(o){return"".concat(Dr.I.update,":").concat(o)}).join(" "),yA=function(o){return o===void 0&&(o={}),(o.display||"").trim().indexOf("none")===0},_A=function(o){hA(r,o);function r(e){var t=o.call(this,e,"LayerManager",tA)||this;return t.events=vA,(0,M.bindAll)(t,"componentChanged","__onRootChange","__onComponent"),t.model=new ua.A(t,{opened:{}}),t.config.stylePrefix=t.config.pStylePrefix,t}return r.prototype.onLoad=function(){var e=this,t=this,n=t.em,i=t.config,s=t.model;s.listenTo(n,"component:selected",this.componentChanged),s.on("change:root",this.__onRootChange),s.listenTo(n,mA,this.__onComponent),this.componentChanged(),s.listenToOnce(n,"load",function(){e.setRoot(i.root),e.__appendTo()})},r.prototype.setRoot=function(e){var t=this.em.getWrapper(),n=(0,Le.isComponent)(e)?e:t;e&&(0,M.isString)(e)&&(0,Le.hasWin)()&&(n=t.find(e)[0]||t);var i=this.__getLayerFromComponent(n);return this.model.set("root",i),i},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(e){var t=this;return e.components().map(function(n){return t.__getLayerFromComponent(n)}).filter(function(n){return t.__isLayerable(n)})},r.prototype.setOpen=function(e,t){e.set("open",t)},r.prototype.isOpen=function(e){return!!e.get("open")},r.prototype.setVisible=function(e,t){var n="__prev-display",i=e.getStyle(Mp),s=i.display;if(t){var c=e.get(n);delete i.display,c&&(i.display=c,e.unset(n))}else s&&e.set(n,s),i.display="none";e.setStyle(i,Mp),this.updateLayer(e),this.em.trigger("component:toggled")},r.prototype.isVisible=function(e){return!yA(e.getStyle(Mp))},r.prototype.setLocked=function(e,t){e.set("locked",t)},r.prototype.isLocked=function(e){return!!e.get("locked")},r.prototype.setName=function(e,t){e.set("custom-name",t)},r.prototype.getName=function(e){return e.getName()},r.prototype.getLayerData=function(e){var t=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:t==="selected",hovered:t==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},r.prototype.setLayerData=function(e,t,n){var i;n===void 0&&(n={});var s=this,c=s.em,u=s.config,d=t.open,h=t.selected,v=t.hovered,m=t.visible,_=t.locked,w=t.name,x=th({fromLayers:!0},n);if((0,Le.isDef)(d)&&this.setOpen(e,d),(0,Le.isDef)(h))if(h){c.setSelected(e,x);var E=u.scrollCanvas;E&&((i=e.views)===null||i===void 0||i.forEach(function(F){return F.scrollIntoView(E)}))}else c.removeSelected(e,x);(0,Le.isDef)(v)&&u.showHover&&(v?c.setHovered(e,x):c.setHovered(null,x)),(0,Le.isDef)(m)&&m!==this.isVisible(e)&&this.setVisible(e,m),(0,Le.isDef)(_)&&this.setLocked(e,_),(0,Le.isDef)(w)&&this.setName(e,w)},r.prototype.componentChanged=function(e,t){var n;if(t===void 0&&(t={}),!t.fromLayers){var i=this,s=i.em,c=i.config,u=c.scrollLayers,d=this.model.get("opened"),h=s.getSelected(),v=h?.parent();for(var m in d)d[m].set("open",!1),delete d[m];for(;v;)v.set("open",!0),d[v.cid]=v,v=v.parent();if(h&&u){var _=(n=h.viewLayer)===null||n===void 0?void 0:n.el;_?.scrollIntoView(u)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var e,t,n=this,i=n.config,s=n.model,c=pA.extend(i.extend);return this.view=new c({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:c,level:0,config:i,opened:s.get("opened"),model:this.getRoot(),module:this}),(t=this.view)===null||t===void 0?void 0:t.render().el},r.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},r.prototype.__onRootChange=function(){var e,t=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(t),this.em.trigger(l1,t),this.__trgCustom()},r.prototype.__getLayerFromComponent=function(e){var t,n;return((n=(t=e.delegate)===null||t===void 0?void 0:t.layer)===null||n===void 0?void 0:n.call(t,e))||e},r.prototype.__onComponent=function(e){this.updateLayer(e)},r.prototype.__isLayerable=function(e){var t=e.tagName,n=this.config.hideTextnode,i=!n||!e.isInstanceOf("textnode")&&t!=="br";return i&&e.get("layerable")},r.prototype.__trgCustom=function(e){var t=this,n=t.__ctn,i=t.em,s=t.events;this.__ctn=n||e?.container,i.trigger(s.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(e,t){this.em.trigger(c1,e,t)},r}(vi),bA=_A,wA={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""},CA=wA,xA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u1=function(o){xA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.getDefaults=function(){return(0,M.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")},r.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r}(tt.Kx),nh=u1;u1.prototype.idAttribute="src";var AA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wd=function(){return wd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},wd.apply(this,arguments)},SA=function(o){AA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return wd(wd({},nh.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r}(nh),EA=SA,TA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OA=function(o){TA(r,o);function r(e){var t=o.call(this,e)||this;t.options=e,t.collection=e.collection;var n=e.config||{};t.config=n,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.em=n.em,t.className=t.pfx+"asset",t.listenTo(t.model,"destroy remove",t.remove),t.model.view=t;var i=t.init&&t.init.bind(t);return i&&i(e),t}return r.prototype.__getBhv=function(){var e=this.em,t=e?.Assets;return t?.__getBehaviour()||{}},r.prototype.template=function(e,t){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},r.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,M.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},r}(tt.Ss),DA=OA,MA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),A0=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},d1=function(o){MA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getPreview=function(){var e=this,t=e.pfx,n=e.ppfx,i=e.model,s=i.get("src");return hi(S0||(S0=A0([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),t,s,t,n)},r.prototype.getInfo=function(){var e=this,t=e.pfx,n=e.model,i=n.get("name"),s=n.get("width"),c=n.get("height"),u=n.get("unitDim"),d=s&&c?"".concat(s,"x").concat(c).concat(u):"";return i=i||n.getFilename(),hi(E0||(E0=A0([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),t,i,t,d)},r.prototype.init=function(e){var t=this.pfx;this.className+=" ".concat(t,"asset-image")},r.prototype.onClick=function(){var e=this,t=e.model,n=e.pfx,i=this.__getBhv().select,s=this.config.onClick,c=this.collection;c.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,M.isFunction)(i)?i(t,!1):(0,M.isFunction)(s)?s(t):this.updateTarget(c.target)},r.prototype.onDblClick=function(){var e=this,t=e.em,n=e.model,i=this.__getBhv().select,s=this.config.onDblClick,c=this.collection,u=c.target,d=c.onSelect;(0,M.isFunction)(i)?i(n,!0):(0,M.isFunction)(s)?s(n):(this.updateTarget(u),t?.Modal.close()),(0,M.isFunction)(d)&&d(n)},r.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},r}(DA),kA=d1;d1.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var S0,E0,Cd=function(){return Cd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Cd.apply(this,arguments)},PA={types:[],initialize:function(o,r){var e=this;r===void 0&&(r={});var t=r.em;this.em=t,this.opts=r,this.model=function(i,s){i===void 0&&(i={}),s===void 0&&(s={});var c,u,d;if(i&&i.type){var h=e.getBaseType();d=e.getType(i.type),c=d?d.model:h.model,u=d?d.view:h.view}else{var v=e.recognizeType(i);d=v.type,c=d.model,u=d.view,i=v.attributes}var m=new c(i,Cd(Cd({},s),{em:t}));return m.typeView=u,e.model.prototype=c.prototype,m};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(o){for(var r=this.getTypes(),e=0;e<r.length;e++){var t=r[e],n=t.isType(o);if(n=typeof n=="boolean"&&n?{type:t.id}:n,n)return{type:t,attributes:n}}return{type:this.getBaseType(),attributes:o}},getBaseType:function(){var o=this.getTypes();return o[o.length-1]},getTypes:function(){return this.types},getType:function(o){for(var r=this.getTypes(),e=0;e<r.length;e++){var t=r[e];if(t.id===o)return t}},addType:function(o,r){var e=this.getType(o),t=this.getBaseType(),n=e?e.model:t.model,i=e?e.view:t.view,s=r.model,c=r.view,u=r.isType;s=s instanceof tt.Kx||(0,M.isFunction)(s)?s:n.extend(s||{}),c=c instanceof tt.Ss||(0,M.isFunction)(c)?c:i.extend(c||{}),this.extendViewApi&&!r.model&&!r.view&&(c=c.extend(r)),e?(e.model=s,e.view=c,e.isType=u||e.isType):(r.id=o,r.model=s,r.view=c,r.isType=u||function(d){if(d&&d.type==o)return!0},this.getTypes().unshift(r))}},f1=PA,IA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),LA=tt.pM.extend(f1),p1=function(o){IA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(LA),kp=p1;p1.prototype.types=[{id:"image",model:EA,view:kA,isType:function(o){return typeof o=="string"?{type:"image",src:o}:o}}];var h1=function(o){return o.add="asset:add",o.remove="asset:remove",o.removeBefore="asset:remove:before",o.update="asset:update",o.open="asset:open",o.close="asset:close",o.uploadStart="asset:upload:start",o.uploadEnd="asset:upload:end",o.uploadError="asset:upload:error",o.uploadResponse="asset:upload:response",o.custom="asset:custom",o.all="asset",o}(h1||{}),T0=h1,VA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),g1=function(o){VA(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.options=e,t.config=e.config,t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.em=t.config.em;var n=t.collection;return t.listenTo(n,"reset",t.renderAssets),t.listenTo(n,"add",t.addToAsset),t.listenTo(n,"remove",t.removedAsset),t.listenTo(n,"deselectAll",t.deselectAll),t}return r.prototype.template=function(e){var t=e.pfx,n=e.ppfx,i=e.em,s="";return this.config.showUrlInput&&(s=`
          <form class="`.concat(t,`add-asset">
            <div class="`).concat(n,"field ").concat(t,`add-field">
              <input placeholder="`).concat(i?.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(i?.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(t,`assets-cont">
      <div class="`).concat(t,`assets-header">
        `).concat(s,`
      </div>
      <div class="`).concat(t,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},r.prototype.handleSubmit=function(e){e.preventDefault();var t=this.getAddInput(),n=t&&t.value.trim(),i=this.config.handleAdd;if(n){t.value="";var s=this.getAssetsEl();s&&(s.scrollTop=0),i?i.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},r.prototype.addAsset=function(e,t){t===void 0&&(t=null);var n=t,i=this.collection,s=this.config,c=new e.typeView({model:e,collection:i,config:s}).render().el;if(n)n.appendChild(c);else{var u=this.getAssetsEl();u&&u.insertBefore(c,u.firstChild)}return c},r.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var t=this.$el.find(".".concat(this.pfx,"assets"));if(e)t.empty();else{var n=this.config.noAssets;n&&t.append(n)}},r.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},r.prototype.renderAssets=function(){var e=this,t=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return e.addAsset(i,t)}),n.append(t)},r.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r}(tt.Ss),RA=g1;g1.prototype.events={submit:"handleSubmit"};var FA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),NA=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},HA=function(o){FA(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.options=e;var n=e.config||{};t.module=e.module,t.config=n,t.em=t.config.em,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.target=t.options.globalCollection||{},t.uploadId=t.pfx+"uploadFile",t.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,t.multiUpload=n.multiUpload!==void 0?n.multiUpload:!0;var i=n.uploadFile;return i?t.uploadFile=i.bind(t):!n.upload&&n.embedAsBase64&&(t.uploadFile=r.embedAsBase64),t.delegateEvents(),t}return r.prototype.template=function(e){var t=e.pfx,n=e.title,i=e.uploadId,s=e.disabled,c=e.multiUpload;return hi(O0||(O0=NA([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),t,n,i,s?"disabled":"",c?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var e=this.module;e?.__propEv(e.events.uploadStart)},r.prototype.onUploadEnd=function(e){var t=this,n=t.$el,i=t.module;i?.__propEv(i.events.uploadEnd,e);var s=n.find("input");s&&s.val("")},r.prototype.onUploadError=function(e){var t=this.module;console.error(e),this.onUploadEnd(e),t?.__propEv(t.events.uploadError,e)},r.prototype.onUploadResponse=function(e,t){var n=this,i=n.module,s=n.config,c=n.target,u;try{u=typeof e=="string"?JSON.parse(e):e}catch{u=e}i?.__propEv(i.events.uploadResponse,u),s.autoAdd&&c&&c.add(u.data,{at:0}),this.onUploadEnd(e),t?.(u)},r.prototype.uploadFile=function(e,t){var n=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,s=this.config,c=s.beforeUpload,u=c&&c(i);if(u!==!1){var d=new FormData,h=s.params,v=s.customFetch,m=s.fetchOptions;for(var _ in h)d.append(_,h[_]);if(this.multiUpload)for(var w=0;w<i.length;w++)d.append("".concat(s.uploadName).concat(s.multiUploadSuffix),i[w]);else i.length&&d.append(s.uploadName,i[0]);var x=s.upload,E=s.headers,F="X-Requested-With";if(typeof E[F]>"u"&&(E[F]="XMLHttpRequest"),x){this.onUploadStart();var U={method:"post",credentials:s.credentials||"include",headers:E,body:d},R=m?.(U)||U,W=v?v(x,R):Ky(x,R).then(function(de){return(de.status/200|0)==1?de.text():de.text().then(function(Ae){return Promise.reject(Ae)})});return W.then(function(de){return n.onUploadResponse(de,t)}).catch(function(de){return n.onUploadError(de)})}}},r.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var t=this.uploadForm;"draggable"in t&&(this.uploadForm.ondragover=function(){return t.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return t.className="",!1},this.uploadForm.ondrop=function(n){t.className="",n.preventDefault(),e.uploadFile(n)})}},r.prototype.initDropzone=function(e){var t=this,n=0,i=this.config,s=e.model,c=e.el,u=s.Editor,d=s.Canvas.getBody(),h=this.ppfx,v="".concat(h,"dropzone-active"),m="".concat(h,"dropzone"),_=function(){c.className=c.className.replace(v,"").trim(),n=0},w=function(){return n||(c.className+=" ".concat(v),n=1),!1},x=function(){return _(),!1},E=function(F){if(_(),F.preventDefault(),F.stopPropagation(),t.uploadFile(F),i.openAssetsOnDrop&&u){var U=u.getSelected();u.runCommand("open-assets",{target:U,onSelect:function(){u.Modal.close(),u.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(m,'">').concat(i.dropzoneContent,"</div>")),_(),"draggable"in c&&[c,d].forEach(function(F){F.ondragover=w,F.ondragleave=x,F.ondrop=E})},r.prototype.render=function(){var e=this,t=e.$el,n=e.pfx,i=e.em;return t.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),t.attr("class",n+"file-uploader"),this},r.embedAsBase64=function(e,t){var n=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,s={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var c=[],u=/^(.+)\/(.+)$/,d=function(_){var w=new Promise(function(x,E){var F=new FileReader;F.addEventListener("load",function(U){var R,W=_.name,de=u.exec(_.type);if(de?R=de[1]:R=_.type,R==="image"){var Ae={src:F.result,name:W,type:R,height:0,width:0},Te=new Image;Te.addEventListener("error",function(pe){E(pe)}),Te.addEventListener("load",function(){Ae.height=Te.height,Ae.width=Te.width,x(Ae)}),Te.src=Ae.src}else x(R?{src:F.result,name:W,type:R}:F.result)}),F.addEventListener("error",function(U){E(U)}),F.addEventListener("abort",function(U){E("Aborted")}),F.readAsDataURL(_)});c.push(w)},h=0,v=i;h<v.length;h++){var m=v[h];d(m)}return Promise.all(c).then(function(_){s.data=_,n.onUploadResponse(s,t)},function(_){n.onUploadError(_)})},r}(tt.Ss),BA=HA,O0,jA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),js=function(){return js=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},js.apply(this,arguments)},D0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Xl="open-assets",zA=function(o){jA(r,o);function r(e){var t=o.call(this,e,"AssetManager",new kp([],e),T0,CA)||this;t.storageKey="assets",t.Asset=nh,t.Assets=kp,t.events=T0;var n=t,i=n.all,s=n.config;t.assetsVis=new kp([]);var c=s.pStylePrefix;return c&&(s.stylePrefix="".concat(c).concat(s.stylePrefix)),i.on("add",function(u){return t.getAllVisible().add(u)}),i.on("remove",function(u){return t.getAllVisible().remove(u)}),t.__onAllEvent=(0,M.debounce)(function(){return t.__trgCustom()},0),t}return r.prototype.open=function(e){e===void 0&&(e={});var t=this.em.Commands;t.run(Xl,js({types:["image"],select:function(){}},e))},r.prototype.close=function(){var e=this.em.Commands;e.stop(Xl)},r.prototype.isOpen=function(){var e=this.em.Commands;return!!e?.isActive(Xl)},r.prototype.add=function(e,t){return t===void 0&&(t={}),typeof t.at>"u"&&(t.at=0),this.all.add(e,t)},r.prototype.get=function(e){return this.all.where({src:e})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(e,t){return this.__remove(e,t)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){return this.loadProjectData(e)},r.prototype.getContainer=function(){var e,t=this.__getBehaviour();return t.container||((e=this.am)===null||e===void 0?void 0:e.el)},r.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},r.prototype.render=function(e){if(!this.getConfig().custom){var t=e||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new RA(js({},n)),this.am.render()}return this.assetsVis.reset(t),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(e,t){this.getAll().addType(e,t)},r.prototype.getType=function(e){return this.getAll().getType(e)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new BA(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var t=this,n=t.em,i=t.events;n.Commands.__onRun(Xl,function(){return e.__propEv(i.open)}),n.Commands.__onStop(Xl,function(){return e.__propEv(i.close)})},r.prototype.postRender=function(e){var t;this.config.dropzone&&((t=this.fu)===null||t===void 0||t.initDropzone(e))},r.prototype.setTarget=function(e){this.assetsVis.target=e},r.prototype.onSelect=function(e){this.assetsVis.onSelect=e},r.prototype.onClick=function(e){this.config.onClick=e},r.prototype.onDblClick=function(e){this.config.onDblClick=e},r.prototype.__propEv=function(e){for(var t,n,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];(t=this.em).trigger.apply(t,D0([e],i,!1)),(n=this.getAll()).trigger.apply(n,D0([e],i,!1))},r.prototype.__trgCustom=function(){var e=this.__getBehaviour(),t=this.getConfig().custom;!e.container&&!t.open||this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:t.types||[],container:t.container,close:function(){return e.close()},remove:function(n,i){return e.remove(n,i)},select:function(n,i){var s=e.add(n);(0,M.isFunction)(t.select)&&t.select(s,i)},options:t.options||{}}},r.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=js(js({},this._bhv||{}),e)},r.prototype.__getBehaviour=function(e){return e===void 0&&(e={}),this._bhv||{}},r.prototype.destroy=function(){var e,t;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(t=this.am)===null||t===void 0||t.remove(),this._bhv={}},r}(da),UA=zA,WA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),GA=function(o){WA(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,i=t.em,s={};n.em=i,e.frames||(s.component=e.component,s.styles=e.styles,["component","styles"].map(function(d){return n.unset(d)}));var c=e.frames||[s],u=new dy(i.Canvas,c);return u.page=n,n.set("frames",u),!n.getId()&&n.set("id",i?.Pages._createId()),i?.UndoManager.add(u),n}return r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(e){return this.set({name:e})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var e=this.getMainFrame();return e?.getComponent()},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=tt.Kx.prototype.toJSON.call(this,e),n=(0,M.result)(this,"defaults");return(0,M.forEach)(t,function(i,s){s.indexOf("_")===0&&delete t[s]}),(0,M.forEach)(n,function(i,s){t[s]===i&&delete t[s]}),t},r}(tt.Kx),rh=GA,YA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xd=function(){return xd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},xd.apply(this,arguments)},ZA=function(o){YA(r,o);function r(e,t){var n=o.call(this,e)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(i,s){return s===void 0&&(s={}),new rh(i,xd(xd({},s),{em:t}))},n}return r.prototype.onReset=function(e,t){var n=this,i;(i=t?.previousModels)===null||i===void 0||i.map(function(s){return n.onRemove(s)})},r.prototype.onRemove=function(e){e?.onRemove()},r}(tt.pM),KA=ZA,qA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$A=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},M0="change:selected",k0="main",QA=function(o){qA(r,o);function r(e){var t=o.call(this,e,"PageManager",new KA([],e),Wp)||this;t.events=Wp,t.storageKey="pages",(0,M.bindAll)(t,"_onPageChange");var n=new ua.A({_undo:!0});return t.model=n,t.pages.on("reset",function(i){return i.at(0)&&t.select(i.at(0))}),t.pages.on("all",t.__onChange,t),n.on(M0,t._onPageChange),t}return Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return $A([],this.all.models,!0)},r.prototype.__onChange=function(e,t,n,i){var s=this,c=s.em,u=s.events,d=i||n;c.trigger(u.all,{event:e,page:t,options:d})},r.prototype.onLoad=function(){var e,t=this,n=t.pages,i=t.config,s=t.em,c={silent:!0},u=((e=i.pages)===null||e===void 0?void 0:e.map(function(h){return new rh(h,{em:s,config:i})}))||[];n.add(u,c);var d=n.length?this._initPage():this.add({type:k0},c);d&&this.select(d,c)},r.prototype._onPageChange=function(e,t,n){var i=this,s=i.em,c=i.events,u=s.Layers,d=t.getMainComponent();u&&d&&u.setRoot(d),s.trigger(c.select,t,e.previous("selected")),this.__onChange(M0,t,n)},r.prototype.postLoad=function(){var e=this,t=e.em,n=e.model,i=e.pages,s=t.UndoManager;s.add(n),s.add(i),i.on("add remove reset change",function(c,u,d){return t.changesUp(d||u)})},r.prototype.add=function(e,t){var n=this;t===void 0&&(t={});var i=this,s=i.em,c=i.events;e.id=e.id||this._createId();var u=function(){var d=n.pages.add(new rh(e,{em:n.em,config:n.config}),t);return t.select&&n.select(d),d};return!t.silent&&s.trigger(c.addBefore,e,u,t),t.abort?void 0:u()},r.prototype.remove=function(e,t){var n=this;t===void 0&&(t={});var i=this,s=i.em,c=i.events,u=(0,M.isString)(e)?this.get(e):e,d=function(){return u&&n.pages.remove(u,t),u};return!t.silent&&s.trigger(c.removeBefore,u,d,t),!t.abort&&d()},r.prototype.get=function(e){return this.pages.filter(function(t){return t.get(t.idAttribute)===e})[0]},r.prototype.getMain=function(){var e=this.pages;return e.filter(function(t){return t.get("type")===k0})[0]||e.at(0)},r.prototype.getAllWrappers=function(){var e=this.getAll();return(0,M.unique)((0,M.flatten)(e.map(function(t){return t.getAllFrames().map(function(n){return n.getComponent()})})))},r.prototype.select=function(e,t){t===void 0&&(t={});var n=this,i=n.em,s=n.model,c=n.events,u=(0,M.isString)(e)?this.get(e):e;return u&&(i.trigger(c.selectBefore,u,t),s.set("selected",u,t)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(t){return e[t]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){var t=this.loadProjectData(e,{all:this.pages,reset:!0});return this.pages.forEach(function(n){return n.getFrames().initRefs()}),t},r.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},r.prototype._createId=function(){var e=this.getAll(),t=e.length+16,n=this.getAllMap(),i;do i=(0,Le.createId)(t);while(n[i]);return i},r}(da),XA=QA,Pp={placeholder:"eg. Text here"},JA={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Pp,alt:Pp,title:Pp,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}},eS={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:JA},messagesAdd:void 0},tS=eS,v1=function(o){return o.add="i18n:add",o.update="i18n:update",o.locale="i18n:locale",o}(v1||{}),nS=v1,rS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),iS=function(o){rS(r,o);function r(e){var t=o.call(this,e,"I18n",tS)||this;t.events=nS;var n=t.config.messagesAdd;return n&&t.addMessages(n),t.config.detectLocale&&(t.config.locale=t._localLang()),t}return r.prototype.setLocale=function(e){var t=this,n=t.em,i=t.config,s=t.events;return n.trigger(s.locale,{value:e,valuePrev:i.locale}),i.locale=e,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(e,t){t===void 0&&(t={});var n=this.config.messages;return e&&!n[e]&&this._debug("'".concat(e,"' i18n lang not found"),t),e?n[e]:n},r.prototype.setMessages=function(e){var t=this,n=t.em,i=t.config,s=t.events;return i.messages=e,n.trigger(s.update,e),this},r.prototype.addMessages=function(e){var t=this,n=t.em,i=t.events,s=t.config,c=s.messages;return n.trigger(i.add,e),this.setMessages((0,Le.deepMerge)(c,e)),this},r.prototype.t=function(e,t){t===void 0&&(t={});var n=this.config,i=t.params||{},s=t.l||this.getLocale(),c=t.lFlb||n.localeFallback,u=this._getMsg(e,s,t);return u||(u=this._getMsg(e,c,t)),!u&&this._debug("'".concat(e,"' i18n key not found in '").concat(s,"' lang"),t),u=u&&(0,M.isString)(u)?this._addParams(u,i):u,u},r.prototype._localLang=function(){var e=(0,Le.hasWin)()&&window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},r.prototype._addParams=function(e,t){var n=new RegExp("{([\\w\\d-]*)}","g");return e.replace(n,function(i,s){return t[s]||""}).trim()},r.prototype._getMsg=function(e,t,n){n===void 0&&(n={});var i=this.getMessages(t,n);if(i){var s=i[e];return!s&&e.indexOf(".")>0&&(s=e.split(".").reduce(function(c,u){if(!(0,M.isUndefined)(c))return c[u]},i)),s}},r.prototype._debug=function(e,t){t===void 0&&(t={});var n=this,i=n.em,s=n.config;(t.debug||s.debug)&&i&&i.logWarning(e)},r.prototype.destroy=function(){},r}(vi),oS=iS,aS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),go=function(){return go=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},go.apply(this,arguments)},sS=function(){},lS=Wi.F.Target,P0={id:"sorter-target",type:lS},cS=function(o){aS(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(e){e===void 0&&(e={}),this.opt=e||{},(0,M.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var t=e||{};this.elT=0,this.elL=0,this.borderOffset=t.borderOffset||10;var n=t.container;this.el=typeof n=="string"?document.querySelector(n):n,this.$el=(0,Sn.default)(this.el),this.containerSel=t.containerSel||"div",this.itemSel=t.itemSel||"div",this.draggable=t.draggable||!0,this.nested=!!t.nested,this.pfx=t.pfx||"",this.ppfx=t.ppfx||"",this.freezeClass=t.freezeClass||this.pfx+"freezed",this.onStart=t.onStart||sS,this.onEndMove=t.onEndMove,this.customTarget=t.customTarget,this.onEnd=t.onEnd,this.direction=t.direction||"v",this.onMoveClb=t.onMove,this.relative=t.relative||!1,this.ignoreViewChildren=!!t.ignoreViewChildren,this.plh=t.placer,this.wmargin=t.wmargin||0,this.offTop=t.offsetTop||0,this.offLeft=t.offsetLeft||0,this.document=t.document||document,this.em=t.em,this.canvasRelative=!!t.canvasRelative,this.selectOnEnd=!t.avoidSelectOnEnd,this.scale=t.scale;var i=this.em;i?.on&&(i.on(i.Canvas.events.refresh,this.updateOffset),this.updateOffset())},r.prototype.getScale=function(){return(0,M.result)(this,"scale")||1},r.prototype.getContainerEl=function(e){if(e&&(this.el=e),!this.el){var t=this.opt.container;this.el=typeof t=="string"?document.querySelector(t):t,this.$el=(0,Sn.default)(this.el)}return this.el},r.prototype.getDocuments=function(e){var t=this.em,n=e?e.ownerDocument:t?.Canvas.getBody().ownerDocument,i=[document];return n&&i.push(n),i},r.prototype.updateOffset=function(){var e,t=((e=this.em)===null||e===void 0?void 0:e.get("canvasOffset"))||{};this.offTop=t.top,this.offLeft=t.left},r.prototype.setDropContent=function(e){delete this.dropModel,this.dropContent=e},r.prototype.updateTextViewCursorPosition=function(e){var t=this.em;if(t){var n=t.Canvas,i=n.getDocument(),s=null;if(i.caretRangeFromPoint){var c=(0,ot.G2)(e);s=i.caretRangeFromPoint(c.clientX,c.clientY)}else e.rangeParent&&(s=i.createRange(),s.setStart(e.rangeParent,e.rangeOffset));var u=n.getWindow().getSelection();n.getFrameEl().focus(),u?.removeAllRanges(),s&&u?.addRange(s),this.setContentEditable(this.activeTextModel,!0)}},r.prototype.setContentEditable=function(e,t){if(e){var n=e.getEl();n.contentEditable!=t&&(n.contentEditable=t)}},r.prototype.toggleSortCursor=function(e){var t=this.em,n=t?.Canvas;n&&(e?n.startAutoscroll():n.stopAutoscroll())},r.prototype.setDragHelper=function(e,t){for(var n=t||"",i=e.cloneNode(!0),s=e.getBoundingClientRect(),c=getComputedStyle(e),u="",d=0;d<c.length;d++){var h=c[d];u+="".concat(h,":").concat(c.getPropertyValue(h),";")}if(document.body.appendChild(i),i.className+=" ".concat(this.pfx,"bdrag"),i.setAttribute("style",u),this.dragHelper=i,i.style.width="".concat(s.width,"px"),i.style.height="".concat(s.height,"px"),n&&this.moveDragHelper(n),this.em){var v=(0,Sn.default)(this.em.Canvas.getBody().ownerDocument);v.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,Sn.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},r.prototype.moveDragHelper=function(e){var t=e.target.ownerDocument;if(!(!this.dragHelper||!t)){var n=e.pageY,i=e.pageX,s=0,c=0,u=t.defaultView||t.parentWindow,d=u.frameElement,h=this.dragHelper.style;if(d){var v=d.getBoundingClientRect();s=v.top+document.documentElement.scrollTop,c=v.left+document.documentElement.scrollLeft,n=e.clientY,i=e.clientX}h.top=n+s+"px",h.left=i+c+"px"}},r.prototype.matches=function(e,t){return Le.matches.call(e,t)},r.prototype.closest=function(e,t){if(e)for(var n=e.parentNode;n&&n.nodeType===1;){if(this.matches(n,t))return n;n=n.parentNode}},r.prototype.offset=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},r.prototype.createPlaceholder=function(){var e=this.pfx,t=document.createElement("div"),n=document.createElement("div");return t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",n.className=e+"placeholder-int",t.appendChild(n),t},r.prototype.startSort=function(e,t){var n,i;t===void 0&&(t={});var s=this,c=s.em,u=s.itemSel,d=s.containerSel,h=s.plh,v=this.getContainerEl(t.container),m=this.getDocuments(e),_;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,e&&!this.matches(e,"".concat(u,", ").concat(d))&&(e=this.closest(e,u)),this.sourceEl=e,h||(this.plh=this.createPlaceholder(),v.appendChild(this.plh)),e&&(_=this.getSourceModel(e),_?.set&&_.set("status","freezed"),this.srcModel=_),(0,ot.on)(v,"mousemove dragover",this.onMove),(0,ot.on)(m,"mouseup dragend touchend",this.endMove),(0,ot.on)(m,"keydown",this.rollback),this.onStart({sorter:this,target:_,parent:_&&((n=_.parent)===null||n===void 0?void 0:n.call(_)),index:_&&((i=_.index)===null||i===void 0?void 0:i.call(_))}),c?.clearSelection(),this.toggleSortCursor(!0),c?.trigger("sorter:drag:start",e,_)},r.prototype.getTargetModel=function(e){var t=e||this.target;return(0,Sn.default)(t).data("model")},r.prototype.getSourceModel=function(e,t){var n=this,i=t===void 0?{}:t,s=i.target,c=i.avoidChildren,u=c===void 0?1:c,d=this,h=d.em,v=d.sourceEl,m=e||v,_=this,w=_.dropModel,x=_.dropContent,E=function(W){return W&&s&&W.opt&&W.opt.avoidChildren&&n.isTextableActive(W,s)};if(x&&h){if(E(w)&&(w=void 0),!w){var F=h.Components.getComponents(),U={avoidChildren:u,avoidStore:1,avoidUpdateStyle:1},R=F.add(x,go(go({},U),{temporary:!0}));if(w=F.remove(R,U),w=w instanceof Array?w[0]:w,this.dropModel=w,E(w))return this.getSourceModel(m,{target:s,avoidChildren:0})}return w}return m&&(0,Sn.default)(m).data("model")},r.prototype.selectTargetModel=function(e,t){if(!(e instanceof tt.pM)&&!(t&&t===e)){var n=this.targetModel;if(n&&n!==this.srcModel&&n.set("status",""),e?.set){var i=this.em.Canvas,s=Wi.F.Select,c=Wi.F.Hover,u=Wi.F.Spacing;[s,c,u].forEach(function(d){return i.removeSpots({type:d})}),i.addSpot(go(go({},P0),{component:e})),e.set("status","selected-parent"),this.targetModel=e}}},r.prototype.onMove=function(e){var t=e,n=this,i=n.em,s=n.onMoveClb,c=n.plh,u=n.customTarget;this.moved=!0;var d=c.style.display;(!d||d==="none")&&(c.style.display="block");var h=this.offset(this.el);this.elT=this.wmargin?Math.abs(h.top):h.top,this.elL=this.wmargin?Math.abs(h.left):h.left;var v=e.pageY-this.elT+this.el.scrollTop,m=e.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&i){var _=i.Canvas.getMouseRelativeCanvas(e,{noScroll:1});m=_.x,v=_.y}this.rX=m,this.rY=v,this.eventMove=e;var w=this.getSourceModel(),x=u?u({sorter:this,event:e}):e.target,E=this.dimsFromTarget(x,m,v),F=this.target,U=F&&this.getTargetModel(F);if(this.selectTargetModel(U,w),U||(c.style.display="none"),!!F){this.lastDims=E;var R=this.findPosition(E,m,v);this.isTextableActive(w,U)?(this.activeTextModel=U,c.style.display="none",this.lastPos=R,this.updateTextViewCursorPosition(t)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=R.index||this.lastPos.method!=R.method)&&(this.movePlaceholder(this.plh,E,R,this.prevTargetDim),this.$plh||(this.$plh=(0,Sn.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=R)),(0,M.isFunction)(s)&&s({event:e,target:w,parent:U,index:R.index+(R.method=="after"?1:0)}),i&&i.trigger("sorter:drag",{target:F,targetModel:U,sourceModel:w,dims:E,pos:R,x:m,y:v})}},r.prototype.isTextableActive=function(e,t){var n;return((n=e?.get)===null||n===void 0?void 0:n.call(e,"textable"))&&t?.isInstanceOf("text")},r.prototype.disableTextable=function(){var e=this.activeTextModel;e?.getView().disableEditing(),this.setContentEditable(e,!1)},r.prototype.isInFlow=function(e,t){if(!e)return!1;t=t||document.body;var n=-1,i,s=e;return i=s.offsetHeight,!!this.styleInFlow(s,t)},r.prototype.styleInFlow=function(e,t){if(!(0,ot.ir)(e)){var n=e.style||{},i=(0,Sn.default)(e),s=t&&(0,Sn.default)(t);if(!(n.overflow&&n.overflow!=="visible")){var c=i.css("float");if(!(c&&c!=="none")&&!(s&&s.css("display")=="flex"&&s.css("flex-direction")!=="column")){switch(n.position){case"static":case"relative":case"":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(i.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},r.prototype.validTarget=function(e,t){var n,i,s=this.lastPos,c=this.getTargetModel(e),u=this.getSourceModel(t,{target:c});t=(n=u?.view)===null||n===void 0?void 0:n.el,e=(i=c?.view)===null||i===void 0?void 0:i.el;var d={valid:!0,src:t,srcModel:u,trg:e,trgModel:c,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!t||!e)return d.valid=!1,d;var h=s?s.method==="after"?s.indexEl+1:s.indexEl:c.components().length,v=u.get("draggable");if((0,M.isFunction)(v)){var m=v(u,c,h);d.dragInfo=m,d.draggable=m,v=m}else v=v instanceof Array?v.join(", "):v,d.dragInfo=v,v=(0,M.isString)(v)?this.matches(e,v):v,d.draggable=v;var _=c.get("droppable");if((0,M.isFunction)(_)){var m=_(u,c,h);d.droppable=m,d.dropInfo=m,_=m}else _=_ instanceof tt.pM?1:_,_=_ instanceof Array?_.join(", "):_,d.dropInfo=_,_=(0,M.isString)(_)?this.matches(t,_):_,_=v&&this.isTextableActive(u,c)?1:_,d.droppable=_;return(!_||!v)&&(d.valid=!1),d},r.prototype.dimsFromTarget=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var i=this.em,s=[];if(!e||(this.matches(e,"".concat(this.itemSel,", ").concat(this.containerSel))||(e=this.closest(e,this.itemSel)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),!e))return s;if(this.prevTarget&&this.prevTarget!=e&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(e,this.containerSel);var c=this.validTarget(e);if(i&&i.trigger("sorter:drag:validation",c),!c.valid&&this.targetP)return this.dimsFromTarget(this.targetP,t,n);this.prevTarget=e,this.prevTargetDim=this.getDim(e),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(e)}if(this.prevTarget==e&&(s=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,t,n)||!this.nested&&!this.cacheDims.length){var u=this.targetP;u&&this.validTarget(u).valid&&(s=this.cacheDimsP,this.target=u)}return delete this.lastPos,s},r.prototype.getTargetFromEl=function(e){var t=e,n,i=this.targetPrev,s=this.em,c=this.containerSel,u=this.itemSel;if(this.matches(t,"".concat(u,", ").concat(c))||(t=this.closest(t,u)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),i&&i!=t&&delete this.targetPrev,!this.targetPrev){n=this.closest(t,c);var d=this.validTarget(t);if(s&&s.trigger("sorter:drag:validation",d),!d.valid&&n)return this.getTargetFromEl(n);this.targetPrev=t}return this.nearElBorders(t)&&(n=this.closest(t,c),n&&this.validTarget(n).valid&&(t=n)),t},r.prototype.nearElBorders=function(e){var t=10,n=e.getBoundingClientRect(),i=e.ownerDocument.body,s=this.getCurrentPos(),c=s.x,u=s.y,d=n.top+i.scrollTop,h=n.left+i.scrollLeft,v=n.width,m=n.height;if(u<d+t||u>d+m-t||c<h+t||c>h+v-t)return 1},r.prototype.getCurrentPos=function(){var e=this.eventMove,t=e?.pageX||0,n=e?.pageY||0;return{x:t,y:n}},r.prototype.getDim=function(e){var t=this,n=t.em,i=t.canvasRelative,s=n?.Canvas,c=s?s.getElementOffsets(e):{},u,d,h,v;if(i&&n){var m=s.getElementPos(e,{noScroll:1});u=m.top,d=m.left,h=m.height,v=m.width}else{var _=this.offset(e);u=this.relative?e.offsetTop:_.top-(this.wmargin?-1:1)*this.elT,d=this.relative?e.offsetLeft:_.left-(this.wmargin?-1:1)*this.elL,h=e.offsetHeight,v=e.offsetWidth}return{top:u,left:d,height:h,width:v,offsets:c}},r.prototype.getChildrenDim=function(e){var t=this,n=[];if(!e)return n;var i=this.getTargetModel(e);if(i&&i.view&&!this.ignoreViewChildren){var s=i.getCurrentView?i.getCurrentView():i.view;e=s.getChildrenContainer()}return(0,M.each)(e.children,function(c,u){var d=c,h=(0,Le.getModel)(d,Sn.default),v=h&&h.index?h.index():u;if(!(!(0,ot.ir)(d)&&!t.matches(d,t.itemSel))){var m=t.getDim(d),_=t.direction,w;_=="v"?w=!0:_=="h"?w=!1:w=t.isInFlow(d,e),m.dir=w,m.el=d,m.indexEl=v,n.push(m)}}),n},r.prototype.nearBorders=function(e,t,n){var i=!1,s=this.borderOffset,c=t||0,u=n||0,d=e.top,h=e.left,v=e.height,m=e.width;return(d+s>u||u>d+v-s||h+s>c||c>h+m-s)&&(i=!0),i},r.prototype.findPosition=function(e,t,n){for(var i={index:0,indexEl:0,method:"before"},s=0,c=0,u=0,d=0,h=0,v=0,m=0,_,w=0,x=e.length;w<x;w++){_=e[w];var E=_.top,F=_.left,U=_.height,R=_.width;if(u=F+R,m=E+U,h=F+R/2,v=E+U/2,!(c&&F>c||d&&v>=d||s&&u<s))if(i.index=w,i.indexEl=_.indexEl,!_.dir)n<m&&(d=m),t<h?(c=h,i.method="before"):(s=h,i.method="after");else if(n<v){i.method="before";break}else i.method="after"}return i},r.prototype.movePlaceholder=function(e,t,n,i){var s=0,c=0,u=0,d="",h="",v="px",m=5,_=n.method,w=t[n.index];if(e.classList.remove("vertical"),e.classList.add("horizontal"),w){var x=w.top,E=w.left,F=w.height,U=w.width;w.dir?(d=U+v,h="auto",c=_=="before"?x-s:x+F-s,u=E):(d="auto",h=F-s*2+v,c=x+s,u=_=="before"?E-s:E+U-s,e.classList.remove("horizontal"),e.classList.add("vertical"))}else{if(!this.nested){e.style.display="none";return}if(i){var R=i.offsets||{},W=R.paddingTop||m,de=R.paddingLeft||m,Ae=R.borderTopWidth||0,Te=R.borderLeftWidth||0,pe=R.borderRightWidth||0,K=Te+pe;c=i.top+W+Ae,u=i.left+de+Te,d=parseInt("".concat(i.width))-de*2-K+v,h="auto"}}e.style.top=c+v,e.style.left=u+v,d&&(e.style.width=d),h&&(e.style.height=h)},r.prototype.parents=function(e){return e?[e].concat(this.parents(e.parent())):[]},r.prototype.sort=function(e,t){var n=e.parents.filter(function(u){return t.parents.includes(u)}),i=n[0];if(!i)return t.model.index()-e.model.index();var s=e.parents[e.parents.indexOf(i)-1],c=t.parents[t.parents.indexOf(i)-1];return c.index()-s.index()},r.prototype.endMove=function(){var e=this,t,n=this.sourceEl,i=[],s=this.getDocuments(),c=this.getContainerEl(),u=this.onEndMove,d=this.onEnd,h=this,v=h.target,m=h.lastPos,_;if((0,ot.AU)(c,"mousemove dragover",this.onMove),(0,ot.AU)(s,"mouseup dragend touchend",this.endMove),(0,ot.AU)(s,"keydown",this.rollback),this.plh.style.display="none",n&&(_=this.getSourceModel()),this.moved&&v){var w=this.toMove,x=(0,M.isArray)(w)?w:w?[w]:[n],E=0;x.length===1?i.push(this.move(v,x[0],m)):x.map(function(R){return{model:R,parents:e.parents(R)}}).sort(this.sort).forEach(function(R){var W=R.model,de=W.index(),Ae=W.parent().getEl();i.push(e.move(v,W,go(go({},m),{indexEl:m.indexEl-E,index:m.index-E}))),Ae===v&&de<=m.index&&E++})}this.plh&&(this.plh.style.display="none");var F=this.dragHelper;if(F&&(F.parentNode.removeChild(F),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(t=this.em)===null||t===void 0||t.Canvas.removeSpots(P0),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,M.isFunction)(u)){var U={target:_,parent:_&&_.parent(),index:_&&_.index()};i.length?i.forEach(function(R){return u(R,e,U)}):u(null,this,go(go({},U),{cancelled:1}))}(0,M.isFunction)(d)&&d({sorter:this})},r.prototype.move=function(e,t,n){var i=this,s=i.em,c=i.dropContent,u=(0,Le.getElement)(t),d=[],h=n.method==="after"?n.indexEl+1:n.indexEl,v=this.validTarget(e,u),m=(0,Sn.default)(e).data("collection"),_=v.trgModel,w=v.srcModel,x=v.draggable,E=_ instanceof tt.pM?1:v.droppable,F,U;if(m&&E&&x){var R={at:h,action:"move-component"},W=this.isTextableActive(w,_);if(c)F=(0,M.isFunction)(c)?c():c,R.avoidUpdateStyle=!0,R.action="add-component";else{var de=w.collection.indexOf(w),Ae=m===w.collection,Te=de===h||de===h-1,pe=!Ae||!Te||W;pe&&(F=w.collection.remove(w,{temporary:!0}),Ae&&h>de&&(R.at=h-1))}F&&(W?(delete R.at,U=_.getView().insertComponent(F,R)):U=m.add(F,R)),delete this.dropContent,delete this.prevTarget}else if(s){var K=v.dropInfo||_?.get("droppable"),he=v.dragInfo||w?.get("draggable");!m&&d.push("Target collection not found"),!E&&K&&d.push("Target is not droppable, accepts [".concat(K,"]")),!x&&he&&d.push("Component not draggable, acceptable by [".concat(he,"]")),s.logWarning("Invalid target position",{errors:d,model:w,context:"sorter",target:_})}return s?.trigger("sorter:drag:end",{targetCollection:m,modelToDrop:F,warns:d,validResult:v,dst:e,srcEl:u}),U},r.prototype.rollback=function(e){(0,ot.AU)(this.getDocuments(),"keydown",this.rollback);var t=e.which||e.keyCode;t==27&&(this.moved=!1,this.endMove())},r}(tt.Ss),uS=cS,za=function(){return za=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},za.apply(this,arguments)},dS=function(o,r){r===void 0&&(r={});var e=r.prefix||"",t=document.createElement("i");return t.className=e+"resizer-h "+e+"resizer-h-"+o,t.setAttribute("data-"+e+"handler",o),t},fS=function(o,r){var e=r||window,t=o.getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,width:t.width,height:t.height}},pS=function(){function o(r){r===void 0&&(r={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=za({},this.defOpts),this.setOptions(r),(0,M.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return o.prototype.getConfig=function(){return this.opts},o.prototype.setOptions=function(r,e){r===void 0&&(r={}),this.opts=za(za({},e?this.defOpts:this.opts),r),this.setup()},o.prototype.setup=function(){var r=this.opts,e=r.prefix||"",t=r.appendTo||document.body,n=this.container;for(n||(n=document.createElement("div"),n.className="".concat(e,"resizer-c"),t.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var i={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(u){return i[u]=r[u]?dS(u,r):null});for(var s in i){var c=i[s];c&&n.appendChild(c)}this.handlers=i,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},o.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,M.each)(e,function(t){return t.style.pointerEvents=r?"none":""})}},o.prototype.isHandler=function(r){var e=this.handlers;for(var t in e)if(e[t]===r)return!0;return!1},o.prototype.getFocusedEl=function(){return this.el},o.prototype.getParentEl=function(){var r;return(r=this.el)===null||r===void 0?void 0:r.parentElement},o.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},o.prototype.getElementPos=function(r,e){e===void 0&&(e={});var t=this.posFetcher;return t?t(r,e):fS(r)},o.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,ot.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},o.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ot.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},o.prototype.start=function(r){var e=r;if(e.button===0){e.preventDefault(),e.stopPropagation();var t=this.el,n=this.getParentEl(),i=this,s=this.opts||{},c=this.mousePosFetcher,u="data-"+s.prefix+"handler",d=this.getElementPos(t,{avoidFrameZoom:!0,avoidFrameOffset:!0}),h=this.getElementPos(n),v=e.target;this.handlerAttr=v.getAttribute(u),this.clickedHandler=v,this.startDim={t:d.top,l:d.left,w:d.width,h:d.height},this.rectDim={t:d.top,l:d.left,w:d.width,h:d.height},this.startPos=c?c(e):{x:e.clientX,y:e.clientY},this.parentDim={t:h.top,l:h.left,w:h.width,h:h.height};var m=this.getDocumentEl();this.docs=m,(0,ot.on)(m,"pointermove",this.move),(0,ot.on)(m,"keydown",this.handleKeyDown),(0,ot.on)(m,"pointerup",this.stop),(0,M.isFunction)(this.onStart)&&this.onStart(e,{docs:m,config:s,el:t,resizer:i}),this.toggleFrames(!0),this.move(e)}},o.prototype.move=function(r){var e=r,t=this.onMove,n=this.mousePosFetcher,i=n?n(e):{x:e.clientX,y:e.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),t&&t(e)},o.prototype.stop=function(r){var e=this.el,t=this.opts,n=this.docs||this.getDocumentEl();(0,ot.AU)(n,"pointermove",this.move),(0,ot.AU)(n,"keydown",this.handleKeyDown),(0,ot.AU)(n,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,M.isFunction)(this.onEnd)&&this.onEnd(r,{docs:n,config:t,el:e,resizer:this}),delete this.docs},o.prototype.updateRect=function(r){var e=this.el,t=this,n=this.opts,i=this.rectDim,s=this.updateTarget,c=this.getSelectedHandler(),u=n.unitHeight,d=n.unitWidth,h=n.keyWidth,v=n.keyHeight;if((0,M.isFunction)(s))s(e,i,{store:r,selectedHandler:c,resizer:t,config:n});else{var m=e.style;m[h]=i.w+d,m[v]=i.h+u}this.updateContainer()},o.prototype.updateContainer=function(r){var e;r===void 0&&(r={});var t=this,n=t.opts,i=t.container,s=t.el,c=i.style;!n.avoidContainerUpdate&&s&&r.forceShow&&(c.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:i,resizer:this,opts:za(za({},n),r)})},o.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler){for(var e in r)if(r[e]===this.selectedHandler)return e}},o.prototype.handleKeyDown=function(r){r.keyCode===27&&(this.rectDim=this.startDim,this.stop(r))},o.prototype.handleMouseDown=function(r){var e=r.target;this.isHandler(e)?(this.selectedHandler=e,this.start(r)):e!==this.el&&(delete this.selectedHandler,this.blur())},o.prototype.calc=function(r){var e,t=this.opts||{},n=t.step,i=this.startDim,s=t.minDim,c=t.maxDim,u=r.delta.x,d=r.delta.y,h=this.parentDim.w,v=this.parentDim.h,m=this.opts.unitWidth,_=this.opts.unitHeight,w=m==="%"?i.w/100*h:i.w,x=_==="%"?i.h/100*v:i.h,E={t:i.t,l:i.l,w,h:x};if(r){var F=r.handlerAttr;~F.indexOf("r")&&(e=m==="%"?(0,Le.normalizeFloat)((w+u*n)/h*100,.01):(0,Le.normalizeFloat)(w+u*n,n),e=Math.max(s,e),c&&(e=Math.min(c,e)),E.w=e),~F.indexOf("b")&&(e=_==="%"?(0,Le.normalizeFloat)((x+d*n)/v*100,.01):(0,Le.normalizeFloat)(x+d*n,n),e=Math.max(s,e),c&&(e=Math.min(c,e)),E.h=e),~F.indexOf("l")&&(e=m==="%"?(0,Le.normalizeFloat)((w-u*n)/h*100,.01):(0,Le.normalizeFloat)(w-u*n,n),e=Math.max(s,e),c&&(e=Math.min(c,e)),E.w=e),~F.indexOf("t")&&(e=_==="%"?(0,Le.normalizeFloat)((x-d*n)/v*100,.01):(0,Le.normalizeFloat)(x-d*n,n),e=Math.max(s,e),c&&(e=Math.min(c,e)),E.h=e);var U=t.ratioDefault?!r.keys.shift:r.keys.shift;if(F.indexOf("c")<0&&U){var R=i.w/i.h;E.w/E.h>R?E.h=Math.round(E.w/R):E.w=Math.round(E.h*R)}~F.indexOf("l")&&(E.l+=i.w-E.w),~F.indexOf("t")&&(E.t+=i.h-E.h);for(var W in E){var de=W;E[de]=parseInt("".concat(E[de]),10)}return E}},o}(),hS=pS,gS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ih=function(){return ih=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ih.apply(this,arguments)},vS=function(o){gS(r,o);function r(e){var t=o.call(this,e,"Utils")||this;return t.Sorter=uS,t.Resizer=hS,t.Dragger=Ey.A,t.helpers=ih({},Le),t}return r.prototype.destroy=function(){},r}(vi),mS=vS,gi,Pi={},Gr={16:!1,18:!1,17:!1,91:!1},m1="all",Ka={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},y1={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},wh=function(o){return y1[o]||o.toUpperCase().charCodeAt(0)},$s=[];for(gi=1;gi<20;gi++)y1["f"+gi]=111+gi;function dc(o,r){for(var e=o.length;e--;)if(o[e]===r)return e;return-1}function yS(o,r){if(o.length!=r.length)return!1;for(var e=0;e<o.length;e++)if(o[e]!==r[e])return!1;return!0}var _S={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function bS(o){for(gi in Gr)Gr[gi]=o[_S[gi]]}function wS(o){var r,e,t,n,i,s;if(r=o.keyCode,dc($s,r)==-1&&$s.push(r),(r==93||r==224)&&(r=91),r in Gr){Gr[r]=!0;for(t in Ka)Ka[t]==r&&(Zr[t]=!0);return}if(bS(o),!!Zr.filter.call(this,o)&&r in Pi){for(s=Ch(),n=0;n<Pi[r].length;n++)if(e=Pi[r][n],e.scope==s||e.scope=="all"){i=e.mods.length>0;for(t in Gr)(!Gr[t]&&dc(e.mods,+t)>-1||Gr[t]&&dc(e.mods,+t)==-1)&&(i=!1);(e.mods.length==0&&!Gr[16]&&!Gr[18]&&!Gr[17]&&!Gr[91]||i)&&e.method(o,e)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}}function CS(o){var r=o.keyCode,e,t=dc($s,r);if(t>=0&&$s.splice(t,1),(r==93||r==224)&&(r=91),r in Gr){Gr[r]=!1;for(e in Ka)Ka[e]==r&&(Zr[e]=!1)}}function xS(){for(gi in Gr)Gr[gi]=!1;for(gi in Ka)Zr[gi]=!1}function Zr(o,r,e){var t,n;t=_1(o),e===void 0&&(e=r,r="all");for(var i=0;i<t.length;i++)n=[],o=t[i].split("+"),o.length>1&&(n=b1(o),o=[o[o.length-1]]),o=o[0],o=wh(o),o in Pi||(Pi[o]=[]),Pi[o].push({shortcut:t[i],scope:r,method:e,key:t[i],mods:n})}function AS(o,r){var e,t,n=[],i,s,c;for(e=_1(o),s=0;s<e.length;s++){if(t=e[s].split("+"),t.length>1&&(n=b1(t)),o=t[t.length-1],o=wh(o),r===void 0&&(r=Ch()),!Pi[o])return;for(i=0;i<Pi[o].length;i++)c=Pi[o][i],c.scope===r&&yS(c.mods,n)&&(Pi[o][i]={})}}function SS(o){return typeof o=="string"&&(o=wh(o)),dc($s,o)!=-1}function ES(){return $s.slice(0)}function TS(o){var r=(o.target||o.srcElement).tagName;return!(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")}for(gi in Ka)Zr[gi]=!1;function OS(o){m1=o||"all"}function Ch(){return m1||"all"}function DS(o){var r,e,t;for(r in Pi)for(e=Pi[r],t=0;t<e.length;)e[t].scope===o?e.splice(t,1):t++}function _1(o){var r;return o=o.replace(/\s/g,""),r=o.split(","),r[r.length-1]==""&&(r[r.length-2]+=","),r}function b1(o){for(var r=o.slice(0,o.length-1),e=0;e<r.length;e++)r[e]=Ka[r[e]];return r}function Ip(o,r,e){o.addEventListener?o.addEventListener(r,e,!1):o.attachEvent&&o.attachEvent("on"+r,function(){e(window.event)})}Zr.setScope=OS;Zr.getScope=Ch;Zr.deleteScope=DS;Zr.filter=TS;Zr.isPressed=SS;Zr.getPressedKeyCodes=ES;Zr.unbind=AS;Zr.handlers=Pi;Zr.init=function(o){Ip(o.document,"keydown",function(r){wS(r)}),Ip(o.document,"keyup",CS),Ip(o,"focus",xS)};var tc=Zr,MS={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}},kS=MS,PS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),I0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))};(0,Le.hasWin)()&&tc.init(window);var IS=function(o){PS(r,o);function r(e){var t=o.call(this,e,"Keymaps",kS)||this;return t.keymaster=tc,t.keymaps={},t}return r.prototype.onLoad=function(){var e=this.config.defaults;for(var t in e){var n=e[t];this.add(t,n.keys,n.handler,n.opts||{})}},r.prototype.add=function(e,t,n,i){i===void 0&&(i={});var s=this.em,c=s.Commands,u=s.getEditor(),d=s.Canvas,h={id:e,keys:t,handler:n},v=this.keymaps[e];return v&&this.remove(e),this.keymaps[e]=h,tc(t,function(m,_){var w={event:m,h:_},x=(0,M.isString)(n)?c.get(n):n,E=!s.isEditing()&&!u.Canvas.isInputFocused();if(E||i.force){i.prevent&&d.getCanvasView().preventDefault(m),(0,M.isFunction)(x)?x(u,0,w):c.runCommand(x,w);var F=[e,_.shortcut,m];s.trigger.apply(s,I0(["keymap:emit"],F,!1)),s.trigger.apply(s,I0(["keymap:emit:".concat(e)],F,!1))}},void 0),s.trigger("keymap:add",h),h},r.prototype.get=function(e){return this.keymaps[e]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(e){var t=this.em,n=this.get(e);if(n)return delete this.keymaps[e],n.keys.split(", ").forEach(function(i){tc.unbind(i.trim())}),t?.trigger("keymap:remove",n),n},r.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(t){return e.remove(t)}),tc.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r}(vi),LS=IS,VS={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}},RS=VS,FS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),NS=function(o){FS(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r}(ua.A),HS=NS,BS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ad=function(){return Ad=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ad.apply(this,arguments)},jS=function(o){BS(r,o);function r(e){var t=o.call(this,e)||this,n=t.model;return t.listenTo(n,"change:open",t.updateOpen),t.listenTo(n,"change:title",t.updateTitle),t.listenTo(n,"change:content",t.updateContent),t}return r.prototype.template=function(e){var t=e.pfx,n=e.ppfx,i=e.content,s=e.title;return'<div class="'.concat(t,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(t,`header">
        <div class="`).concat(t,'title">').concat(s,`</div>
        <div class="`).concat(t,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(t,`content">
        <div id="`).concat(t,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(t,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(e){var t=this.config.backdrop;t&&e.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},r.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var e=this.getContent(),t=e.children(),n=this.getCollector(),i=this.model.get("content");t.length&&n.append(t),e.empty().append(i)},r.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(e){var t=this,n=t.pfx,i=t.$el,s=t.el,c=[].slice.call(s.attributes).map(function(u){return u.name});i.removeAttr(c.join(" ")),i.attr(Ad(Ad({},e||{}),{class:"".concat(n,"container ").concat(e&&e.class||"").trim()}))},r.prototype.render=function(){var e=this.$el,t=this.model.toJSON();return t.pfx=this.pfx,t.ppfx=this.ppfx,e.html(this.template(t)),this.updateAttr(),this.updateOpen(),this},r}(Gi),zS=jS,US=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),WS=function(o){US(r,o);function r(e){var t=o.call(this,e,"Modal",RS)||this;return t.model=new HS(t),t.model.on("change:open",function(n,i){e.trigger("modal:".concat(i?"open":"close"))}),t.model.on("change",(0,M.debounce)(function(){var n=t._evData(),i=t.config.custom;(0,M.isFunction)(i)&&i(n),e.trigger("modal",n)},0)),t}return r.prototype._evData=function(){var e=this,t=this.getTitle(),n=this.getContent(),i=this.model.attributes,s=i.open,c=i.attributes;return{open:s,attributes:c,title:(0,M.isString)(t)?(0,ot.GZ)(t):t,content:(0,M.isString)(n)?(0,ot.GZ)(n):n.get?n.get(0):n,close:function(){e.close()}}},r.prototype.postRender=function(e){var t=e.model.config.el||e.el,n=this.render();n&&t?.appendChild(n)},r.prototype.open=function(e){e===void 0&&(e={});var t=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",t),this.model.open(),this.modal&&this.modal.updateAttr(t),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},r.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(e){return this.model.set("title",e),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var e;if(!this.config.custom){var t=zS.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new t({el:n,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},r.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},r}(vi),GS=WS,L0="sw-visibility",V0="export-template",R0="open-sm",F0="open-tm",N0="open-layers",H0="open-blocks",Lp="fullscreen",Vp="preview",YS={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:L0,className:"fa fa-square-o",command:"core:component-outline",context:L0,attributes:{title:"View components"}},{id:Vp,className:"fa fa-eye",command:Vp,context:Vp,attributes:{title:"Preview"}},{id:Lp,className:"fa fa-arrows-alt",command:Lp,context:Lp,attributes:{title:"Fullscreen"}},{id:V0,className:"fa fa-code",command:V0,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:R0,className:"fa fa-paint-brush",command:R0,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:F0,className:"fa fa-cog",command:F0,togglable:!1,attributes:{title:"Settings"}},{id:N0,className:"fa fa-bars",command:N0,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:H0,className:"fa fa-th-large",command:H0,togglable:!1,attributes:{title:"Open Blocks"}}]}]},Rp=YS,ZS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),KS=function(o){ZS(r,o);function r(e,t){var n=o.call(this,e,t)||this;return n.get("buttons").length&&n.set("buttons",new x1(n.module,n.get("buttons"))),n}return r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r}(ua.A),w1=KS,qS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),C1=function(o){qS(r,o);function r(e,t){return o.call(this,e,t,w1)||this}return r.prototype.deactivateAllExceptOne=function(e,t){this.forEach(function(n,i){n!==e&&(n.set("active",!1),t&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(e,t))})},r.prototype.deactivateAll=function(e,t){var n=e||"";this.forEach(function(i){i.get("context")==n&&i!==t&&i.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(e){var t=e||"";this.forEach(function(n,i){n.get("context")==t&&n.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(e,t){this.forEach(function(n,i){n!==e&&(n.set("disable",!0),t&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(e,t))})},r}(jd),x1=C1;C1.prototype.model=w1;var $S=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),QS=function(o){$S(r,o);function r(e,t){var n=o.call(this,e,t)||this,i=n.get("buttons")||[];return n.buttons=new x1(e,i),n}return r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),r}(ua.A),A1=QS,XS=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),S1=function(o){XS(r,o);function r(e,t){return o.call(this,e,t,A1)||this}return r}(jd),JS=S1;S1.prototype.model=A1;var e5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zs=function(){return zs=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},zs.apply(this,arguments)},t5=function(o){e5(r,o);function r(e){var t=o.call(this,e)||this,n=t,i=n.model,s=n.em,c=n.pfx,u=n.ppfx,d=i.className,h=i.attributes,v=h.command,m=h.listen;if(t.id=c+i.get("id"),t.activeCls="".concat(c,"active ").concat(u,"four-color"),t.disableCls="".concat(u,"disabled"),t.btnsVisCls="".concat(c,"visible"),t.className=c+"btn"+(d?" "+d:""),t.listenTo(i,"change",t.render),t.listenTo(i,"change:active updateActive",t.updateActive),t.listenTo(i,"checkActive",t.checkActive),t.listenTo(i,"change:bntsVis",t.updateBtnsVis),t.listenTo(i,"change:attributes",t.updateAttributes),t.listenTo(i,"change:className",t.updateClassName),t.listenTo(i,"change:disable",t.updateDisable),s&&(0,M.isString)(v)&&m){var _={fromListen:!0};t.listenTo(s,"run:".concat(v),function(){return i.set("active",!0,_)}),t.listenTo(s,"stop:".concat(v),function(){return i.set("active",!1,_)})}return s&&s.get&&(t.commands=s.get("Commands")),t}return r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var e=this,t=e.model,n=e.pfx,i=t.className,s=t.get("attributes").class,c="".concat(s||""," ").concat(n,"btn ").concat(i||"");this.$el.attr("class",c.trim())},r.prototype.updateAttributes=function(){var e=this,t=e.em,n=e.model,i=e.$el,s=n.get("attributes")||{},c=t&&t.t&&t.t("panels.buttons.titles.".concat(n.id));i.attr(s),c&&i.attr({title:c}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(e,t,n){var i;n===void 0&&(n={});var s=this,c=s.model,u=s.commands,d=s.$el,h=s.activeCls,v=n.fromCollection,m=n.fromListen,_=c.get("context"),w=c.get("options"),x=c.command,E={};x&&(u&&(0,M.isString)(x)?E=u.get(x)||{}:(0,M.isFunction)(x)?E=u.create({run:x}):x!==null&&(0,M.isObject)(x)&&(E=u.create(x)),c.active?(!v&&((i=c.collection)===null||i===void 0||i.deactivateAll(_,c)),c.set("active",!0,{silent:!0}).trigger("checkActive"),!m&&u.runCommand(E,zs(zs({},w),{sender:c})),E.noStop&&c.set("active",!1)):(d.removeClass(h),!m&&u.stopCommand(E,zs(zs({},w),{sender:c,force:1}))))},r.prototype.updateDisable=function(){var e=this,t=e.disableCls,n=e.model,i=n.disable;this.$el[i?"addClass":"removeClass"](t)},r.prototype.checkActive=function(){var e=this,t=e.model,n=e.$el,i=e.activeCls;t.active?n.addClass(i):n.removeClass(i)},r.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},r.prototype.toggleActive=function(){var e=this,t=e.model,n=e.em,i=t.active,s=t.togglable;i&&!s||(t.active=!i,i?t.runDefaultCommand&&n.runDefault():t.stopDefaultCommand&&n.stopDefault())},r.prototype.render=function(){var e=this.model,t=e.get("label"),n=this.$el;return!e.get("el")&&n.empty(),this.updateAttributes(),t&&n.append(t),this.checkActive(),this.updateDisable(),this},r}(Gi),n5=t5,r5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),i5=function(o){r5(r,o);function r(e){var t=o.call(this,{collection:e})||this;return t.listenTo(t.collection,"add",t.addTo),t.listenTo(t.collection,"reset remove",t.render),t.className=t.pfx+"buttons",t}return r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){var n=t||null,i=e.get("el"),s=new n5({el:i,model:e}),c=s.render().el;return n?n.appendChild(c):this.$el.append(c),c},r.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return e.addToCollection(n,t)}),this.$el.append(t),this.$el.attr("class",(0,M.result)(this,"className")),this},r}(Gi),o5=i5,a5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oh=function(){return oh=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},oh.apply(this,arguments)},s5=function(o){a5(r,o);function r(e){var t=o.call(this,{model:e,el:e.get("el")})||this;return t.className=t.pfx+"panel",t.id=t.pfx+e.get("id"),t.listenTo(e,"change:appendContent",t.appendContent),t.listenTo(e,"change:content",t.updateContent),t.listenTo(e,"change:visible",t.toggleVisible),e.view=t,t}return r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var e=this.em,t=e?.Editor,n=this.model.get("resizable");if(t&&n){var i=n===!0?[!0,!0,!0,!0]:n,s=i.length,c=void 0,u=void 0,d=void 0,h=!1;if(s==2){var v=i;c=v[0],d=v[0],u=v[1],h=v[1]}else if(s==4){var v=i;c=v[0],u=v[1],d=v[2],h=v[3]}var m=new t.Utils.Resizer(oh({tc:c,cr:u,bc:d,cl:h,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:t.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(_,w){var x=w.target,E=_.style,F=m.getConfig(),U=F.keyWidth,R=F.keyHeight,W=_.getBoundingClientRect(),de=x=="container",Ae=E[U],Te=E[R],pe=Ae&&!de?parseFloat(Ae):W.width,K=Te&&!de?parseFloat(Te):W.height;return{left:0,top:0,width:pe,height:K}}},n&&typeof n!="boolean"?n:{}));m.blur=function(){},m.focus(this.el)}},r.prototype.render=function(){var e=this.model.buttons,t=this.$el,n=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(t.addClass(i),this.toggleVisible(),e.length){var s=new o5(e);t.append(s.render().el)}return t.append(this.model.get("content")),this},r}(Gi),l5=s5,c5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u5=function(o){c5(r,o);function r(e){var t=o.call(this,{collection:e})||this;return t.listenTo(e,"add",t.addTo),t.listenTo(e,"reset",t.render),t.listenTo(e,"remove",t.onRemove),t.className=t.pfx+"panels",t}return r.prototype.onRemove=function(e){var t=e.view;t&&t.remove()},r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){var n=t||null,i=e.get("el"),s=new l5(e),c=s.render().el,u=e.get("appendTo");if(!i)if(u){var d=document.querySelector(u);d?.appendChild(c)}else n?n.appendChild(c):this.$el.append(c);return s.initResize(),c},r.prototype.render=function(){var e=this,t=this.$el,n=document.createDocumentFragment();return t.empty(),this.collection.each(function(i){return e.addToCollection(i,n)}),t.append(n),t.attr("class",this.className),this},r}(Gi),d5=u5,f5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),p5=function(o){f5(r,o);function r(e){var t=o.call(this,e,"Panels",Rp)||this;t.panels=new JS(t,t.config.defaults);for(var n in Rp)n in t.config||(t.config[n]=Rp[n]);return t}return r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},r.prototype.addPanel=function(e){return this.panels.add(e)},r.prototype.removePanel=function(e){return this.panels.remove(e)},r.prototype.getPanel=function(e){var t=this.panels.where({id:e});return t.length?t[0]:null},r.prototype.addButton=function(e,t){var n=this.getPanel(e);return n?n.buttons.add(t):null},r.prototype.removeButton=function(e,t){var n=this.getPanel(e);return n&&n.buttons.remove(t)},r.prototype.getButton=function(e,t){var n=this.getPanel(e);if(n){var i=n.buttons.where({id:t});return i.length?i[0]:null}return null},r.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new d5(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("active")&&t.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("disable")&&t.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r}(vi),h5=p5,g5={stylePrefix:"cm-",optsCodeViewer:{}},v5=g5,m5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),y5=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},_5=function(o){m5(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.build=function(e,t){t===void 0&&(t={});var n=t.em,i=y5(t,["em"]),s=i;if(t.cleanId&&n){var c=n.Css.getAll(),u=c.toJSON().map(function(d){var h=d.selectors,v=h&&h.length===1&&h.models[0];return v&&v.isId()&&v.get("name")}).filter(Boolean);s.attributes||(s.attributes=function(d,h){var v=h.id;return v&&v[0]==="i"&&!d.get("script")&&!d.get("attributes").id&&u.indexOf(v)<0&&delete h.id,h})}return e.toHTML(s)},r}(tt.Kx),b5=_5,w5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),C5=function(o){w5(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.build=function(e){var t=this,n=e.toJSON();return this.beforeEach(n),(0,M.each)(n,function(i,s){var c=n[s];if(c instanceof tt.Kx)n[s]=t.build(c);else if(c instanceof tt.pM){var u=c;n[s]=[],u.length&&u.forEach(function(d,h){n[s][h]=t.build(d)})}}),n},r.prototype.beforeEach=function(e){delete e.status},r}(tt.Kx),x5=C5,A5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();function S5(o){var r,e=((r=o.toString().match(/\{([\s\S]*)\}/m))===null||r===void 0?void 0:r[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var E5=function(o){A5(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.mapModel=function(e){var t,n=this,i="",s=e.get("script-export")||e.get("script"),c=e.get("type"),u=e.get("components"),d=e.getId();if(s){var h=e.get("attributes");h=(0,M.extend)({},h,{id:d}),e.set("attributes",h,{silent:!0});var v=e.getScriptString(s),m=e.get("script-props");if(e.get("scriptUpdated")&&!m)this.mapJs[c+"-"+d]={ids:[d],code:v};else{var _=void 0,w=this.mapJs[c];if(m&&(_=e.__getScriptProps()),w)w.ids.push(d),_&&(w.props[d]=_);else{var x={ids:[d],code:v};_&&(x.props=(t={},t[d]=_,t)),this.mapJs[c]=x}}}return u.forEach(function(E){i+=n.mapModel(E)}),i},r.prototype.build=function(e){this.mapJs={},this.mapModel(e);var t="";for(var n in this.mapJs){var i=this.mapJs[n];if(i.code)if(i.props){if(S5(i.code))continue;t+=`
          var props = `.concat(JSON.stringify(i.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(i.code,`.bind(el))(props[el.id]);
          }`)}else{var s="#"+i.ids.join(", #");t+=`
          var items = document.querySelectorAll('`.concat(s,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(i.code,`
}.bind(items[i]))();
          }`)}}return t},r}(tt.Kx),T5=E5,O5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ah=function(){return ah=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ah.apply(this,arguments)},fc;(0,Le.hasWin)()&&(fc=en(237),en(520),en(656),en(862));var E1=function(o){O5(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(e){return(0,M.bindAll)(this,"onChange"),this.editor=fc.fromTextArea(e,ah({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(e){return this.element=e,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},r.prototype.setContent=function(e,t){var n=this;t===void 0&&(t={});var i=this.editor;if(i){i.setValue(e);var s=this.get("autoFormat"),c=i.autoFormatRange&&(s===!0||Array.isArray(s)&&s.includes(this.get("codeName")));c&&(fc.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),fc.commands.goDocStart(i)),!t.noRefresh&&setTimeout(function(){return n.refresh()})}},r}(tt.Kx),D5=E1;E1.prototype.CodeMirror=fc;var M5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),k5=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},P5=function(o){M5(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.template=function(e){var t=e.pfx,n=e.codeName,i=e.label;return hi(B0||(B0=k5([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),t,t,n,t,i,t)},r.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var e,t,n=this,i=n.model,s=n.pfx,c=n.$el,u=i.toJSON(),d=i.get("input")||((t=(e=i).getElement)===null||t===void 0?void 0:t.call(e));return u.pfx=s,c.html(this.template(u)),c.attr("class","".concat(s,"editor-c")),c.find("#".concat(s,"code")).append(d),this},r}(tt.Ss),I5=P5,B0,L5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sd=function(){return Sd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Sd.apply(this,arguments)},V5="CodeMirror",R5=function(o){L5(r,o);function r(e){var t=o.call(this,e,"CodeManager",v5)||this;t.EditorView=I5;var n=t.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),t.generators={},t.viewers={},t.defGenerators={html:new b5,css:new u3,json:new x5,js:new T5},t.defViewers={CodeMirror:new D5},t.loadDefaultGenerators().loadDefaultViewers(),t}return r.prototype.addGenerator=function(e,t){return this.generators[e]=t,this},r.prototype.getGenerator=function(e){return this.generators[e]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(e,t){return this.viewers[e]=t,this},r.prototype.getViewer=function(e){return this.viewers[e]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(e){e===void 0&&(e={});var t=(0,M.isUndefined)(e.type)?V5:e.type,n=this.getViewer(t)&&this.getViewer(t).clone(),i=document.createElement("div"),s=document.createElement("textarea");return i.appendChild(s),n.set(Sd(Sd({},this.config.optsCodeViewer),e)),n.init(s),n.setElement(i),n},r.prototype.updateViewer=function(e,t){e.setContent(t)},r.prototype.getCode=function(e,t,n){n===void 0&&(n={}),n.em=this.em;var i=this.getGenerator(t);return i?i.build(e,n):""},r.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},r.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},r.prototype.destroy=function(){},r}(vi),F5=R5,N5=en(982),H5=en.n(N5),B5={maximumStackLength:500,trackSelection:!0},j5=B5,z5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Oo=function(){return Oo=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Oo.apply(this,arguments)},U5=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Fu=function(o){return o.avoidStore||o.noUndo},j0=function(o){return Object.keys(o.changedAttributes())},W5=function(o){z5(r,o);function r(e){var t=o.call(this,e,"UndoManager",j5)||this;t.config._disable&&(t.config.maximumStackLength=0);var n=!0;return t.um=new(H5())(Oo({track:!0,register:[]},t.config)),t.um.changeUndoType("change",{condition:function(i){var s=i.get("_undo");if(s){var c=i.get("_undoexc");if((0,M.isArray)(c)&&j0(i).some(function(u){return c.indexOf(u)>=0}))return!1;if((0,M.isBoolean)(s)||(0,M.isArray)(s)&&j0(i).some(function(u){return s.indexOf(u)>=0}))return!0}return!1},on:function(i,s,c){var u=this;!this.beforeCache&&(this.beforeCache=i.previousAttributes());var d=c||s||{};if(d.noUndo&&setTimeout(function(){u.beforeCache=null}),!Fu(d)){var h=i.toJSON({fromUndo:n}),v={object:i,before:this.beforeCache,after:h};return this.beforeCache=null,(0,M.isEmpty)(h)?void 0:v}}}),t.um.changeUndoType("add",{on:function(i,s,c){if(c===void 0&&(c={}),!(Fu(c)||!t.isRegistered(s)))return{object:s,before:void 0,after:i,options:Oo(Oo({},c),{fromUndo:n})}}}),t.um.changeUndoType("remove",{on:function(i,s,c){if(c===void 0&&(c={}),!(Fu(c)||!t.isRegistered(s)))return{object:s,before:i,after:void 0,options:Oo(Oo({},c),{fromUndo:n})}}}),t.um.changeUndoType("reset",{undo:function(i,s){i.reset(s,{fromUndo:n})},redo:function(i,s,c){i.reset(c,{fromUndo:n})},on:function(i,s){if(s===void 0&&(s={}),!(Fu(s)||!t.isRegistered(i)))return{object:i,before:s.previousModels,after:U5([],i.models,!0),options:Oo(Oo({},s),{fromUndo:n})}}}),t.um.on("undo redo",function(){e.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),["undo","redo"].forEach(function(i){return t.um.on(i,function(){return e.trigger(i)})}),t}return r.prototype.postLoad=function(){var e=this,t=e.config,n=e.em;t.trackSelection&&n&&this.add(n.get("selected"))},r.prototype.add=function(e){return this.um.register(e),this},r.prototype.remove=function(e){return this.um.unregister(e),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(e){e===void 0&&(e=!0);var t=this,n=t.em,i=t.um;return!n.isEditing()&&i.undo(e),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(e){e===void 0&&(e=!0);var t=this,n=t.em,i=t.um;return!n.isEditing()&&i.redo(e),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var e=[],t=[];return this.getStack().forEach(function(n){var i=n.get("magicFusionIndex");t.indexOf(i)<0&&(t.push(i),e.push(n))}),e},r.prototype.skip=function(e){var t=!!this.um.isTracking();t&&this.stop(),e(),t&&this.start()},r.prototype.getGroupedStack=function(){var e={},t=this.getStack(),n=function(i,s){var c=i.attributes,u=c.type,d=c.after,h=c.before,v=c.object,m=c.options,_=m===void 0?{}:m;return{index:s,type:u,after:d,before:h,object:v,options:_}};return t.forEach(function(i,s){var c=i.get("magicFusionIndex"),u=n(i,s);e[c]?e[c].push(u):e[c]=[u]}),Object.keys(e).map(function(i){var s=e[i];return{index:s[s.length-1].index,actions:s,labels:(0,M.unique)(s.reduce(function(c,u){var d,h=(d=u.options)===null||d===void 0?void 0:d.action;return h&&c.push(h),c},[]))}})},r.prototype.goToGroup=function(e){var t=this;if(e){var n=this.getPointer(),i=e.index-n;(0,M.times)(Math.abs(i),function(){t[i<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r}(vi),G5=W5,Y5={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1},Z5=Y5,Us=function(){return Us=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Us.apply(this,arguments)},sh=function(o){return o[o.ACTIVE=1]="ACTIVE",o[o.INACTIVE=0]="INACTIVE",o[o.DISABLED=-1]="DISABLED",o}(sh||{}),Fp="_rte",Ga={ACTIVE:1,INACTIVE:0,DISABLED:-1},Nu=function(o,r){r===void 0&&(r="A");var e=o.selection()||{},t=e.anchorNode,n=e.focusNode,i=t?.parentNode,s=n?.parentNode;return i?.nodeName==r||s?.nodeName==r},Ed="data-selectme",Jl={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(o){return o.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(o){return o.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(o){return o.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(o){return o.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(o){return o&&o.selection()&&Nu(o)?Ga.ACTIVE:Ga.INACTIVE},result:function(o){Nu(o)?o.exec("unlink"):o.insertHTML('<a href="" '.concat(Ed,">").concat(o.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(o){return o?.selection()&&Nu(o,"SPAN")?Ga.DISABLED:Ga.INACTIVE},result:function(o){!Nu(o,"SPAN")&&o.insertHTML("<span ".concat(Ed,">").concat(o.selection(),"</span>"),{select:!0})}}},K5=function(){function o(r,e,t){t===void 0&&(t={});var n=this;if(this.em=r,this.settings=t,e[Fp])return e[Fp];e[Fp]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(t.actions||[]).map(function(h){var v=h;return(0,M.isString)(h)?v=Us({},Jl[h]):Jl[h.name]&&(v=Us(Us({},Jl[h.name]),h)),v}),s=i.length?i:Object.keys(Jl).map(function(h){return Jl[h]});t.classes=Us({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},t.classes);var c=t.classes,u=t.actionbar;if(this.actionbar=u,this.classes=c,this.actions=s,!u){if(!this.isCustom(t.module)){var d=t.actionbarContainer;u=document.createElement("div"),u.className=c.actionbar,d?.appendChild(u),this.actionbar=u}s.forEach(function(h){return n.addAction(h)})}return t.styleWithCSS&&this.exec("styleWithCSS"),this}return o.prototype.isCustom=function(r){var e=r||this.em.RichTextEditor;return!!(e?.config.custom||e?.customRte)},o.prototype.destroy=function(){},o.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},o.prototype.updateActiveActions=function(){var r=this,e=this.getActions();e.forEach(function(t){var n=t.update,i=t.btn,s=r.classes,c=s.active,u=s.inactive,d=s.disabled,h=t.state,v=t.name,m=r.doc,_=sh.INACTIVE;if(i&&(i.className=i.className.replace(c,"").trim(),i.className=i.className.replace(u,"").trim(),i.className=i.className.replace(d,"").trim()),h){var w=h(r,m);if(_=w,i)switch(w){case Ga.ACTIVE:i.className+=" ".concat(c);break;case Ga.INACTIVE:i.className+=" ".concat(u);break;case Ga.DISABLED:i.className+=" ".concat(d);break}}else m.queryCommandSupported(v)&&m.queryCommandState(v)&&(i&&(i.className+=" ".concat(c)),_=sh.ACTIVE);t.currentState=_,n?.(r,t)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},o.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},o.prototype.disable=function(){return this.__toggleEffects(!1)},o.prototype.__toggleEffects=function(r,e){r===void 0&&(r=!1),e===void 0&&(e={});var t=r?ot.on:ot.AU,n=this,i=n.el,s=n.doc,c=this.actionbarEl();if(c&&(c.style.display=r?"":"none"),i.contentEditable="".concat(!!r),t(i,"mouseup keyup",this.updateActiveActions),t(s,"keydown",this.__onKeydown),t(s,"paste",this.__onPaste),this.enabled=r,r){var u=e.event;if(this.syncActions(),this.updateActiveActions(),u){var d=null;if(s.caretRangeFromPoint){var h=(0,ot.G2)(u);d=s.caretRangeFromPoint(h.clientX,h.clientY)}else u.rangeParent&&(d=s.createRange(),d.setStart(u.rangeParent,u.rangeOffset));var v=s.getSelection();v?.removeAllRanges(),d&&v?.addRange(d)}i.focus()}return this},o.prototype.__onKeydown=function(r){var e=this.em,t=e.RichTextEditor.getConfig().onKeydown;if(t)return t({ev:r,rte:this,editor:e.getEditor()});var n=this.doc,i=["insertOrderedList","insertUnorderedList"];r.key==="Enter"&&!i.some(function(s){return n.queryCommandState(s)})&&(n.execCommand("insertLineBreak"),r.preventDefault())},o.prototype.__onPaste=function(r){var e=this.em,t=e.RichTextEditor.getConfig().onPaste;if(t)return t({ev:r,rte:this,editor:e.getEditor()});var n=r.clipboardData,i=n.getData("text"),s=n.getData("text/html");if(i&&!s){r.preventDefault();var c=i.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,c)}},o.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(e){if(r.actionbar&&(!e.state||e.state&&e.state(r,r.doc)>=0)){var t=e.event||"click",n=e.btn;n&&(n["on".concat(t)]=function(){e.result(r,e),r.updateActiveActions()})}})},o.prototype.addAction=function(r,e){e===void 0&&(e={});var t=e.sync,n=this.actionbarEl();if(n){var i=r.icon,s=r.attributes,c=s===void 0?{}:s,u=document.createElement("span");u.className=this.classes.button,r.btn=u;for(var d in c)u.setAttribute(d,c[d]);typeof i=="string"?u.innerHTML=i:u.appendChild(i),n.appendChild(u)}t&&(this.actions.push(r),this.syncActions())},o.prototype.getActions=function(){return this.actions},o.prototype.selection=function(){return this.doc.getSelection()},o.prototype.exec=function(r,e){this.doc.execCommand(r,!1,e)},o.prototype.actionbarEl=function(){return this.actionbar},o.prototype.insertHTML=function(r,e){var t=e===void 0?{}:e,n=t.select,i=this,s=i.em,c=i.doc,u=i.el,d=c.getSelection();if(d&&d.rangeCount){var h=(0,Le.getComponentModel)(u)||s.getSelected(),v=c.createElement("div"),m=d.getRangeAt(0);m.deleteContents(),(0,M.isString)(r)?v.innerHTML=r:r&&v.appendChild(r),Array.prototype.slice.call(v.childNodes).forEach(function(_){m.insertNode(_)}),d.removeAllRanges(),d.addRange(m),u.focus(),n&&h&&(h.once("rte:disable",function(){var _=h.find("[".concat(Ed,"]"))[0];_&&(s.setSelected(_),_.removeAttributes(Ed))}),h.trigger("disable"))}},o}(),q5=K5,$5=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),z0=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?i(h.value):n(h.value).then(c,u)}d((t=t.apply(o,r||[])).next())})},U0=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(o,e)}catch(h){d=[6,h],n=0}finally{t=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Q5=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Np="".concat(Hu.refresh," frame:scroll ").concat(Dr.I.update),X5="rte:enable",J5="rte:disable",e6="rte:custom",t6={enable:X5,disable:J5,custom:e6},n6=function(o){$5(r,o);function r(e){var t=o.call(this,e,"RichTextEditor",Z5)||this;t.events=t6;var n=t.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),t.pfx=n.stylePrefix,t.actions=n.actions||[];var s=new tt.Kx;return t.model=s,s.on("change:currentView",t.__trgCustom,t),t.__dbdTrgCustom=(0,M.debounce)(function(){return t.__trgCustom()},0),t}return r.prototype.onLoad=function(){if((0,Le.hasWin)()){var e=this.config,t=e.pStylePrefix,n=e.custom,i=(0,ot.a_)("div",{class:(0,ot.cx)("".concat(t,"rte-toolbar"),!n&&"".concat(t,"one-bg ").concat(t,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,ot.a_)("div")),(0,ot.on)(i,"mousedown",function(s){return s.stopPropagation()})}},r.prototype.__trgCustom=function(){var e=this,t=e.model,n=e.em,i=e.events;n.trigger(i.custom,{enabled:!!t.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var e,t,n;(e=this.globalRte)===null||e===void 0||e.destroy(),(n=(t=this.customRte)===null||t===void 0?void 0:t.destroy)===null||n===void 0||n.call(t),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ot.YZ)(this.toolbar)},r.prototype.postRender=function(e){var t=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),t.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(e){var t=this.globalRte,n=this,i=n.em,s=n.pfx,c=n.actionbar,u=n.config,d=this.actions||Q5([],u.actions,!0),h={actionbar:"".concat(s,"actionbar"),button:"".concat(s,"action"),active:"".concat(s,"active"),inactive:"".concat(s,"inactive"),disabled:"".concat(s,"disabled")};return t?(t.em=i,t.setEl(e)):(t=new q5(i,e,{classes:h,actions:d,actionbar:c,actionbarContainer:this.toolbar,module:this}),this.globalRte=t),t.actionbar&&(this.actionbar=t.actionbar),t.actions&&(this.actions=t.actions),t},r.prototype.add=function(e,t){var n;t===void 0&&(t={}),t.name=e,(n=this.globalRte)===null||n===void 0||n.addAction(t,{sync:!0})},r.prototype.get=function(e){var t,n;return(t=this.globalRte)===null||t===void 0||t.getActions().forEach(function(i){i.name==e&&(n=i)}),n},r.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},r.prototype.remove=function(e){var t,n=this.getAll(),i=this.get(e);if(i){var s=i.btn,c=n.indexOf(i);(t=s?.parentNode)===null||t===void 0||t.removeChild(s),n.splice(c,1)}return i},r.prototype.run=function(e){var t=this.globalRte,n=(0,M.isString)(e)?this.get(e):e;t&&n&&(n.result(t,n),t.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var e=this,t=e.em,n=e.toolbar,i="px",s=t.Canvas,c=n.style,u=s.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(d){var h=u[d];(0,Le.isDef)(h)&&(c[d]=(0,M.isString)(h)?h:(h||0)+i)})},r.prototype.enable=function(e,t){return z0(this,arguments,void 0,function(n,i,s){var c,u,d,h,v;return s===void 0&&(s={}),U0(this,function(m){switch(m.label){case 0:return this.lastEl=n.el,c=this,u=c.customRte,d=c.em,h=n.getChildrenContainer(),this.toolbar.style.display="",[4,u?u.enable(h,i):this.initRte(h).enable(s)];case 1:return v=m.sent(),d&&(setTimeout(this.updatePosition.bind(this),0),d.off(Np,this.updatePosition,this),d.on(Np,this.updatePosition,this),d.trigger("rte:enable",n,v)),this.model.set({currentView:n}),[2,v]}})})},r.prototype.getContent=function(e,t){return z0(this,void 0,void 0,function(){var n;return U0(this,function(i){switch(i.label){case 0:return n=this.customRte,n&&t&&(0,M.isFunction)(n.getContent)?[4,n.getContent(e.el,t)]:[3,2];case 1:return[2,i.sent()];case 2:return[2,e.getChildrenContainer().innerHTML]}})})},r.prototype.hideToolbar=function(){var e=this.toolbar.style,t="-1000px";e.top=t,e.left=t,e.display="none"},r.prototype.disable=function(e,t,n){n===void 0&&(n={});var i=this.em,s=this.customRte,c=e.getChildrenContainer();s?s.disable(c,t):t&&t.disable(),this.hideToolbar(),i&&(i.off(Np,this.updatePosition,this),!n.fromMove&&i.trigger("rte:disable",e,t)),this.model.unset("currentView")},r}(vi),r6=n6,i6={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]},o6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wr=function(){return Wr=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Wr.apply(this,arguments)},a6=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},W0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},xh=function(o){o6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.getDefaults=function(){return(0,M.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.em=t.em;var n=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||n).replace(/ /g,"-"));var s=this.get("property");!this.get("id")&&this.set("id",s),!i&&this.set("name",(0,Le.capitalize)(s).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,e,t)},r.prototype.__getParentProp=function(){var e,t;return(t=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||t===void 0?void 0:t.parentProp},r.prototype.__upTargets=function(e,t){var n,i=this;t===void 0&&(t={});var s=this.em,c=s.Styles,u=this.getName(),d=t.__clear,h=d?"":this.__getFullValue(t),v=this.__getParentProp(),m=this.changedAttributes(),_=(0,M.keys)(m).reduce(function(R,W){return R[W]=i.previous(W),R},{}),w=W0(W0([],(0,M.keys)(this.__getClearProps()),!0),["__p"],!1),x=(0,M.keys)(m),E=!t.__up&&!v&&(d||w.some(function(R){return x.indexOf(R)>=0})),F=this.get("onChange"),U={property:this,from:_,to:m,value:h,opts:t};c.__trgEv(c.events.propertyUpdate,U),F&&F(U),E&&this.__upTargetsStyle((n={},n[u]=h,n),t)},r.prototype.__upTargetsStyle=function(e,t){var n,i=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");i?.addStyleTargets(Wr(Wr({},e),{__p:!!t.avoidStore}),t)},r.prototype._up=function(e,t){t===void 0&&(t={}),t.noTarget&&(t.__up=!0);var n=t.partial,i=a6(t,["partial"]);return e.__p=!!(i.avoidStore||n),this.set(e,Wr(Wr({},i),{avoidStore:e.__p}))},r.prototype.up=function(e,t){t===void 0&&(t={}),this.set(e,Wr(Wr({},t),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(e){var t;e===void 0&&(e={});var n=e.locale,i=n===void 0?!0:n,s=this.getId(),c=this.get("name")||this.get("label");return i&&((t=this.em)===null||t===void 0?void 0:t.t("styleManager.properties.".concat(s)))||c},r.prototype.getValue=function(e){e===void 0&&(e={});var t=e.noDefault,n=this.get("value");return!this.hasValue()&&!t?this.getDefaultValue():n},r.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,n=t&&this.getParentTarget(),i=this.get("value");return!(0,M.isUndefined)(i)&&i!==""&&!n},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(e){var t;e===void 0&&(e={});var n=this.getName(),i=e.camelCase?(0,Le.camelCase)(n):n;return t={},t[i]=this.__getFullValue(e),t},r.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,M.isUndefined)(e)?this.get("defaults"):e)},r.prototype.upValue=function(e,t){t===void 0&&(t={});var n=e===null||e===""?this.__getClearProps():this.__parseValue(e,t);return this._up(n,t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),Wr(Wr({},e),{__clear:!0})),this},r.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(e,t){return this.parseValue(e,t)},r.prototype.__getClearProps=function(){return{value:""}},r.prototype.setValue=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n={});var i=this.parseValue(e),s=!t;!s&&this.set({value:void 0},{avoidStore:s,silent:!0}),this.set(i,Wr({avoidStore:s},n))},r.prototype.setValueFromInput=function(e,t,n){n===void 0&&(n={}),this.setValue(e,t,Wr(Wr({},n),{fromInput:1}))},r.prototype.parseValue=function(e,t){t===void 0&&(t={});var n={value:e},i="!important",s=this.get("functionName")||"";if((0,M.isString)(e)&&e.indexOf(i)!==-1&&(n.value=e.replace(i,"").trim(),n.important=!0),!s&&!t.complete)return n;var c=[],u="".concat(n.value).trim(),d=u.indexOf("(")+1,h=s||u.substring(0,d-1);if(h&&(n.functionName=h),!s||u.indexOf("".concat(s,"("))===0){var v=u.lastIndexOf(")");c.push(d),v>=0&&c.push(v),n.value=String.prototype.substring.apply(u,c)}if(t.numeric){var m=parseFloat(n.value);n.unit=n.value.replace(m,""),n.value=m}return n},r.prototype.__getFullValue=function(e){var t=e===void 0?{}:e,n=t.withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(e,t){t===void 0&&(t={});var n=this.get("functionName"),i=this.getDefaultValue(),s=(0,M.isUndefined)(e)?this.get("value"):e,c=!(0,M.isUndefined)(s)&&s!=="";if(s&&i&&s===i)return i;if(n&&c){var u=n==="url"?"'".concat(s.replace(/'|"/g,""),"'"):s;s="".concat(n,"(").concat(u,")")}return c&&this.get("important")&&!t.skipImportant&&(s="".concat(s," !important")),s||""},r.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(e){e===void 0&&(e="");var t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}},r.prototype.__checkVisibility=function(e){var t=e.target,n=e.component,i=e.sectors,s=n||t;if(!s)return!1;var c=this.getId(),u=this.getName(),d=this.get("toRequire"),h=this.get("requires"),v=this.get("requiresParent"),m=s.get("unstylable"),_=s.get("stylable-require"),w=s.get("stylable");if((0,M.isArray)(w)&&(w=w.indexOf(u)>=0),(0,M.isArray)(m)&&(w=m.indexOf(u)<0),d&&(w=!t||_&&(_.indexOf(c)>=0||_.indexOf(u)>=0)),i&&h){var x=(0,M.keys)(h);i.forEach(function(R){R.getProperties().forEach(function(W){if((0,M.includes)(x,W.id)){var de=h[W.id];w=w&&(0,M.includes)(de,W.get("value"))}})})}if(v){var E=n&&n.parent(),F=E&&E.getEl();if(F){var U=(0,Le.hasWin)()?window.getComputedStyle(F):{};(0,M.each)(v,function(R,W){w=w&&U[W]&&(0,M.includes)(R,U[W])})}else w=!1}return!!w},r}(tt.Kx),yn=xh;xh.callParentInit=function(o,r,e,t){t===void 0&&(t={}),o.prototype.initialize.apply(r,[e,Wr(Wr({},t),{skipInit:1})])};xh.callInit=function(o,r,e){e===void 0&&(e={}),!e.skipInit&&o.init(r,e)};var s6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Td=function(){return Td=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Td.apply(this,arguments)},l6=function(o){s6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var e=this.collection;this.prop=e?.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},r.prototype.getValues=function(e){e===void 0&&(e={});var t=this.get("values");return e.camelCase?Object.keys(t).reduce(function(n,i){return n[(0,Le.camelCase)(i)]=t[i],n},{}):t},r.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},r.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},r.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},r.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},r.prototype.move=function(e){var t;return(t=this.prop)===null||t===void 0?void 0:t.moveLayer(this,e)},r.prototype.getStylePreview=function(e){var t;return e===void 0&&(e={}),(t=this.prop)===null||t===void 0?void 0:t.getStylePreview(this,e)},r.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},r.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",Td(Td({},this.getValues()),e))},r}(tt.Kx),c6=l6,u6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),T1=function(o){u6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(e,t){t===void 0&&(t={}),this.prop=t.prop},r}(tt.pM),d6=T1;T1.prototype.model=c6;var f6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ws=function(){return Ws=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ws.apply(this,arguments)},G0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},O1=function(o){return o==="integer"||o==="number"},p6=function(o){f6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Ws(Ws({},yn.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),yn.callParentInit(yn,this,e,t);var n=this.em,i=new Sh(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),yn.callInit(this,e,t)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return G0([],this.get("properties").models,!0)},r.prototype.getProperty=function(e){return this.properties.filter(function(t){return t.getId()===e||t.getName()===e})[0]},r.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(e){var t=e===void 0?{}:e,n=t.byName;return this.getProperties().reduce(function(i,s){var c=n?s.getName():s.getId();return i[c]="".concat(s.__getFullValue()),i},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(e){var t;e===void 0&&(e={});var n=this.getName(),i=this.__getJoin(),s=this.get("toStyle"),c=this.getValues(),u={};if(s)u=s(c,{join:i,name:n,property:this});else if(c=this.getValues({byName:!0}),this.isDetached())u=c;else{var d=this.getProperties().map(function(h){return h.__getFullValue({withDefault:1})}).filter(Boolean).join(i);u=(t={},t[n]=d,t)}return this.isDetached()?u[n]="":(u[n]=u[n]||"",u=Ws(Ws({},u),this.getProperties().reduce(function(h,v){return h[v.getName()]="",h},{}))),e.camelCase?Object.keys(u).reduce(function(h,v){return h[(0,Le.camelCase)(v)]=u[v],h},{}):u},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(e,t){if(t===void 0&&(t={}),!(t.__up||t.__clearIn)){var n=this.__getParentProp();if(n)return n.__upProperties(this,t);this.__upTargetsStyleProps(t,e)}},r.prototype.__upTargetsStyleProps=function(e,t){var n;e===void 0&&(e={});var i=this.getStyleFromProps();if(this.isDetached()&&t){var s=t.getName();i=(n={},n[s]=i[s],n)}this.__upTargetsStyle(i,e)},r.prototype._up=function(e,t){return t===void 0&&(t={}),this.__setProperties(this.__getSplitValue(e.value),t),yn.prototype._up.call(this,e,t),this},r.prototype.getStyle=function(e){return this.getStyleFromProps(e)},r.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var t=this.getStyleFromProps()[this.getName()]||"";return Yp(t)},r.prototype.__getJoin=function(){var e=this.get("join");return(0,M.isString)(e)?e:this.get("separator")},r.prototype.__styleHasProps=function(e){e===void 0&&(e={});var t=this.getName(),n=this.getProperties(),i=n.map(function(c){return c.getName()}),s=G0([t],i,!0);return s.some(function(c){return!(0,M.isUndefined)(e[c])&&e[c]!==""})},r.prototype.__splitValue=function(e,t){return Yp(e).split(t).map(function(n){return n.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(e,t,n){return this.__splitValue(e[t]||"",n)},r.prototype.__getSplitValue=function(e,t){e===void 0&&(e="");var n=t===void 0?{}:t,i=n.byName,s=this.getProperties(),c=s.length===4&&s.every(function(h){return O1(h.getType())}),u=this.__splitValue(e,this.getSplitSeparator()),d={};return s.forEach(function(h,v){var m=u[v],_=(0,M.isUndefined)(m)?"":m;if(c){var w=u.length;_=u[v]||u[v%w+(w!=1&&w%2?1:0)]||_}var x=i?h.getName():h.getId();d[x]=_||""}),d},r.prototype.__getPropsFromStyle=function(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!this.__styleHasProps(e))return null;var n=t.byName,i=this.getName(),s=this.getProperties(),c=this.getSplitSeparator(),u=this.get("fromStyle"),d=u?u(e,{property:this,name:i,separator:c}):{};return u||(d=this.__getSplitValue(e[i]||"",{byName:n}),s.forEach(function(h){var v=e[h.getName()],m=n?h.getName():h.getId();!(0,M.isUndefined)(v)&&v!==""&&(d[m]=v)})),d},r.prototype.__setProperties=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.getProperties().forEach(function(i){var s=e[i.getId()];i.__getFullValue()!==s&&i.upValue(s,t)});var n=(0,M.keys)(e).map(function(i){return e[i]}).join(" ");this.set("value",n,{silent:!0})},r.prototype.clear=function(){var e=this;return this.getProperties().map(function(t){return t.clear({__clearIn:!e.isDetached()})}),yn.prototype.clear.call(this),this},r.prototype.hasValue=function(e){return this.getProperties().some(function(t){return t.hasValue(e)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},r}(yn),Fs=p6,h6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),di=function(){return di=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},di.apply(this,arguments)},g6=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},v6=/,(?![^\(]*\))/,m6=/\s(?![^(]*\))/,y6=function(o){h6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return di(di({},Fs.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Fs.callParentInit(Fs,this,e,t);var n=this.get("layers"),i=new d6(n,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),Fs.callInit(this,e,t)},Object.defineProperty(r.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),r.prototype.getLayers=function(){return this.layers.models},r.prototype.hasLayers=function(){return this.getLayers().length>0},r.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},r.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},r.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},r.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t&&this.selectLayer(t)},r.prototype.moveLayer=function(e,t){t===void 0&&(t=0);var n=this.layers,i=e?e.getIndex():-1;i>=0&&(0,M.isNumber)(t)&&t>=0&&t<n.length&&i!==t&&(this.removeLayer(e),n.add(e,{at:t}))},r.prototype.addLayer=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={};this.getProperties().forEach(function(s){var c=s.getId(),u=e[c];n[c]=(0,M.isUndefined)(u)?s.getDefaultValue():u});var i=this.layers.push({values:n},t);return i},r.prototype.removeLayer=function(e){return this.layers.remove(e)},r.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t?this.removeLayer(t):null},r.prototype.getLayerLabel=function(e){var t="";if(e){var n=this.get("layerLabel"),i=e.getValues(),s=e.getIndex();if(n)t=n(e,{index:s,values:i,property:this});else{var c=[];this.getProperties().map(function(u){c.push(i[u.getId()])}),t=c.filter(Boolean).join(" ")}}return t},r.prototype.getStyleFromLayer=function(e,t){var n;t===void 0&&(t={});var i=this.__getJoin(),s=this.__getJoinLayers(),c=this.get("toStyle"),u=this.getName(),d=e.getValues(),h;if(c)h=c(d,{join:i,joinLayers:s,name:u,layer:e,property:this});else{var v=this.getProperties().map(function(m){var _=m.getName(),w=d[m.getId()],x=(0,M.isUndefined)(w)?m.getDefaultValue():w;if(t.number&&O1(m.getType())){var E=m.parseValue(w,t.number);x="".concat(E.value).concat(E.unit)}return{name:_,value:x}});h=this.isDetached()?v.reduce(function(m,_){return m[_.name]=_.value,m},{}):(n={},n[this.getName()]=v.map(function(m){return m.value}).join(i),n)}return t.camelCase?Object.keys(h).reduce(function(m,_){return m[(0,Le.camelCase)(_)]=h[_],m},{}):h},r.prototype.getStylePreview=function(e,t){t===void 0&&(t={});var n={},i=this.get("preview");return i&&(n=this.getStyleFromLayer(e,t)),n},r.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,M.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},r.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},r.prototype.__upProperties=function(e,t){var n;t===void 0&&(t={});var i=this.getSelectedLayer();i&&(i.upValues((n={},n[e.getId()]=e.__getFullValue(),n)),!t.__up&&this.__upTargetsStyleProps(t))},r.prototype.__upLayers=function(e,t,n){this.__upTargetsStyleProps(n||t)},r.prototype.__upTargets=function(e,t){if(t===void 0&&(t={}),!t.__select)return yn.prototype.__upTargets.call(this,e,t)},r.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},r.prototype.__upTargetsStyle=function(e,t){return yn.prototype.__upTargetsStyle.call(this,e,t)},r.prototype.__upSelected=function(e,t){var n=e===void 0?{}:e,i=n.noEvent;t===void 0&&(t={});var s=this.em.Styles,c=this.getSelectedLayer(),u=c?.getValues();u&&this.getProperties().forEach(function(d){var h,v=(h=u[d.getId()])!==null&&h!==void 0?h:"";d.__getFullValue()!==v&&d.upValue(v,di(di({},t),{__up:!0}))}),!i&&s.__trgEv(s.events.layerSelect,{property:this})},r.prototype._up=function(e,t){t===void 0&&(t={});var n=e.__layers,i=n===void 0?[]:n,s=g6(e,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},t),yn.prototype._up.call(this,s,t),this},r.prototype.__setLayers=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=this.layers,i=e.map(function(s){return{values:s}});n.length===i.length?i.map(function(s,c){var u;return(u=n.at(c))===null||u===void 0?void 0:u.upValues(s.values)}):n.reset(i),this.set({isEmptyValue:!!t.isEmptyValue}),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(e){var t=this,n=this.parseValue(e);return n.__layers=e.split(v6).map(function(i){return i.trim()}).map(function(i){return t.__parseLayer(i)}).filter(Boolean),n},r.prototype.__parseLayer=function(e){var t=this.get("parseLayer"),n=e.split(m6),i=this.getProperties();return t?t({value:e,values:n}):i.reduce(function(s,c,u){var d=n[u];return s[c.getId()]=(0,M.isUndefined)(d)?c.getDefaultValue():d,s},{})},r.prototype.__getLayersFromStyle=function(e){var t=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var n=this.getName(),i=this.getProperties(),s=this.getLayerSeparator(),c=this.attributes.fromStyle,u=c?c(e,{property:this,name:n,separatorLayers:s}):[];if(!c){var d=this.__splitStyleName(e,n,s).map(function(h){return h.split(t.getSplitSeparator())}).map(function(h){var v={};return i.forEach(function(m,_){var w=h[_];v[m.getId()]=(0,M.isUndefined)(w)?m.getDefaultValue():w}),v});i.forEach(function(h){var v=h.getId();t.__splitStyleName(e,h.getName(),s).map(function(m){var _;return _={},_[v]=m||h.getDefaultValue(),_}).forEach(function(m,_){d[_]=d[_]?di(di({},d[_]),m):m})}),u=d}return(0,M.isArray)(u)?u:[u]},r.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},r.prototype.getStyleFromLayers=function(e){var t=this;e===void 0&&(e={});var n={},i=this.getName(),s=this.getLayers(),c=this.getProperties(),u=s.map(function(h){return t.getStyleFromLayer(h,e)});if(u.forEach(function(h){(0,M.keys)(h).map(function(v){n[v]||(n[v]=[]),n[v].push(h[v])})}),(0,M.keys)(n).map(function(h){n[h]=n[h].join(t.__getJoinLayers())}),this.isDetached())n[i]="",!s.length&&c.map(function(h){n[h.getName()]=""});else{var d=c.reduce(function(h,v){return h[v.getName()]="",h},{});n[i]=n[i]||"",n=di(di({},n),d)}return di(di({},n),e.__clear?{}:this.getEmptyValueStyle())},r.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.getEmptyValueStyle({force:!0}),n=(0,M.keys)(t);return!!n.length&&n.every(function(i){return t[i]===e[i]})},r.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.attributes.emptyValue;if(t&&(!this.hasLayers()||e.force)){var n=this.getName(),i=this.getProperties(),s=(0,M.isString)(t)?t:t({property:this});if((0,M.isString)(s)){var c={};return this.isDetached()?i.map(function(u){c[u.getName()]=s}):c[n]=s,c}else return s}else return{}},r.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),t=this.get("layerSeparator");return e||((0,M.isString)(t)?t:e)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return Yp(e[this.getName()])},r.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,n=t&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!n},r.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(di(di({},e),{__clear:!0})),yn.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r.prototype.__getLayers=function(){return this.layers},r}(Fs),_6=y6,b6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Od=function(){return Od=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Od.apply(this,arguments)},w6=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},C6=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Hp="data-clear-style",x6=function(o){b6(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;(0,M.bindAll)(t,"__change","__updateStyle");var n=e.config||{},i=n.em;t.config=n,t.em=i,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.__destroyFn=t.destroy?t.destroy.bind(t):function(){};var s=t.model;s.view=t,t.onValueChange=(0,M.debounce)(t.onValueChange.bind(t),10),t.updateStatus=(0,M.debounce)(t.updateStatus.bind(t),0),t.listenTo(s,"destroy remove",t.remove),t.listenTo(s,"change:visible",t.updateVisibility),t.listenTo(s,"change:name change:className change:full",t.render),t.listenTo(s,"change:value",t.onValueChange),t.listenTo(s,"change:parentTarget",t.updateStatus),t.listenTo(i,"change:device",t.onValueChange);var c=t.init&&t.init.bind(t);return c&&c(),t}return r.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(Hp,"]")]="clear",e},r.prototype.template=function(e){var t=this,n=t.pfx,i=t.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},r.prototype.templateLabel=function(e){var t=this,n=t.pfx,i=t.em,s=e.parent,c=e.attributes,u=c.icon,d=u===void 0?"":u,h=c.info,v=h===void 0?"":h,m=i?.getConfig().icons,_=m?.close||"";return`
      <span class="`.concat(n,"icon ").concat(d,'" title="').concat(v,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(s?"":'<div class="'.concat(n,'clear" style="display: none" ').concat(Hp,">").concat(_,"</div>"),`
    `)},r.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},r.prototype.remove=function(){var e=this;return tt.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(t){return e[t]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var e,t=this,n=t.model,i=t.pfx,s=t.ppfx,c=t.config,u="".concat(s,"four-color"),d="".concat(s,"color-warn"),h=this.$el.children(".".concat(i,"label")),v=this.getClearEl(),m=v?v.style:{};h.removeClass("".concat(u," ").concat(d)),m.display="none",n.hasValue({noParent:!0})&&c.highlightChanged?(h.addClass(u),c.clearProperties&&(m.display="")):n.hasValue()&&c.highlightComputed&&h.addClass(d),(e=this.parent)===null||e===void 0||e.updateStatus()},r.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Hp,"]"))),this.clearEl},r.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},r.prototype.onValueChange=function(e,t,n){n===void 0&&(n={}),this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(e){var t=this.model,n=(0,M.isUndefined)(e)||e===""?t.getDefaultValue():e;if(this.update)return this.__update(n);this.__setValueInput(n)},r.prototype.__setValueInput=function(e){var t=this.getInputEl();t&&(t.value=e)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},r.prototype.__update=function(e){var t=this.update&&this.update.bind(this);t&&t(Od(Od({},this._getClbOpts()),{value:e}))},r.prototype.__change=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,C6([this._getClbOpts()],e,!1))},r.prototype.__updateStyle=function(e,t){t===void 0&&(t={});var n=t.complete,i=t.partial,s=w6(t,["complete","partial"]),c=this.model,u=n!==!1&&i!==!0;(0,Le.isObject)(e)?c.__upTargetsStyle(e,{avoidStore:!u}):c.upValue(e,{partial:!u})},r.prototype._getClbOpts=function(){var e=this,t=e.model,n=e.el,i=e.createdEl;return{el:n,createdEl:i,property:t,props:t.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var e=this,t=e.pfx,n=e.model,i=e.el,s=e.$el,c=n.getName(),u=n.getType(),d=n.get("className")||"",h="".concat(t,"property"),v=u==="number"?"".concat(t).concat(u," ").concat(t,"integer"):"".concat(t).concat(u);this.createdEl&&this.__destroyFn(this._getClbOpts()),s.empty().append(this.template(n)),s.find("[data-sm-label]").append(this.templateLabel(n));var m=this.create&&this.create.bind(this);this.createdEl=m&&m(this._getClbOpts()),s.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),i.className="".concat(h," ").concat(v," ").concat(h,"__").concat(c," ").concat(d).trim(),i.className+=n.isFull()?" ".concat(h,"--full"):"";var _=this.onRender&&this.onRender.bind(this);return _&&_(),this.setValue(n.getValue()),this},r.prototype.onRender=function(){},r}(tt.Ss),Mo=x6,A6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),S6=function(o){A6(r,o);function r(e){var t=o.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.properties=[],t.parent=e.parent;var n=t.collection;return t.listenTo(n,"add",t.addTo),t.listenTo(n,"reset",t.render),t}return r.prototype.addTo=function(e,t,n){this.add(e,null,n)},r.prototype.add=function(e,t,n){n===void 0&&(n={});var i=this,s=i.parent,c=i.config,u=t||this.el,d=new e.typeView({model:e,config:c});s&&(d.parent=s),d.render();var h=d.el;this.properties.push(d),(0,ot.Sc)(u,h,n.at)},r.prototype.remove=function(){return tt.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},r.prototype.render=function(){var e=this,t=this,n=t.$el,i=t.pfx;this.clearItems();var s=document.createDocumentFragment();return this.collection.forEach(function(c){return e.add(c,s)}),n.empty(),n.append(s),n.attr("class","".concat(i,"properties")),this},r}(tt.Ss),Ah=S6,E6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dd=function(){return Dd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Dd.apply(this,arguments)},T6=function(o){E6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},r.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),Mo.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var e=this.pfx,t=this.model,n=t.get("properties");if(n.length&&!this.props){var i=t.isDetached(),s=new Ah({config:Dd(Dd({},this.config),{highlightComputed:i,highlightChanged:i}),collection:n,parent:this});s.render(),this.$el.find("#".concat(e,"input-holder")).append(s.el),this.props=s}},r.prototype.clearCached=function(){Mo.prototype.clearCached.apply(this,arguments),delete this.props},r}(Mo),nc=T6,O6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),D6=function(o){O6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var e=this,t=e.pfx,n=e.ppfx,i=e.em,s=i?.getConfig().icons,c=s?.close||"",u=s?.move||"";return`
      <div class="`.concat(t,`label-wrp">
        <div id="`).concat(t,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(u,`
        </div>
        <div id="`).concat(t,`label" data-label></div>
        <div id="`).concat(t,'preview-box" class="').concat(t,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(t,'preview" class="').concat(t,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(t,'close-layer" class="').concat(t,`btn-close" data-close-layer>
          `).concat(c,`
        </div>
      </div>
      <div id="`).concat(t,`inputs" data-properties></div>
    `)},r.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,n=e.config||{};this.em=n.em,this.config=n,this.sorter=e.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=e.propertyView;var i=this.propertyView.model;this.listenTo(t,"destroy remove",this.remove),this.listenTo(t,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),t.view=this,t.set({droppable:0,draggable:1}),this.$el.data("model",t)},r.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort(this.el)},r.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var e=this.model,t=e.getLabel();if(this.getLabelEl().innerHTML=t,e.hasPreview()){var n=this.getPreviewEl(),i=e.getStylePreview({number:{min:-3,max:3}}),s=(0,M.keys)(i).map(function(c){return"".concat(c,":").concat(i[c])}).join(";");n.setAttribute("style",s)}},r.prototype.updateVisibility=function(){var e,t=this,n=t.pfx,i=t.model,s=t.propertyView,c=this.getPropertiesWrapper(),u=i.isSelected();c.style.display=u?"":"none",this.$el[u?"addClass":"removeClass"]("".concat(n,"active")),u&&c.appendChild((e=s.props)===null||e===void 0?void 0:e.el)},r.prototype.render=function(){var e=this,t=e.el,n=e.pfx,i=e.model;return t.innerHTML=this.template(),t.className="".concat(n,"layer"),i.hasPreview()&&(t.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r}(tt.Ss),M6=D6,k6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),P6=function(o){k6(r,o);function r(e){var t=o.call(this,e)||this,n=t.collection,i=e.config||{},s=i.em,c=i.stylePrefix||"",u=i.pStylePrefix||"";t.config=i,t.pfx=c,t.ppfx=u,t.propertyView=e.propertyView,t.className="".concat(c,"layers ").concat(u,"field"),t.listenTo(n,"add",t.addTo),t.listenTo(n,"reset",t.reset),t.items=[];var d=s?.Utils;return t.sorter=d?new d.Sorter({container:t.el,ignoreViewChildren:1,containerSel:".".concat(c,"layers"),itemSel:".".concat(c,"layer"),pfx:i.pStylePrefix,em:s}):"",n.view=t,t.$el.data("model",n),t.$el.data("collection",n),t}return r.prototype.addTo=function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},r.prototype.addToCollection=function(e,t,n){var i=t||null,s=this,c=s.propertyView,u=s.config,d=s.sorter,h=s.$el,v=new M6({model:e,config:u,sorter:d,propertyView:c}),m=v.render().el;if(this.items.push(v),i)i.appendChild(m);else if(typeof n<"u"){var _="before";h.children().length===n&&(n--,_="after"),n<0?h.append(m):h.children().eq(n)[_](m)}else h.append(m);return m},r.prototype.reset=function(e,t){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),tt.Ss.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},r.prototype.render=function(){var e=this,t=this,n=t.$el,i=t.sorter,s=document.createDocumentFragment();return n.empty(),this.collection.forEach(function(c){return e.addToCollection(c,s)}),n.append(s),n.attr("class",this.className),i&&(i.plh=null),this},r}(tt.Ss),I6=P6,L6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gs=function(){return Gs=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Gs.apply(this,arguments)},V6=function(o){L6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return Gs(Gs({},nc.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var e=this,t=e.pfx,n=e.em,i=n?.getConfig().icons,s=i?.plus||"+";return`
      <div class="`.concat(t,"field ").concat(t,`stack">
        <button type="button" id="`).concat(t,`add" data-add-layer>
          `).concat(s,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},r.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),nc.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){nc.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var e=this,t=e.model,n=e.el,i=e.config,s=t.get("properties");if(s.length&&!this.props){var c=new Ah({config:Gs(Gs({},i),{highlightComputed:!1,highlightChanged:!1}),collection:s,parent:this});c.render();var u=new I6({collection:t.layers,config:i,propertyView:this});u.render();var d=n.querySelector("[data-layers-wrapper]");d.appendChild(u.el),this.props=c,this.layersView=u}},r}(nc),R6=V6,F6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Md=function(){return Md=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Md.apply(this,arguments)},N6=function(o){F6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return Md(Md({},Mo.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var e,t=this,n=t.pfx,i=t.em,s=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,c=s?.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(c,`</div>
        </div>
      </div>
    `)},r.prototype.__setValueInput=function(e){var t=this,n=t.model,i=t.el,s=n.getDefaultValue(),c=i.querySelector("[data-preview-box]"),u=i.querySelector("[data-preview]");c.style.display=!e||e===s?"none":"",u.style.backgroundImage=e||n.getDefaultValue()},r.prototype.openAssetManager=function(){var e=this,t,n=(t=this.em)===null||t===void 0?void 0:t.Assets;n?.open({select:function(i,s){var c=(0,M.isString)(i)?i:i.get("src");e.model.upValue(c,{partial:!s}),s&&n.close()},types:["image"],accept:"image/*"})},r}(Mo),H6=N6,B6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),j6=function(o){B6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(e){return""},r.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},r.prototype.setValue=function(e){},r.prototype.onRender=function(){var e=this,t=e.ppfx,n=e.model,i=e.el;if(!this.inputInst){var s=n.input;s.ppfx=t,s.render();var c=i.querySelector(".".concat(t,"fields"));c.appendChild(s.el),this.input=s.inputEl.get(0),this.inputInst=s}},r.prototype.clearCached=function(){Mo.prototype.clearCached.apply(this,arguments),this.inputInst=null},r}(Mo),Do=j6,z6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),U6=function(o){z6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.setValue=function(e){var t;(t=this.inputInst)===null||t===void 0||t.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var e=this;Do.prototype.remove.apply(this,arguments);var t=this.inputInst;return t&&t.remove&&t.remove(),["inputInst","$color"].forEach(function(n){return e[n]=null}),this},r.prototype.__handleChange=function(e,t){this.model.upValue(e,{partial:t})},r.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var t=this,n=t.ppfx,i=t.model,s=t.em,c=t.el,u=new Jy({target:s,model:i,ppfx:n,onChange:this.__handleChange}),d=u.render();c.querySelector(".".concat(n,"fields")).appendChild(d.el),this.input=(e=d.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=d}},r}(Do),W6=U6,G6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kd=function(){return kd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},kd.apply(this,arguments)},Y0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Y6=function(o){G6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return kd(kd({},yn.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var e=this.attributes,t=e.options,n=e.list;return(t&&t.length?t:n)||[]},r.prototype.getOption=function(e){var t=this,n=(0,Le.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(i){return t.getOptionId(i)===n})[0]||null},r.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},r.prototype.addOption=function(e){if(e){var t=this.getOptions();this.setOptions(Y0(Y0([],t,!0),[e],!1))}return this},r.prototype.getOptionId=function(e){return(0,Le.isDef)(e.id)?e.id:e.value},r.prototype.getOptionLabel=function(e,t){var n;t===void 0&&(t={});var i=t.locale,s=i===void 0?!0:i,c=((0,M.isString)(e)?this.getOption(e):e)||{},u=this.getOptionId(c),d=c.label||c.name||u,h=t.property||this.getId();return s&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(h,".").concat(u)))||d},r.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];yn.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r}(yn),lh=Y6,Z6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),K6=function(o){Z6(r,o);function r(e){var t=o.call(this,e)||this;return t.listenTo(t.model,"change:options",t.updateOptions),t}return r.prototype.templateInput=function(){var e=this,t=e.pfx,n=e.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(t,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var e=this.pfx,t=this.model,n=t.getOptions();if(!this.input){var i=[];n.forEach(function(c){var u=t.getOptionId(c),d=t.getOptionLabel(u),h=c.style?c.style.replace(/"/g,"&quot;"):"",v=h?'style="'.concat(h,'"'):"",m=u.replace(/"/g,"&quot;");i.push('<option value="'.concat(m,'" ').concat(v,">").concat(d,"</option>"))});var s=this.el.querySelector("#".concat(e,"input-holder"));s.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=s.firstChild}},r.prototype.__setValueInput=function(e){var t=this.model,n=this.getInputEl(),i=t.getOptions()[0],s=i?t.getOptionId(i):"";n&&(n.value=e||s)},r}(Mo),D1=K6,q6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pd=function(){return Pd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Pd.apply(this,arguments)},$6=function(o){q6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Pd(Pd({},lh.getDefaults()),{full:1})},r}(lh),Q6=$6,X6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),J6=function(o){X6(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},r.prototype.onRender=function(){var e=this,t=e.pfx,n=e.ppfx,i=this.model,s="".concat(n,"radio-item-label"),c=i.getName(),u=i.getOptions(),d="".concat(t,"radio ").concat(t,"radio-").concat(c),h=i.cid;if(!this.input){var v=[];u.forEach(function(_){var w=_.className?"".concat(_.className," ").concat(t,"icon ").concat(s):"",x=i.getOptionId(_),E="".concat(c,"-").concat(x,"-").concat(h),F=w?"":i.getOptionLabel(x),U=_.title?'title="'.concat(_.title,'"'):"",R=i.getValue()===x?"checked":"";v.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(d,'" id="').concat(E,'" name="').concat(c,"-").concat(h,'" value="').concat(x,'" ').concat(R,`/>
            <label class="`).concat(w||s,'" ').concat(U,' for="').concat(E,'">').concat(F,`</label>
          </div>
        `))});var m=this.el.querySelector(".".concat(n,"field"));m.innerHTML='<div class="'.concat(n,'radio-items">').concat(v.join(""),"</div>"),this.input=m.firstChild}},r.prototype.__setValueInput=function(e){var t,n=this.model,i=e||n.getDefaultValue(),s=(t=this.getInputEl())===null||t===void 0?void 0:t.querySelector('[value="'.concat(i,'"]'));s&&(s.checked=!0)},r}(D1),e8=J6,t8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ua=function(){return Ua=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ua.apply(this,arguments)},n8=function(o){t8(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Ua(Ua({},yn.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(e,t){return t===void 0&&(t={}),this._up({unit:e},t)},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),yn.callParentInit(yn,this,e,t);var n=this.get("unit"),i=this.getUnits();this.input=(0,Le.hasWin)()?new t1({model:this}):void 0,i.length&&!n&&this.set("unit",i[0],{silent:!0}),yn.callInit(this,e,t)},r.prototype.__getClearProps=function(){return Ua(Ua({},yn.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(e,t){t===void 0&&(t={});var n=yn.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(n.value,Ua({deepCheck:1},t)),s=i.value,c=i.unit;return n.value=s,n.unit=c,n},r.prototype.getFullValue=function(){var e=this.get("value"),t=this.get("unit"),n=(0,M.isUndefined)(e)?"":"".concat(e),i=!(0,M.isUndefined)(t)&&n?t:"",s="".concat(n).concat(i);return yn.prototype.getFullValue.apply(this,[s])},r}(yn),Id=n8,r8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ld=function(){return Ld=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ld.apply(this,arguments)},i8=function(o){r8(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Ld(Ld({},Id.getDefaults()),{showInput:1})},r}(Id),o8=i8,a8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vd=function(){return Vd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Vd.apply(this,arguments)},s8=function(o){a8(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return Vd(Vd({},Do.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(e){var t=this.ppfx;return`
      <div class="`.concat(t,"field ").concat(t,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(e){var t=this.model,n=t.parseValue(e);this.getSliderEl().value=e===""?t.getDefaultValue():parseFloat(n.value),Do.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){Do.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){Do.prototype.clearCached.apply(this,arguments),delete this.slider},r}(Do),l8=s8,c8=tt.pM.extend(f1),u8=c8.extend({extendViewApi:1,init:function(){var o=this,r=o.opts,e=o.em,t=r.module||e?.get("StyleManager");t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:_6,view:R6,isType:function(o){if(o&&o.type=="stack")return o}},{id:"composite",model:Fs,view:nc,isType:function(o){if(o&&o.type=="composite")return o}},{id:"file",model:yn,view:H6,isType:function(o){if(o&&o.type=="file")return o}},{id:"color",model:yn,view:W6,isType:function(o){if(o&&o.type=="color")return o}},{id:"select",model:lh,view:D1,isType:function(o){if(o&&o.type=="select")return o}},{id:"radio",model:Q6,view:e8,isType:function(o){if(o&&o.type=="radio")return o}},{id:"slider",model:o8,view:l8,isType:function(o){if(o&&o.type=="slider")return o}},{id:"integer",model:Id,view:Do,isType:function(o){if(o&&o.type=="integer")return o}},{id:"number",model:Id,view:Do,isType:function(o){if(o&&o.type=="number")return o}},{id:"base",model:yn,view:Mo,isType:function(o){return o.type="base",o}}]}),Sh=u8,d8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rd=function(){return Rd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Rd.apply(this,arguments)},f8=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},p8=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},h8=function(o){d8(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e)||this,i=t.em;n.em=i;var s=e||{},c=n.buildProperties(s.buildProps),u=n.get("name")||"",d=[];!n.get("id")&&n.set("id",u.replace(/ /g,"_").toLowerCase()),c?d=n.extendProperties(c):d=n.get("properties").map(function(v){return(0,M.isString)(v)?n.buildProperties(v)[0]:v}).filter(Boolean),d=d.map(function(v){return n.checkExtend(v)});var h=new Sh(d,{em:i});return h.sector=n,n.set("properties",h),n}return r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var e,t=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(t)))||this.get("name")},r.prototype.setName=function(e){return this.set("name",e)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(e){return this.set("open",e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(e){e===void 0&&(e={});var t=this.properties,n=t.models?p8([],t.models,!0):t;return n.filter(function(i){var s=!0;if(e.withValue&&(s=i.hasValue({noParent:!0})),e.withParentValue){var c=i.hasValue({noParent:!0});s=!c&&i.hasValue()}return s})},r.prototype.getProperty=function(e){return this.getProperties().filter(function(t){return t.get("id")===e})[0]||void 0},r.prototype.addProperty=function(e,t){return this.properties.add(this.checkExtend(e),t)},r.prototype.extendProperties=function(e,t,n){n===void 0&&(n=!1);for(var i=e.length,s=t||this.get("properties"),c=this.get("extendBuilded"),u=[],d=0,h=s.length;d<h;d++){for(var v=s[d],m=0,_=0;_<i;_++){var w=e[_];if(v.property==w.property||v.id==w.property){var x=v.properties;x&&x.length&&(v.properties=this.extendProperties(w.properties||[],x,1)),e[_]=c?(0,M.extend)(w,v):v,u[_]=e[_],m=1;continue}}m||(e.push(v),u.push(v))}return n?u.filter(function(E){return E}):e},r.prototype.checkExtend=function(e){var t=((0,M.isString)(e)?{extend:e}:e)||{},n=t.extend,i=f8(t,["extend"]);return n?Rd(Rd({},this.buildProperties([n])[0]||{}),i):e},r.prototype.buildProperties=function(e){var t,n=e||[];if(!n.length)return[];var i=(t=this.em)===null||t===void 0?void 0:t.Styles.builtIn;return i?.build(n)},r}(tt.Kx),M1=h8,g8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fd=function(){return Fd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Fd.apply(this,arguments)},v8=function(o){g8(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(e,t){t===void 0&&(t={});var n=t.module,i=t.em;this.em=i,this.module=n,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(e,t){t===void 0&&(t={});var n=t.collection.em;return new M1(e,Fd(Fd({},t),{em:n}))},r.prototype.onReset=function(e,t){t===void 0&&(t={});var n=t.previousModels||[];n.forEach(function(i){return i.get("properties").reset()})},r}(tt.pM),m8=v8,sa=function(){return sa=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},sa.apply(this,arguments)},y8=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},Na=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},tr=function(o){return o.map(function(r){return{id:r}})},_8=function(){function o(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",e=["flex-start","flex-end","center"],t=Na(Na([],e,!0),["baseline","stretch"],!1);this.optsBgSize=tr(["auto","cover","contain"]),this.optsBgAttach=tr(["scroll","fixed","local"]),this.optsBgRepeat=tr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=tr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=tr(["visible","hidden","scroll","auto"]),this.optsDir=tr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=tr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=tr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=tr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=tr(["none","left","right"]),this.optsPos=tr(["static","relative","absolute","fixed"]),this.optsTextAlign=tr(["left","center","right","justify"]),this.optsFlexAlign=tr(t),this.optsJustCont=tr(Na(Na([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=tr(Na(Na([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=tr(Na(["auto"],t,!0)),this.optsTransitProp=tr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=tr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=tr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return o.prototype.__sub=function(r){var e=this;return function(){return r.map(function(t){if((0,M.isString)(t))return e.get(t);var n=t.extend,i=y8(t,["extend"]);return sa(sa({},e.get(n)),i)})}},o.prototype.init=function(){var r=this,e=this,t=e.fixedValues,n=e.requireFlex,i=e.typeNumber;this.props={};var s=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:t},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(c,u){var d=u.values,h=d["box-shadow-h"],v=d["box-shadow-v"],m=d["box-shadow-blur"],_=d["box-shadow-spread"];return"".concat(h," ").concat(v," ").concat(m," ").concat(_)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(c,u){var d=u.values,h=d["text-shadow-h"],v=d["text-shadow-v"],m=d["text-shadow-blur"];return"".concat(h," ").concat(v," ").concat(m)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(c,u){var d=u.values,h=d["background-repeat-sub"]||"",v=d["background-position-sub"]||"",m=d["background-attachment-sub"]||"",_=d["background-size-sub"]||"";return[h,v,m,_].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(c,u){var d=u.property,h=u.name,v=c[h]||"",m=d.getLayerSeparator();return v?v.split(m).map(function(_){var w=d.__parseFn(_),x=w.name,E=w.value;return{"transform-type":x,"transform-value":E}}):[]},toStyle:function(c,u){var d,h=u.name;return d={},d[h]="".concat(c["transform-type"],"(").concat(c["transform-value"],")"),d},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(c){var u=c.property,d=c.to;if(d.value){var h=u.getOption(),v=sa({},h.propValue||{}),m=u.getParent().getProperty("transform-value"),_=m.getUnit();(!_||v?.units.indexOf(_)<0)&&(v.unit=v?.units[0]||""),m.up(v)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return s.forEach(function(c){var u=c[0],d=c[1],h=c[2];r.add(u,d||{},{from:h})}),this},o.prototype.add=function(r,e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=t.from||"",i=this.props[n||r]||{},s=sa(sa(sa({},i),{property:r}),e);return s.properties&&(0,M.isFunction)(s.properties)&&(s.properties=s.properties()),this.props[r]=s,s},o.prototype.get=function(r){return this.props[r]},o.prototype.build=function(r){var e=this,t=[],n=(0,M.isString)(r)?[r]:r;return n.forEach(function(i){t.push(e.get(i)||{property:i})}),t},o}(),b8=_8,w8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),C8=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},x8=function(o){w8(r,o);function r(e){var t=o.call(this,e)||this,n=e.config||{},i=t.model,s=n.em;return t.config=n,t.em=s,t.pfx=n.stylePrefix||"",t.listenTo(i,"destroy remove",t.remove),t.listenTo(i,"change:open",t.updateOpen),t.listenTo(i,"change:visible",t.updateVisibility),t}return r.prototype.template=function(e){var t,n=e.pfx,i=e.label,s=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,c=s?.caret||"",u="".concat(n,"sector-");return hi(Z0||(Z0=C8([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),u,u,c,u,i)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var e=this,t=e.$el,n=e.model,i=e.pfx,s=n.isOpen();t[s?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=s?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){var e=this,t=e.$el,n=e.pfx;return t.find(".".concat(n,"properties")).get(0)},r.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},r.prototype.renderProperties=function(){var e=this,t=e.model,n=e.config,i=t.get("properties");if(i){var s=new Ah({collection:i,config:n});this.$el.append(s.render().el)}},r.prototype.render=function(){var e=this,t=e.pfx,n=e.model,i=e.$el,s=n.getId(),c=n.getName();return i.html(this.template({pfx:t,label:c})),this.renderProperties(),i.attr("class","".concat(t,"sector ").concat(t,"sector__").concat(s," no-select")),this.updateOpen(),this},r}(tt.Ss),A8=x8,Z0,S8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),E8=function(o){S8(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.module,i=e.config,s=t.collection;return t.pfx=i?.stylePrefix||"",t.ppfx=i?.pStylePrefix||"",t.config=i,t.module=n,t.listenTo(s,"add",t.addTo),t.listenTo(s,"reset",t.render),t}return r.prototype.remove=function(){var e=this;return tt.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(t){return e[t]={}}),this},r.prototype.addTo=function(e,t,n){n===void 0&&(n={}),this.addToCollection(e,null,n)},r.prototype.addToCollection=function(e,t,n){n===void 0&&(n={});var i=this,s=i.config,c=i.el,u=t||c,d=new A8({model:e,config:s}).render().el;return(0,ot.Sc)(u,d,n.at),d},r.prototype.render=function(){var e=this,t=this,n=t.$el,i=t.pfx,s=t.ppfx;n.empty();var c=document.createDocumentFragment();return this.collection.each(function(u){return e.addToCollection(u,c)}),n.append(c),n.addClass("".concat(i,"sectors ").concat(s,"one-bg ").concat(s,"two-color")),this},r}(tt.Ss),T8=E8,O8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),la=function(){return la=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},la.apply(this,arguments)},K0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},k1="style",_c="".concat(k1,":"),Eh="".concat(_c,"sector"),D8="".concat(Eh,":add"),M8="".concat(Eh,":remove"),k8="".concat(Eh,":update"),Th="".concat(_c,"property"),P8="".concat(Th,":add"),I8="".concat(Th,":remove"),L8="".concat(Th,":update"),P1="".concat(_c,"layer:select"),ch="".concat(_c,"target"),V8="".concat(_c,"custom"),q0=function(o){return o||o===0},R8={all:k1,sectorAdd:D8,sectorRemove:M8,sectorUpdate:k8,propertyAdd:P8,propertyRemove:I8,propertyUpdate:L8,layerSelect:P1,target:ch,custom:V8},F8=function(o){O8(r,o);function r(e){var t=o.call(this,e,"StyleManager",new m8([],{em:e}),R8,i6)||this;t.Sector=M1,t.storageKey="",(0,M.bindAll)(t,"__clearStateTarget");var n=t.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),t.builtIn=new b8,t.properties=new Sh([],{em:e,module:t}),t.sectors=t.all;var s=new tt.Kx({targets:[]});t.model=s;var c=Dr.I.update,u="component:toggled ".concat(c,":classes change:state change:device frame:resized selector:type");t.upAll=(0,M.debounce)(function(){return t.__upSel()},0),s.listenTo(e,u,t.upAll),s.listenTo(e,"component:toggled",t.__clearStateTarget);var d=(0,M.debounce)(function(){t.__upProps(),t.__trgCustom()},0);s.listenTo(e,"styleable:change undo redo",d);var h=(0,M.debounce)(function(){return t.__trgCustom()},0);return s.listenTo(e,"".concat(P1," ").concat(ch),h),s.on("change:lastTarget",function(){return e.trigger(ch,t.getSelected())}),t}return r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(t=this.em).trigger.apply(t,K0([e],n,!1))},r.prototype.__clearStateTarget=function(){var e=this,t=this.em,n=this.__getStateTarget();n&&t?.skip(function(){t.Css.remove(n),e.model.set({stateTarget:null})})},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(e,t,n){n===void 0&&(n={});var i=this.getSector(e);return i||(t.id=e,i=this.sectors.add(t,n)),i},r.prototype.getSector=function(e,t){t===void 0&&(t={});var n=this.sectors.where({id:e})[0];return!n&&t.warn&&this._logNoSector(e),n||null},r.prototype.getSectors=function(e){e===void 0&&(e={});var t=this.sectors,n=t&&t.models?e.array?K0([],t.models,!0):t:[];return e.visible?n.filter(function(i){return i.isVisible()}):n},r.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},r.prototype.addProperty=function(e,t,n){n===void 0&&(n={});var i=this.getSector(e,{warn:!0}),s;return i&&(s=i.addProperty(t,n)),s},r.prototype.getProperty=function(e,t){var n=this.getSector(e,{warn:!0}),i;return n&&(i=n.properties.filter(function(s){return s.get("property")===t||s.get("id")===t})[0]),i},r.prototype.getProperties=function(e){var t,n=this.getSector(e,{warn:!0});return n&&(t=n.properties),t},r.prototype.removeProperty=function(e,t){var n=this.getProperties(e);return n?n.remove(this.getProperty(e,t)):null},r.prototype.select=function(e,t){var n=this;t===void 0&&(t={});var i=this.em,s=(0,M.isArray)(e)?e:[e],c=t.stylable,u=i.Css,d=[];s.filter(Boolean).forEach(function(x){var E=x;if((0,M.isString)(x)){var F=u.getRule(x)||u.setRule(x);!(0,M.isUndefined)(c)&&F.set({stylable:c}),E=F}d.push(E)});var h=t.component||d.filter(function(x){return(0,Le.isComponent)(x)}).reverse()[0];d=d.map(function(x){return n.getModelToStyle(x)});var v=i.getState(),m=d.slice().reverse()[0],_=this.getParentRules(m,{state:v,component:h}),w=this.__getStateTarget();return i.skip(function(){var x;if(v&&(!((x=m?.getState)===null||x===void 0)&&x.call(m))){var E=m.getStyle();w?w.setStyle(E):w=u.getAll().add({selectors:"gjs-selected",style:E,shallow:!0,important:!0})}else w&&(u.remove(w),w=void 0)}),this.model.set({targets:d,lastTarget:m,lastTargetParents:_,stateTarget:w,component:h}),this.__upProps(t),d},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(e,t){this.getSelectedAll().map(function(s){return s.addStyle(e,t)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(e);var i=this.__getStateTarget();n&&i?.setStyle(n.getStyle(),t)},r.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(e,t){return this.builtIn.add(e,t)},r.prototype.getModelToStyle=function(e,t){t===void 0&&(t={});var n=this.em,i=t.skipAdd;if(n&&e?.toHTML){var s=n.getConfig(),c=n.UndoManager,u=n.Css,d=n.Selectors,h=d?d.getConfig():{},v=s.devicePreviewMode?"":n.get("state"),m=e.get("classes"),_=m.getStyleable(),w=_.length,x=!h.componentFirst||t.useClasses,E={noCount:1},F={state:v,addOpts:E};c.skip(function(){var U;if(w&&x){var R=n.getCurrentMedia();U=u.get(_,v,R),!U&&!i&&(U=u.add(_,v,R,{},E))}else if(s.avoidInlineStyle){var W=e.getId();U=u.getIdRule(W,F),!U&&!i&&(U=u.setIdRule(W,{},F)),e.is("wrapper")&&U.set("wrapper",1,E)}U&&(e=U)})}return e},r.prototype.getParentRules=function(e,t){var n=t===void 0?{}:t,i=n.state,s=n.component,c=this.em,u=[];if(c&&e){var d=s,h=c.Css,v=c.CodeManager.getGenerator("css"),m=e.toHTML?e:e.getComponent(),_={array:!0},w=[],x=[],E=[],F=[],U=[],R=function(pe){return pe.length?h.getRules().filter(function(K){var he=K.getSelectors().map(function(B){return B.getFullName()});return he.length===0?!1:he.every(function(B){return pe.indexOf(B)>=0})}):[]},W=function(pe){return pe?h.getRules().filter(function(K){return K.selectorsToString()===pe}):[]};if(m)w=h.getRules("#".concat(m.getId())),x=W(m.get("tagName")),F=d?R(d.getSelectors().getFullName(_)):[],U=F.concat(x).concat(w);else{w=d?h.getRules("#".concat(d.getId())):[],x=W(d?.get("tagName")||"");var de=d?.getSelectors().getFullName(_)||[],Ae=de.filter(function(pe){return e.getSelectors().getFullName(_).findIndex(function(K){return K===pe})===-1});E=R(Ae.concat(e.getSelectors().getFullName(_))),U=x.concat(w).concat(E)}var Te=U.filter(function(pe){return(0,M.isUndefined)(i)?1:pe.get("state")===i}).sort(v.sortRules).reverse();u=Te.slice(Te.indexOf(e)+1)}return u},r.prototype.addType=function(e,t){this.properties.addType(e,t)},r.prototype.getType=function(e){return this.properties.getType(e)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(e,t){var n=t===void 0?{}:t,i=n.model,s=i===void 0?{}:i,c=n.view,u=c===void 0?{}:c,d=this.config,h=this.getType(e);if(h)return new h.view(la({model:new h.model(s),config:d},u))},r.prototype.render=function(){var e=this,t=e.config,n=e.em,i=e.SectView,s=i&&i.el;return this.SectView=new T8({el:s,em:n,config:t,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(e,t){t===void 0&&(t={});var n=this.em;if(!e.__p){var i=this.getSelectedAll(),s=t.components||n.getSelectedAll(),c=Array.isArray(s)?s:[s],u=la({},e);delete u.__p,c.forEach(function(d){return!i.includes(d)&&d.__onStyleChange(u)})}},r.prototype.__upProps=function(e){var t=this;e===void 0&&(e={});var n=this.getSelected();if(n){var i=this.sectors,s=this.model.get("component"),c=this.getSelectedParents(),u=n.getStyle(),d=c.map(function(h){return{target:h,style:h.getStyle()}});i.map(function(h){h.getProperties().map(function(v){t.__upProp(v,u,d,e)})}),i.forEach(function(h){var v=h.getProperties();v.forEach(function(_){var w=_.__checkVisibility({target:n,component:s,sectors:i});_.set("visible",w)});var m=v.some(function(_){return _.isVisible()});h.set("visible",m)})}},r.prototype.__upProp=function(e,t,n,i){var s=this,c=e.getName(),u=t[c],d=q0(u),h=e.getType()==="stack",v=e.getType()==="composite",m=la(la({},i),{__up:!0}),_=!v&&!h,w=e,x=e,E=h?w.__getLayersFromStyle(t):[],F=v?x.__getPropsFromStyle(t):{},U=d?u:null,R=null;if(h&&E===null||v&&F===null){var W=h?"__getLayersFromStyle":"__getPropsFromStyle",de=n.filter(function(he){return w[W](he.style)!==null})[0];if(de){U=de.style[c],R=de.target;var Ae=w[W](de.style);h?E=Ae:F=Ae}}else if(!d){U=null;var de=n.filter(function(B){return q0(B.style[c])})[0];de&&(U=de.style[c],R=de.target)}if(e.__setParentTarget(R),_&&e.__getFullValue()!==U&&e.upValue(U,m),h&&w.__setLayers(E||[],{isEmptyValue:w.isEmptyValueStyle(t)}),v){var Te=x.getProperties();if(x.isDetached()){var pe=x.__getPropsFromStyle(t,{byName:!0})||{},K=n.map(function(he){return la(la({},he),{style:x.__getPropsFromStyle(he.style,{byName:!0})||{}})});Te.map(function(he){return s.__upProp(he,pe,K,i)})}else x.__setProperties(F||{},m),x.getProperties().map(function(he){return he.__setParentTarget(R)})}},r.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(t){t.reset(),t.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},r}(da),N8=F8,H8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Or=function(){return Or=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Or.apply(this,arguments)},Bp=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?i(h.value):n(h.value).then(c,u)}d((t=t.apply(o,r||[])).next())})},jp=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(o,e)}catch(h){d=[6,h],n=0}finally{t=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},B8=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},j8=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))};ub().$=Sn.default;var z8=[mS,oS,LS,G5,S4,Ib,u4,N8,J3,GS,F5,h5,r6,J4,bA,Xw,uA,V3],U8=[UA,_3,XA,r3];db({$:Sn.default});var $0={debug:console.log,info:console.info,warning:console.warn,error:console.error},W8=function(o){H8(r,o);function r(e){e===void 0&&(e={});var t=o.call(this)||this;t.__skip=!1,t.defaultRunning=!1,t.destroyed=!1,t._config=e;var n=t.config;t.set("Config",e),t.set("modules",[]),t.set("toLoad",[]),t.set("storables",[]),t.set("selected",new hb),t.set("dmode",n.dragMode);var i=n.el,s=n.log,c=s===!0?(0,M.keys)($0):(0,M.isArray)(s)?s:[];return(0,M.bindAll)(t,"initBaseColorPicker"),i&&n.fromElement&&(n.components=i.innerHTML),t.attrsOrig=i?(0,M.toArray)(i.attributes).reduce(function(u,d){return u[d.nodeName]=d.nodeValue,u},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),z8.forEach(function(u){return t.loadModule(u)}),U8.forEach(function(u){return t.loadStorableModule(u)}),t.on("change:componentHovered",t.componentHovered,t),t.on("change:changesCount",t.updateChanges,t),t.on("change:readyLoad change:readyCanvas",t._checkReady,t),c.forEach(function(u){return t.listenLog(u)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(u){var d=u.from,h=u.to;t.listenTo(t,d,function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];t.trigger.apply(t,j8([h],v,!1)),t.logWarning("The event '".concat(d,"' is deprecated, replace it with '").concat(h,"'"))})}),t}return r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),$0[e])},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(e){var t=this.config;return(0,M.isUndefined)(e)?t:t[e]},r.prototype.loadOnStart=function(){var e=this,t=this.config,n=t.projectData,i=t.headless,s=this.Storage;this.toLoad.reverse().forEach(function(d){return d.onLoad()});var c=function(){e.modules.forEach(function(d){return d.postLoad&&d.postLoad(e)}),e.set("readyLoad",1)};i?(n&&this.loadData(n),c()):this._storageTimeout=setTimeout(function(){return Bp(e,void 0,void 0,function(){var d;return jp(this,function(h){switch(h.label){case 0:return n?(this.loadData(n),[3,5]):[3,1];case 1:if(!s?.canAutoload())return[3,5];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,this.load()];case 3:return h.sent(),[3,5];case 4:return d=h.sent(),this.logError(d),[3,5];case 5:return c(),[2]}})})});var u=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});u.Pages.onLoad(),u.Canvas.postLoad(),this.set("shallow",u)},r.prototype.updateChanges=function(e,t,n){var i=this,s=this.Storage,c=this.getDirtyCount();n.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return i.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=c?function(){return!0}:null),s.isAutosave()&&c>=s.getStepsBeforeSave()&&this.store().catch(function(u){return i.logError(u)})},r.prototype.loadModule=function(e){var t=new e(this);return this.set(t.name,t),t.onLoad&&this.toLoad.push(t),this.modules.push(t),t},r.prototype.loadStorableModule=function(e){var t=this.loadModule(e);return this.storables.push(t),t},r.prototype.init=function(e,t){t===void 0&&(t={}),this.destroyed&&(this.initialize(t),this.destroyed=!1),this.set("Editor",e)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(e,t,n){var i=this;n===void 0&&(n={}),!(this.__skip||n.temporary||n.noCount||n.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var s=i.getDirtyCount()||0,c=n.unset,u=B8(n,["unset"]);i.set("changesCount",s+1,u)},0))},r.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},r.prototype.componentHovered=function(e,t,n){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,n),t&&this.trigger("component:hovered",t,n)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(e,t){var n=this;t===void 0&&(t={});var i=t.event,s=i&&(i.ctrlKey||i.metaKey),c=(i||{}).shiftKey,u=((0,M.isArray)(e)?e:[e]).map(function(m){var _,w;return((w=(_=m?.delegate)===null||_===void 0?void 0:_.select)===null||w===void 0?void 0:w.call(_,m))||m}).filter(Boolean),d=this.getSelectedAll(),h=this.getConfig().multipleSelection,v=(0,M.isArray)(e);(v||!e)&&this.removeSelected(d.filter(function(m){return!(0,M.contains)(u,m)})),u.forEach(function(m){if(m&&(n.trigger("component:select:before",m,t),!m.get("selectable")||t.abort))if(t.useValid){for(var _=m.parent();_&&!_.get("selectable");)_=_.parent();m=_}else return;if(s&&h)return n.toggleSelected(m);if(c&&h){n.clearSelection(n.Canvas.getWindow());var w=m.collection,x=m.index(),E,F;if(n.getSelectedAll().forEach(function(U){var R=U.collection,W=U.index();R===w&&(W<x?E=(0,M.isUndefined)(E)?W:Math.max(E,W):W>x&&(F=(0,M.isUndefined)(F)?W:Math.min(F,W)))}),!(0,M.isUndefined)(E))for(;E!==x;)n.addSelected(w.at(E)),E++;if(!(0,M.isUndefined)(F))for(;F!==x;)n.addSelected(w.at(F)),F--;return n.addSelected(m)}!v&&n.removeSelected(d.filter(function(U){return U!==m})),n.addSelected(m,t)})},r.prototype.addSelected=function(e,t){var n=this;t===void 0&&(t={});var i=(0,M.isArray)(e)?e:[e];i.forEach(function(s){var c=n.selected;if(!(!s||!s.get("selectable")||s.parents().some(function(d){return c.hasComponent(d)}))){t.forceChange&&n.removeSelected(s,t);var u=c.allComponents().filter(function(d){return(0,M.contains)(d.parents(),s)});u.forEach(function(d){return n.removeSelected(d,t)}),c.addComponent(s,t),n.trigger("component:select",s,t),n.Canvas.addSpot({type:Wi.F.Select,component:s})}})},r.prototype.removeSelected=function(e,t){var n=this;t===void 0&&(t={}),this.selected.removeComponent(e,t);var i=(0,M.isArray)(e)?e:[e];i.forEach(function(s){return n.Canvas.removeSpots({type:Wi.F.Select,component:s})})},r.prototype.toggleSelected=function(e,t){var n=this;t===void 0&&(t={});var i=(0,M.isArray)(e)?e:[e];i.forEach(function(s){n.selected.hasComponent(s)?n.removeSelected(s,t):n.addSelected(s,t)})},r.prototype.setHovered=function(e,t){var n=this;t===void 0&&(t={});var i=function(u,d){var h=n,v=h.config,m=h.Canvas,_=n.getHovered(),w=n.getSelectedAll(),x=Wi.F.Hover,E=Wi.F.Spacing;n.set("componentHovered",u||null,d),_&&(m.removeSpots({type:x,component:_}),m.removeSpots({type:E,component:_})),u&&(m.addSpot({type:x,component:u}),(!w.includes(u)||v.showOffsetsSelected)&&m.addSpot({type:E,component:u}))};if(!e)return i();var s="component:hover";if(t.forceChange&&i(),this.trigger("".concat(s,":before"),e,t),!e.get("hoverable"))if(t.useValid&&!t.abort){for(var c=e.parent();c&&!c.get("hoverable");)c=c.parent();e=c}else return;t.abort||(i(e,t),this.trigger(s,e,t))},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.Components.setComponents(e,t)},r.prototype.getComponents=function(){var e=this.Components,t=this.CodeManager;if(!(!e||!t)){var n=e.getComponents();return t.getCode(n,"json")}},r.prototype.setStyle=function(e,t){t===void 0&&(t={});var n=this.Css;return n.clear(t),n.getAll().add(e,t),this},r.prototype.addStyle=function(e,t){t===void 0&&(t={});var n=this.getStyle().add(e,t);return(0,M.isArray)(n)?n:[n]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(e){return this.set("state",e),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(e){e===void 0&&(e={});var t=this.config,n=t.optsHtml,i=t.jsInHtml?this.getJs(e):"",s=e.component||this.Components.getComponent(),c=s?this.CodeManager.getCode(s,"html",Or(Or({},n),e)):"";return c+=i?"<script>".concat(i,"<\/script>"):"",c},r.prototype.getCss=function(e){e===void 0&&(e={});var t=this.config,n=t.optsCss,i=e.avoidProtected,s=(0,M.isUndefined)(e.keepUnusedStyles)?t.keepUnusedStyles:e.keepUnusedStyles,c=this.Css,u=e.component||this.Components.getComponent(),d=i?"":t.protectedCss,h=u&&this.CodeManager.getCode(u,"css",Or(Or({cssc:c,keepUnusedStyles:s},n),e));return u?e.json?h:d+h:""},r.prototype.getJs=function(e){e===void 0&&(e={});var t=e.component||this.Components.getWrapper();return t?this.CodeManager.getCode(t,"js").trim():""},r.prototype.store=function(e){return Bp(this,void 0,void 0,function(){var t;return jp(this,function(n){switch(n.label){case 0:return t=this.storeData(),[4,this.Storage.store(t,e)];case 1:return n.sent(),this.clearDirtyCount(),[2,t]}})})},r.prototype.load=function(e){return Bp(this,arguments,void 0,function(t,n){var i;return n===void 0&&(n={}),jp(this,function(s){switch(s.label){case 0:return[4,this.Storage.load(t)];case 1:return i=s.sent(),this.loadData(i),[4,(0,Le.wait)()];case 2:return s.sent(),n.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,i]}})})},r.prototype.storeData=function(){var e={},t=this.getEditing();return t&&t.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(n){e=Or(Or({},e),n.store(1))}),JSON.parse(JSON.stringify(e))},r.prototype.loadData=function(e){return e===void 0&&(e={}),(0,Le.isEmptyObj)(e)||(this.storables.forEach(function(t){return t.clear()}),this.storables.forEach(function(t){return t.load(e)})),e},r.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},r.prototype.runDefault=function(e){e===void 0&&(e={});var t=this.get("Commands").get(this.config.defaultCommand);!t||this.defaultRunning||(t.stop(this,this,e),t.run(this,this,e),this.defaultRunning=!0)},r.prototype.stopDefault=function(e){e===void 0&&(e={});var t=this.get("Commands");if(t){var n=t.get(this.config.defaultCommand);!n||!this.defaultRunning||(n.stop(this,this,e),this.defaultRunning=!1)}},r.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},r.prototype.clearSelection=function(e){var t,n=e||window;(t=n.getSelection())===null||t===void 0||t.removeAllRanges()},r.prototype.getCurrentMedia=function(){var e=this.config,t=this.getDeviceModel(),n=e.mediaCondition,i=e.devicePreviewMode,s=t&&t.get("widthMedia");return t&&s&&!i?"(".concat(n,": ").concat(s,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},r.prototype.getIcon=function(e){var t=this.config.icons||{};return t[e]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(e){return this.set("dmode",e)},r.prototype.getDragMode=function(e){var t=e?.getDragMode()||this.get("dmode");return t||""},r.prototype.t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.get("I18n");return n?.t.apply(n,e)},r.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},r.prototype.destroyAll=function(){var e=this,t=this,n=t.config,i=t.view,s=this.getEditor(),c=(n.grapesjs||{}).editors,u=c===void 0?[]:c,d=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),d?.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(h){return h.destroy()}),i?.remove&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(h){return e[h]={}}),u.splice(u.indexOf(s),1),(0,Le.hasWin)()&&(0,Sn.default)(n.el).empty().attr(this.attrsOrig)},r.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},r.prototype.setEditing=function(e){return this.set("editing",e),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(e,t){t===void 0&&(t={});var n=t.ns,i=t.level,s=i===void 0?"debug":i;if(this.trigger("log",e,t),s&&this.trigger("log:".concat(s),e,t),n){var c="log-".concat(n);this.trigger(c,e,t),s&&this.trigger("".concat(c,":").concat(s),e,t)}},r.prototype.logInfo=function(e,t){this.log(e,Or(Or({},t),{level:"info"}))},r.prototype.logWarning=function(e,t){this.log(e,Or(Or({},t),{level:"warning"}))},r.prototype.logError=function(e,t){this.log(e,Or(Or({},t),{level:"error"}))},r.prototype.initBaseColorPicker=function(e,t){t===void 0&&(t={});var n=this.config,i=n.colorPicker,s=i===void 0?{}:i,c=n.el,u=n.stylePrefix;return(0,Sn.default)(e).spectrum(Or(Or({containerClassName:"".concat(u,"one-bg ").concat(u,"two-color"),appendTo:c||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},t),s))},r.prototype.skip=function(e){this.__skip=!0;var t=this.UndoManager;t?t.skip(e):e(),this.__skip=!1},r.prototype.data=function(e,t,n){var i="_gjs-data";if(e[i]||(e[i]={}),(0,M.isUndefined)(n))return e[i][t];e[i][t]=n},r}(tt.Kx),G8=W8,Y8=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Z8=function(o){Y8(r,o);function r(e){var t=o.call(this,{model:e})||this,n=e.Panels,i=e.UndoManager;return e.view=t,e.once("change:ready",function(){n.active(),n.disableButtons(),i.clear(),setTimeout(function(){e.trigger("load",e.Editor),e.clearDirtyCount()})}),t}return r.prototype.render=function(){var e=this,t=this,n=t.$el,i=t.model,s=i.Panels,c=i.Canvas,u=i.config,d=i.modules,h=u.stylePrefix,v=["".concat(h,"editor")];!u.customUI&&v.push("".concat(h,"one-bg ").concat(h,"two-color"));var m=(0,Sn.default)(u.el||"body ".concat(u.container));u.cssIcons&&(0,Le.appendStyles)(u.cssIcons,{unique:!0,prepand:!0}),n.empty(),u.width&&m.css("width",u.width),u.height&&m.css("height",u.height),n.append(c.render()),n.append(s.render());var _=i.shallow,w=_.Canvas.render();return w.style.display="none",n.append(w),n.attr("class",v.join(" ")),m.addClass("".concat(h,"editor-cont")).empty().append(n),d.forEach(function(x){var E;return(E=x.postRender)===null||E===void 0?void 0:E.call(x,e)}),this},r}(tt.Ss),K8=Z8,pc=function(){return pc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},pc.apply(this,arguments)},Q0=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?i(h.value):n(h.value).then(c,u)}d((t=t.apply(o,r||[])).next())})},X0=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(o,e)}catch(h){d=[6,h],n=0}finally{t=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},q8=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},$8=function(){function o(r,e){r===void 0&&(r={}),e===void 0&&(e={});var t;this.html=hi,this.config=pc(pc(pc({},Vm),r),{pStylePrefix:(t=r.stylePrefix)!==null&&t!==void 0?t:Vm.stylePrefix}),this.em=new G8(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(o.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(r){return this.em.getConfig(r)},o.prototype.getHtml=function(r){return this.em.getHtml(r)},o.prototype.getCss=function(r){return this.em.getCss(r)},o.prototype.getJs=function(r){return this.em.getJs(r)},o.prototype.getComponents=function(){return this.Components.getComponents()},o.prototype.getWrapper=function(){return this.Components.getWrapper()},o.prototype.setComponents=function(r,e){return e===void 0&&(e={}),this.em.setComponents(r,e),this},o.prototype.addComponents=function(r,e){return this.getWrapper().append(r,e)},o.prototype.getStyle=function(){return this.em.Css.getAll()},o.prototype.setStyle=function(r,e){return e===void 0&&(e={}),this.em.setStyle(r,e),this},o.prototype.addStyle=function(r,e){return e===void 0&&(e={}),this.em.addStyle(r,e)},o.prototype.getSelected=function(){return this.em.getSelected()},o.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},o.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},o.prototype.select=function(r,e){return this.em.setSelected(r,e),this},o.prototype.selectAdd=function(r){return this.em.addSelected(r),this},o.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},o.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},o.prototype.getEditing=function(){return this.em.getEditing()},o.prototype.setDevice=function(r){return this.em.set("device",r),this},o.prototype.getDevice=function(){return this.em.get("device")},o.prototype.runCommand=function(r,e){return e===void 0&&(e={}),this.Commands.run(r,e)},o.prototype.stopCommand=function(r,e){return e===void 0&&(e={}),this.Commands.stop(r,e)},o.prototype.store=function(r){return Q0(this,void 0,void 0,function(){return X0(this,function(e){switch(e.label){case 0:return[4,this.em.store(r)];case 1:return[2,e.sent()]}})})},o.prototype.load=function(r){return Q0(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),X0(this,function(n){switch(n.label){case 0:return[4,this.em.load(e,t)];case 1:return[2,n.sent()]}})})},o.prototype.getProjectData=function(){return this.em.storeData()},o.prototype.loadProjectData=function(r){return this.em.loadData(r)},o.prototype.storeData=function(){return this.em.storeData()},o.prototype.loadData=function(r){return this.em.loadData(r)},o.prototype.getContainer=function(){return this.config.el},o.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},o.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},o.prototype.refresh=function(r){this.em.refreshCanvas(r)},o.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},o.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},o.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},o.prototype.log=function(r,e){return e===void 0&&(e={}),this.em.log(r,e),this},o.prototype.t=function(){for(var r,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.em).t.apply(r,e)},o.prototype.on=function(r,e){return this.em.on(r,e),this},o.prototype.once=function(r,e){return this.em.once(r,e),this},o.prototype.off=function(r,e){return this.em.off(r,e),this},o.prototype.trigger=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return this.em.trigger.apply(this.em,q8([r],e,!0)),this},o.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},o.prototype.getEl=function(){var r;return(r=this.editorView)===null||r===void 0?void 0:r.el},o.prototype.getModel=function(){return this.em},o.prototype.render=function(){var r;return(r=this.editorView)===null||r===void 0||r.remove(),this.editorView=new K8(this.em),this.editorView.render().el},o.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},o}(),Q8=$8,X8=function(o,r){var e=r.get(o);if(!e){var t=(0,Le.getGlobal)()[o];e=t?.default||t}return e},I1=function(o,r){return(0,M.isString)(o)?X8(o,r):o?.default||o},L1=function(o,r){o.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})},J8=function(){function o(){this.plugins={}}return o.prototype.add=function(r,e){var t=this.get(r);return t||(this.plugins[r]=e,e)},o.prototype.get=function(r){return this.plugins[r]},o.prototype.getAll=function(){return this.plugins},o}(),eE=J8,tE=function(){var o=function(){for(var e,t=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<n.length;i++){var s=n[i];if(e=s[1].exec(t),e)break}return!!e};if((0,Le.hasWin)()&&o()){var r=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),r.apply(document.implementation,[e])}}},Nd=function(){return Nd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Nd.apply(this,arguments)};tE();var uh=new eE,J0=[],V1=function(o,r){var e=I1(o,uh);return function(t){e?e(t,r||{}):L1(t,o)}},R1={$:Sn.default,editors:J0,plugins:uh,usePlugin:V1,version:"0.21.13",init:function(o){o===void 0&&(o={});var r=o.headless,e=o.container;if(!e&&!r)throw new Error("'container' is required");var t=Nd(Nd({autorender:!0,plugins:[],pluginsOpts:{}},o),{grapesjs:this,el:r?void 0:(0,M.isElement)(e)?e:document.querySelector(e)}),n=new Q8(t,{$:Sn.default}),i=n.getModel();return t.plugins.forEach(function(s){var c=I1(s,uh),u=t.pluginsOpts[s]||{};c?c(n,u):L1(n,s)}),i.loadOnStart(),t.autorender&&!r&&n.render(),J0.push(n),n}},nE=R1,F1=Hd.Ay,UO=Hd.I0,WO=Hd.nu;var mi=Object.freeze({CONTACT_US_FORM:"contact-us-form",ALTERNATIVE_INCOME_FORM:"alternative-income-form",MEDIA_ENQUIRY_FORM:"media-enquiry-form",OUR_OFFICES:"our-offices",QUICK_LINKS:"quick-links",INVESTOR_CONTACTS:"investor-contacts-container",ESG_CONTACTS:"esg-contacts-container",BREADCRUMBS:"breadcrumbs",JOB_VACANCIES:"job-vacancies",HOME_BANNER:"home-Banner",CONTENT_CAROUSEL:"content-carousel",TABS:"tabs",FEATURED_PROPERTIES:"featured-properties",INTERESTING_FACTS_CARD:"interestingfactscard",INFO_NO_GRAPH:"infonograph",HOME_BANNER_CAROUSEL:"home-banner-carousel",TESTIMONIALS_CAROUSEL:"testimonials-carousel",FEATURED_PROPERTIES_CAROUSEL:"features-properties-carousel",CUSTOM_CAROUSEL:"custom-carousel",ESG_FEATURED_PROPERTIES:"esg-featured-properties"});var Oh=`<svg width="24px" height="24px" viewBox="0 0 24.00 24.00" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor">
<g id="SVGRepo_bgCarrier" stroke-width="0"/>    
<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>    
<g id="SVGRepo_iconCarrier"> <title>list_check_3_line</title> <g id="fir-1" stroke-width="0.00024000000000000003" fill="none" fill-rule="evenodd"> <g id="Editor" transform="translate(-48.000000, -192.000000)"> <g id="list_check_3_line" transform="translate(48.000000, 192.000000)"> <path d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z" id="MingCute" fill-rule="nonzero"> </path> <path d="M7,13 C8.05436227,13 8.91816517,13.81585 8.99451427,14.8507339 L9,15 L9,18 C9,19.0543909 8.18412267,19.9181678 7.14926241,19.9945144 L7,20 L4,20 C2.94563773,20 2.08183483,19.18415 2.00548573,18.1492661 L2,18 L2,15 C2,13.9456091 2.81587733,13.0818322 3.85073759,13.0054856 L4,13 L7,13 Z M16,17 C16.5523,17 17,17.4477 17,18 C17,18.51285 16.613973,18.9355092 16.1166239,18.9932725 L16,19 L12,19 C11.4477,19 11,18.5523 11,18 C11,17.48715 11.386027,17.0644908 11.8833761,17.0067275 L12,17 L16,17 Z M7,15 L4,15 L4,18 L7,18 L7,15 Z M20,13 C20.5523,13 21,13.4477 21,14 C21,14.5523 20.5523,15 20,15 L12,15 C11.4477,15 11,14.5523 11,14 C11,13.4477 11.4477,13 12,13 L20,13 Z M7,3 C8.10457,3 9,3.89543 9,5 L9,8 C9,9.10457 8.10457,10 7,10 L4,10 C2.89543,10 2,9.10457 2,8 L2,5 C2,3.89543 2.89543,3 4,3 L7,3 Z M16,7 C16.5523,7 17,7.44772 17,8 C17,8.51283143 16.613973,8.93550653 16.1166239,8.9932722 L16,9 L12,9 C11.4477,9 11,8.55228 11,8 C11,7.48716857 11.386027,7.06449347 11.8833761,7.0067278 L12,7 L16,7 Z M7,5 L4,5 L4,8 L7,8 L7,5 Z M20,3 C20.5523,3 21,3.44772 21,4 C21,4.51283143 20.613973,4.93550653 20.1166239,4.9932722 L20,5 L12,5 C11.4477,5 11,4.55228 11,4 C11,3.48716857 11.386027,3.06449347 11.8833761,3.0067278 L12,3 L20,3 Z" id="1" fill="currentColor"> </path> </g> </g> </g> </g>
</svg>`;var rE=[{id:"rd-text",label:"Text",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M208,56V88a8,8,0,0,1-16,0V64H136V192h24a8,8,0,0,1,0,16H96a8,8,0,0,1,0-16h24V64H64V88a8,8,0,0,1-16,0V56a8,8,0,0,1,8-8H200A8,8,0,0,1,208,56Z"></path></svg>',category:"Basics",content:{tagName:"span",type:"text",attributes:{},content:"This is a sample text"}},{id:"rd-paragraph",label:"Paragraph",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#60f594" viewBox="0 0 256 256"><path d="M208,40H96a64,64,0,0,0,0,128h40v40a8,8,0,0,0,16,0V56h24V208a8,8,0,0,0,16,0V56h16a8,8,0,0,0,0-16ZM136,152H96a48,48,0,0,1,0-96h40Z"></path></svg>',category:"Basics",content:{tagName:"p",type:"text",attributes:{class:"rd-text-grey-mid"},content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.",traits:[{label:"Next",type:"href-next"}]}},{id:"rd-button",label:"Button-Plain",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#60f594" viewBox="0 0 256 256"><path d="M208,40H96a64,64,0,0,0,0,128h40v40a8,8,0,0,0,16,0V56h24V208a8,8,0,0,0,16,0V56h16a8,8,0,0,0,0-16ZM136,152H96a48,48,0,0,1,0-96h40Z"></path></svg>',category:"Basics",content:{tagName:"span",type:"button",attributes:{class:"rd-btn rd-btn-dark rd-btn-xl"},components:[{tagName:"span",type:"text",attributes:{class:"btn-text"},content:"Click Me",editable:!0}]}},{id:"rd-image",label:"Image responsive",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',category:"Basics",activate:!0,content:{tagName:"img",type:"image",attributes:{class:"w-100 h-100"}}},{id:"rd-image-resp",label:"Image responsive width",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',category:"Basics",activate:!0,content:{tagName:"img",type:"image",attributes:{class:"w-100 "}}},{id:"rd-100image-block",label:"100x100",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',content:{type:"image",tagName:"img",attributes:{class:"image-100 "}}},{id:"rd-200image-block",label:"200x200",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',content:{type:"image",tagName:"img",attributes:{class:"image-200 "}}},{id:"rd-150image-block",label:"150x150",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',content:{type:"image",tagName:"img",attributes:{class:"image-150 "}}},{id:"rd-horizontal-line",label:"Horizontal line",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',category:"Basics",activate:!0,content:{tagName:"div",attributes:{class:"rd-hr-line"},traits:[{label:"Next",type:"href-next"}]}},{label:"Link",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#60f594" viewBox="0 0 256 256"><path d="M80,120h96a8,8,0,0,1,0,16H80a8,8,0,0,1,0-16Zm24,48H64a40,40,0,0,1,0-80h40a8,8,0,0,0,0-16H64a56,56,0,0,0,0,112h40a8,8,0,0,0,0-16Zm88-96H152a8,8,0,0,0,0,16h40a40,40,0,0,1,0,80H152a8,8,0,0,0,0,16h40a56,56,0,0,0,0-112Z"></path></svg>',activate:!0,content:{editable:"true",type:"custom-link",content:"Enter your link"}},{id:"contact-us-form",label:"Contact us",category:"Placeholders",media:'<svg fill="#000000" version="1.1" id="Layer_1" xmlns:x="&amp;ns_extend;" xmlns:i="&amp;ns_ai;" xmlns:graph="&amp;ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <metadata> <sfw xmlns="&amp;ns_sfw;"> <slices> </slices> <slicesourcebounds width="505" height="984" bottomleftorigin="true" x="0" y="-552"> </slicesourcebounds> </sfw> </metadata> <g> <g> <g> <path d="M22,6H2C0.9,6,0,5.1,0,4V2c0-1.1,0.9-2,2-2h20c1.1,0,2,0.9,2,2v2C24,5.1,23.1,6,22,6z M22,4v1V4L22,4L22,4z M2,2v2h20 l0-2H2z"></path> </g> </g> <g> <g> <path d="M22,15H2c-1.1,0-2-0.9-2-2v-2c0-1.1,0.9-2,2-2h20c1.1,0,2,0.9,2,2v2C24,14.1,23.1,15,22,15z M22,13v1V13L22,13L22,13z M2,11v2h20l0-2H2z"></path> </g> </g> <g> <g> <path d="M11,23H2c-0.5,0-1-0.5-1-1v-2c0-0.5,0.5-1,1-1h9c0.6,0,1,0.5,1,1v2C12,22.5,11.6,23,11,23z"></path> </g> <g> <path d="M11,24H2c-1.1,0-2-0.9-2-2v-2c0-1.1,0.9-2,2-2h9c1.1,0,2,0.9,2,2v2C13,23.1,12.1,24,11,24z M11,22v1V22L11,22L11,22z M2,20v2h9l0-2H2z"></path> </g> </g> </g> </g></svg>',content:{tagName:"form",attributes:{class:"contact-us-form",id:mi.CONTACT_US_FORM},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Contact us form"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual form on frontend"}]},{content:`<div class="row">
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <button type="button" class="btn btn-secondary w-75 py-3" disabled></button>
            </div>
          </div>`}]}},{id:"alternative-income-form",label:"Alternative Income",category:"Placeholders",media:'<svg fill="#000000" version="1.1" id="Layer_1" xmlns:x="&amp;ns_extend;" xmlns:i="&amp;ns_ai;" xmlns:graph="&amp;ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <metadata> <sfw xmlns="&amp;ns_sfw;"> <slices> </slices> <slicesourcebounds width="505" height="984" bottomleftorigin="true" x="0" y="-552"> </slicesourcebounds> </sfw> </metadata> <g> <g> <g> <path d="M22,6H2C0.9,6,0,5.1,0,4V2c0-1.1,0.9-2,2-2h20c1.1,0,2,0.9,2,2v2C24,5.1,23.1,6,22,6z M22,4v1V4L22,4L22,4z M2,2v2h20 l0-2H2z"></path> </g> </g> <g> <g> <path d="M22,15H2c-1.1,0-2-0.9-2-2v-2c0-1.1,0.9-2,2-2h20c1.1,0,2,0.9,2,2v2C24,14.1,23.1,15,22,15z M22,13v1V13L22,13L22,13z M2,11v2h20l0-2H2z"></path> </g> </g> <g> <g> <path d="M11,23H2c-0.5,0-1-0.5-1-1v-2c0-0.5,0.5-1,1-1h9c0.6,0,1,0.5,1,1v2C12,22.5,11.6,23,11,23z"></path> </g> <g> <path d="M11,24H2c-1.1,0-2-0.9-2-2v-2c0-1.1,0.9-2,2-2h9c1.1,0,2,0.9,2,2v2C13,23.1,12.1,24,11,24z M11,22v1V22L11,22L11,22z M2,20v2h9l0-2H2z"></path> </g> </g> </g> </g></svg>',content:{tagName:"form",attributes:{class:"alternative-income-form",id:mi.ALTERNATIVE_INCOME_FORM},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Alternative Income form"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual form on frontend"}]},{content:`<div class="row">
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <button type="button" class="btn btn-secondary w-75 py-3" disabled></button>
            </div>
          </div>`}]}},{id:"media-enquiry-form",label:"Media enquiry",category:"Placeholders",media:'<svg fill="#000000" version="1.1" id="Layer_1" xmlns:x="&amp;ns_extend;" xmlns:i="&amp;ns_ai;" xmlns:graph="&amp;ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <metadata> <sfw xmlns="&amp;ns_sfw;"> <slices> </slices> <slicesourcebounds width="505" height="984" bottomleftorigin="true" x="0" y="-552"> </slicesourcebounds> </sfw> </metadata> <g> <g> <g> <path d="M22,6H2C0.9,6,0,5.1,0,4V2c0-1.1,0.9-2,2-2h20c1.1,0,2,0.9,2,2v2C24,5.1,23.1,6,22,6z M22,4v1V4L22,4L22,4z M2,2v2h20 l0-2H2z"></path> </g> </g> <g> <g> <path d="M22,15H2c-1.1,0-2-0.9-2-2v-2c0-1.1,0.9-2,2-2h20c1.1,0,2,0.9,2,2v2C24,14.1,23.1,15,22,15z M22,13v1V13L22,13L22,13z M2,11v2h20l0-2H2z"></path> </g> </g> <g> <g> <path d="M11,23H2c-0.5,0-1-0.5-1-1v-2c0-0.5,0.5-1,1-1h9c0.6,0,1,0.5,1,1v2C12,22.5,11.6,23,11,23z"></path> </g> <g> <path d="M11,24H2c-1.1,0-2-0.9-2-2v-2c0-1.1,0.9-2,2-2h9c1.1,0,2,0.9,2,2v2C13,23.1,12.1,24,11,24z M11,22v1V22L11,22L11,22z M2,20v2h9l0-2H2z"></path> </g> </g> </g> </g></svg>',content:{tagName:"form",attributes:{class:"media-enquiry-form",id:mi.MEDIA_ENQUIRY_FORM},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Media enquiry form",editable:!1,draggable:!1,copyable:!1},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual form on frontend",editable:!1,draggable:!1,copyable:!1}]},{content:`<div class="row">
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <input
                class="form-control"
                type="text"
                disabled
              />
            </div>
            <div class="col-md-6">
              <button type="button" class="btn btn-secondary w-75 py-3" disabled></button>
            </div>
          </div>
          `}]}},{id:"our-offices",label:"Our offices",category:"Placeholders",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M224,64H154.67L126.93,43.2a16.12,16.12,0,0,0-9.6-3.2H72A16,16,0,0,0,56,56V72H40A16,16,0,0,0,24,88V200a16,16,0,0,0,16,16H192.89A15.13,15.13,0,0,0,208,200.89V184h16.89A15.13,15.13,0,0,0,240,168.89V80A16,16,0,0,0,224,64ZM192,200H40V88H85.33l27.74,20.8a16.12,16.12,0,0,0,9.6,3.2H192Zm32-32H208V112a16,16,0,0,0-16-16H122.67L94.93,75.2a16.12,16.12,0,0,0-9.6-3.2H72V56h45.33l27.74,20.8a16.12,16.12,0,0,0,9.6,3.2H224Z"></path></svg>',content:{attributes:{class:"our-offices",id:mi.OUR_OFFICES},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Our offices"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual office list"}]},{content:`<div class="row py-2 component-placeholder">
            <div class="col-md-3 ">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
          </div>
          `}]}},{id:"rd-quick-links",label:"Quick links",category:"Placeholders",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#60f594" viewBox="0 0 256 256"><path d="M137.54,186.36a8,8,0,0,1,0,11.31l-9.94,10A56,56,0,0,1,48.38,128.4L72.5,104.28A56,56,0,0,1,149.31,102a8,8,0,1,1-10.64,12,40,40,0,0,0-54.85,1.63L59.7,139.72a40,40,0,0,0,56.58,56.58l9.94-9.94A8,8,0,0,1,137.54,186.36Zm70.08-138a56.08,56.08,0,0,0-79.22,0l-9.94,9.95a8,8,0,0,0,11.32,11.31l9.94-9.94a40,40,0,0,1,56.58,56.58L172.18,140.4A40,40,0,0,1,117.33,142,8,8,0,1,0,106.69,154a56,56,0,0,0,76.81-2.26l24.12-24.12A56.08,56.08,0,0,0,207.62,48.38Z"></path></svg>',content:{attributes:{id:mi.QUICK_LINKS},editable:!1,selectable:!1,copyable:!1,content:`<div class="container">
      <div class="row">
        <div class="col-4">
          <div class="position-relative">
            <div class="rd-heading rd-heading-lg-normal">Quick Links</div>
            <span class="rd-indicator rd-indicator-lg">
              <span class="rd-indicator-content rd-indicator-primary"></span>
            </span>
          </div>
        </div>
        <div class="col-8">
          <div class="row">
            <div class="col-3">
              <div class="w-100 h-100 rd-bg__grey-very-light p-2 d-flex align-items-end ">Link 1</div>
            </div>
            <div class="col-3">
              <div class="w-100 h-100 rd-bg__grey-very-light p-2 d-flex align-items-end ">Link 1</div>
            </div>
            <div class="col-3">
              <div class="w-100 h-100 rd-bg__grey-very-light p-2 d-flex align-items-end ">Link 1</div>
            </div>
            <div class="col-3">
              <div class="w-100 h-100 rd-bg__grey-very-light p-2 d-flex align-items-end ">Link 1</div>
            </div>
          </div>
        </div>
      </div>
    </div>`}},{id:"infonographic",label:"Info No Grap",category:"Placeholders",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H136V24a8,8,0,0,0-16,0V40H40A16,16,0,0,0,24,56V176a16,16,0,0,0,16,16H79.36L57.75,219a8,8,0,0,0,12.5,10l29.59-37h56.32l29.59,37a8,8,0,1,0,12.5-10l-21.61-27H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,136H40V56H216V176ZM104,120v24a8,8,0,0,1-16,0V120a8,8,0,0,1,16,0Zm32-16v40a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm32-16v56a8,8,0,0,1-16,0V88a8,8,0,0,1,16,0Z"></path></svg>',content:{attributes:{class:"infographic",id:mi.INFO_NO_GRAPH},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Interesting fact No graph"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual office list"}]},{content:`<div class="row py-2 component-placeholder">
            <div class="col-md-4 ">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-4">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-4">
              <div class="office-card card-placeholder"></div>
            </div>
            
          </div>
          `}]}},{id:"interestingfactscard",label:"Graph Card",category:"Placeholders",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H136V24a8,8,0,0,0-16,0V40H40A16,16,0,0,0,24,56V176a16,16,0,0,0,16,16H79.36L57.75,219a8,8,0,0,0,12.5,10l29.59-37h56.32l29.59,37a8,8,0,1,0,12.5-10l-21.61-27H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,136H40V56H216V176ZM104,120v24a8,8,0,0,1-16,0V120a8,8,0,0,1,16,0Zm32-16v40a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm32-16v56a8,8,0,0,1-16,0V88a8,8,0,0,1,16,0Z"></path></svg>',content:{attributes:{class:"interestingfactscard",id:mi.INTERESTING_FACTS_CARD},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Interesting Fact with Graph"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual office list"}]},{content:`<div class="row py-2 component-placeholder">
            <div class="col-md-3 ">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
          </div>
          `}]}},{id:"content-carousel",label:"Content carousel",media:Oh,category:"Placeholders",content:{attributes:{class:"content-carousel",id:mi.CONTENT_CAROUSEL},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"content carousel"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual content carousel"}]},{content:`<div class="container ">
            <div class="row py-2">
              <div class="col-md-5 component-placeholder  ">
                  <div class="content-card  card-placeholder"></div>
              </div>
              <div class="col-md-7 component-placeholder">
              <div class="content-card  card-placeholder">
                Content awesome
              </div>
            </div>
           
          </div>
          `}]}},{id:"home-banner",label:"Banner carousel",category:"Placeholders",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M192,48H64A16,16,0,0,0,48,64V192a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64A16,16,0,0,0,192,48Zm0,144H64V64H192V192ZM240,56V200a8,8,0,0,1-16,0V56a8,8,0,0,1,16,0ZM32,56V200a8,8,0,0,1-16,0V56a8,8,0,0,1,16,0Z"></path></svg>',content:{attributes:{class:"home-banner",id:mi.HOME_BANNER},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Banner Carousel"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual Banner Carousel"}]},{content:`
           
            <div class="row py-2 component-placeholder">
            <div class="col-md-12 ">
              <div class="office-card card-placeholder"></div>
            </div></div>
          `}]}},{id:"esg-featured-properties",label:"Esg Featured Properties",category:"Placeholders",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M240,208H224V115.55a16,16,0,0,0-5.17-11.78l-80-75.48a1.14,1.14,0,0,1-.11-.11,16,16,0,0,0-21.53,0l-.11.11L37.17,103.77A16,16,0,0,0,32,115.55V208H16a8,8,0,0,0,0,16H240a8,8,0,0,0,0-16ZM48,115.55l.11-.1L128,40l79.9,75.43.11.1V208H160V160a16,16,0,0,0-16-16H112a16,16,0,0,0-16,16v48H48ZM144,208H112V160h32Z"></path></svg>',content:{attributes:{class:"container featured-properties",id:mi.ESG_FEATURED_PROPERTIES},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Esg Featured Properties"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual Esg featured properties list"}]},{content:`<div class="row py-2 component-placeholder">
            <div class="col-md-4 ">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-4">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-4">
              <div class="office-card card-placeholder"></div>
            </div>
           =
          </div>
          `}]}},{id:"tabs",label:"tabs",category:"Placeholders",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M255.66,165.7h0v0a.24.24,0,0,0,0-.08L233.37,91.4A15.89,15.89,0,0,0,218.05,80H208a8,8,0,0,0,0,16h10.05l19.2,64H206L185.37,91.4A15.89,15.89,0,0,0,170.05,80H160a8,8,0,0,0,0,16h10.05l19.2,64H158L137.37,91.4A15.89,15.89,0,0,0,122.05,80H38A15.89,15.89,0,0,0,22.63,91.4L.37,165.6l0,.05v0s0,.05,0,.08A8.1,8.1,0,0,0,0,168a8,8,0,0,0,8,8H248a8,8,0,0,0,7.66-10.3ZM38,96h84.1l19.2,64H18.75Z"></path></svg>',content:{attributes:{class:"tabs",id:mi.TABS},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Related news articles"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the Related news articles"}]},{content:`<div class="container py-2">
            <div class="component-placeholder">
              <div class="tabs card-placeholder"></div>
            </div>
            </div>
          `}]}},{id:"job-vacancies",label:"Job list",category:"Placeholders",media:Oh,content:{attributes:{class:"job-list",id:mi.JOB_VACANCIES},components:[{tagName:"div",attributes:{class:"component-placeholder"},components:[{tagName:"div",attributes:{class:"placeholder-title"},content:"Available jobs"},{tagName:"div",attributes:{class:"placeholder-note"},content:"*Note: This section will be replaced with the actual vacancy list"}]},{content:`<div class="row py-2">
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
            <div class="col-md-3">
              <div class="office-card card-placeholder"></div>
            </div>
          </div>
          `}]}},{id:"rd-bradcrumbs",label:"Breadcrumbs",media:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="eQn6N1C3Oil1" viewBox="0 0 256 100" shape-rendering="geometricPrecision" text-rendering="geometricPrecision"><path d="M75.279526,70.225l-11.42728-20c-.795034-1.390165-2.132839-2.22504-3.565333-2.225h-42.143792c-.79684.00001-1.527873.515818-1.897885,1.339125s-.317894,1.81814.13531,2.58275L28.857872,73L16.380546,94.078125c-.453204.76461-.505322,1.759442-.13531,2.58275s1.101045,1.339115,1.897885,1.339125h42.143792c1.432494.00004,2.770299-.834835,3.565333-2.225l11.42728-20c.960898-1.680185.960898-3.869815,0-5.55ZM60.278877,93h-38.050756L32.407132,75.8125l.02143-.03125c.960898-1.680185.960898-3.869815,0-5.55L32.407132,70.2L22.228121,53.0125h38.058792L71.716872,73L60.278877,93Z" transform="translate(8.785484-23)"/><path d="M75.279526,70.225l-11.42728-20c-.795034-1.390165-2.132839-2.22504-3.565333-2.225h-42.143792c-.79684.00001-1.527873.515818-1.897885,1.339125s-.317894,1.81814.13531,2.58275L28.857872,73L16.380546,94.078125c-.453204.76461-.505322,1.759442-.13531,2.58275s1.101045,1.339115,1.897885,1.339125h42.143792c1.432494.00004,2.770299-.834835,3.565333-2.225l11.42728-20c.960898-1.680185.960898-3.869815,0-5.55ZM60.278877,93h-38.050756L32.407132,75.8125l.02143-.03125c.960898-1.680185.960898-3.869815,0-5.55L32.407132,70.2L22.228121,53.0125h38.058792L71.716872,73L60.278877,93Z" transform="translate(81.999796-23)"/><path d="M75.279526,70.225l-11.42728-20c-.795034-1.390165-2.132839-2.22504-3.565333-2.225h-42.143792c-.79684.00001-1.527873.515818-1.897885,1.339125s-.317894,1.81814.13531,2.58275L28.857872,73L16.380546,94.078125c-.453204.76461-.505322,1.759442-.13531,2.58275s1.101045,1.339115,1.897885,1.339125h42.143792c1.432494.00004,2.770299-.834835,3.565333-2.225l11.42728-20c.960898-1.680185.960898-3.869815,0-5.55ZM60.278877,93h-38.050756L32.407132,75.8125l.02143-.03125c.960898-1.680185.960898-3.869815,0-5.55L32.407132,70.2L22.228121,53.0125h38.058792L71.716872,73L60.278877,93Z" transform="translate(154.165771-23)"/></svg>
`,category:"Placeholders",content:{attributes:{id:mi.BREADCRUMBS,class:"container d-flex align-items-center"},components:{attributes:{class:"w-100"},content:`
        <div class="d-flex align-items-center gap-2 ">
          <span>Home</span>
          <span>/</span>
          <span class="pt-2">***</span>
          <span>/</span>
          <span class="pt-2">***</span>
        </div>
      `}}},{id:"icon-block-1",label:"Custom Icon Image",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',category:"Basics",activate:!0,content:{tagName:"img",type:"image",attributes:{class:"sm-card-icon1"}}},{id:"rd-video",label:"Video",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#60f594" viewBox="0 0 256 256"><path d="M163.33,123l-48-32A6,6,0,0,0,106,96v64a6,6,0,0,0,9.33,5l48-32a6,6,0,0,0,0-10ZM118,148.79V107.21L149.18,128ZM232.4,70a22,22,0,0,0-13.28-15C185,41.79,130.27,42,128,42s-57-.21-91.16,13A22,22,0,0,0,23.6,70C21.05,79.89,18,98,18,128s3.05,48.11,5.6,58a22,22,0,0,0,13.28,15C71,214.21,125.72,214,128,214h.71c6.91,0,58-.44,90.45-13a22,22,0,0,0,13.28-15c2.55-9.87,5.6-27.93,5.6-58S235,79.89,232.4,70ZM220.78,183a10,10,0,0,1-6,6.86C182.78,202.19,128.58,202,128,202s-54.71.2-86.75-12.17a10,10,0,0,1-6-6.86C32.84,173.78,30,156.78,30,128s2.84-45.78,5.22-55a10,10,0,0,1,6-6.86C72.06,54.26,123.53,54,127.76,54H128c.54,0,54.71-.2,86.75,12.17a10,10,0,0,1,6,6.86c2.38,9.19,5.22,26.19,5.22,55S223.16,173.78,220.78,183Z"></path></svg>',content:{type:"video",src:"https://www.youtube.com/embed/gGx5KRirets?si=VCToWlDhGZMdAD5J",attributes:{class:"video-wrapper"},traits:[{type:"text",label:"Title",name:"title",placeholder:"Enter video title"}]}},{id:"rd-list",label:"List",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M80,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H88A8,8,0,0,1,80,64Zm136,56H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM44,52A12,12,0,1,0,56,64,12,12,0,0,0,44,52Zm0,64a12,12,0,1,0,12,12A12,12,0,0,0,44,116Zm0,64a12,12,0,1,0,12,12A12,12,0,0,0,44,180Z"></path></svg>',category:"Basics",content:{tagName:"ul",type:"text",editable:!0,attributes:{},components:[{tagName:"li",type:"text",attributes:{},editable:!0,draggable:!1,droppable:!1,content:""}]}},{id:"rd-card-image-text",label:"image with text",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M110.66,147.56a8,8,0,0,0-13.32,0L76.49,178.85l-9.76-15.18a8,8,0,0,0-13.46,0l-36,56A8,8,0,0,0,24,232H152a8,8,0,0,0,6.66-12.44ZM38.65,216,60,182.79l9.63,15a8,8,0,0,0,13.39.11l21-31.47L137.05,216Zm175-133.66-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v96a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160Z"></path></svg>',category:"Basics",content:{tagName:"div",attributes:{class:"container"},components:[{tagName:"img",type:"image",attributes:{class:""}}]}},{label:"home page Card 2",media:`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" stroke="currentColor" stroke-width="0.00024000000000000003">
    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
    <g id="SVGRepo_iconCarrier"> <path d="M3.75 3C4.16421 3 4.5 3.33579 4.5 3.75V20.25C4.5 20.6642 4.16421 21 3.75 21C3.33579 21 3 20.6642 3 20.25V3.75C3 3.33579 3.33579 3 3.75 3Z" fill="#212121"/> <path d="M20.25 3C20.6642 3 21 3.33579 21 3.75V20.25C21 20.6642 20.6642 21 20.25 21C19.8358 21 19.5 20.6642 19.5 20.25V3.75C19.5 3.33579 19.8358 3 20.25 3Z" fill="#212121"/> <path d="M9.5 5C8.67157 5 8 5.67157 8 6.5V17.5C8 18.3284 8.67157 19 9.5 19H14.5C15.3284 19 16 18.3284 16 17.5V6.5C16 5.67157 15.3284 5 14.5 5H9.5Z" fill="#212121"/> </g>
    </svg>`,category:"Basics",content:{tagName:"div",attributes:{class:"container no-pd ",id:"enquiry-card-1"},components:[{tagName:"div",attributes:{class:"cards home-card col-md-12 col-sm-12 ",id:"enquiry-card-1"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"home-card-image2 "}},{tagName:"div",draggable:!1,attributes:{class:"home-card-body rd-text-white"},components:[{attributes:{class:"position-relative home-page-text-color mb-4"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-md rd-text-white"},content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
                      <span class="rd-indicator-content rd-indicator-secondary"></span>
                      </span>`}]},{type:"Link"}]}]}]}},{label:"home page Card",media:`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" stroke="currentColor" stroke-width="0.00024000000000000003">
    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
    <g id="SVGRepo_iconCarrier"> <path d="M3.75 3C4.16421 3 4.5 3.33579 4.5 3.75V20.25C4.5 20.6642 4.16421 21 3.75 21C3.33579 21 3 20.6642 3 20.25V3.75C3 3.33579 3.33579 3 3.75 3Z" fill="#212121"/> <path d="M20.25 3C20.6642 3 21 3.33579 21 3.75V20.25C21 20.6642 20.6642 21 20.25 21C19.8358 21 19.5 20.6642 19.5 20.25V3.75C19.5 3.33579 19.8358 3 20.25 3Z" fill="#212121"/> <path d="M9.5 5C8.67157 5 8 5.67157 8 6.5V17.5C8 18.3284 8.67157 19 9.5 19H14.5C15.3284 19 16 18.3284 16 17.5V6.5C16 5.67157 15.3284 5 14.5 5H9.5Z" fill="#212121"/> </g>
    </svg>`,category:"Basics",content:{tagName:"div",attributes:{class:"container no-pd ",id:"enquiry-card-1"},components:[{tagName:"div",attributes:{class:"cards home-card col-md-12 col-sm-12 ",id:"enquiry-card-1"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"home-card-image "}},{tagName:"div",draggable:!1,attributes:{class:"home-card-body"},components:[{tagName:"div",type:"text",draggable:!1,attributes:{class:"mb-3 heading-secondary indicator home-page-text-color "},content:"This is a sample sub heading "},{type:"Link"}]}]}]}},{id:"rd-list",label:"List",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M80,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H88A8,8,0,0,1,80,64Zm136,56H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM44,52A12,12,0,1,0,56,64,12,12,0,0,0,44,52Zm0,64a12,12,0,1,0,12,12A12,12,0,0,0,44,116Zm0,64a12,12,0,1,0,12,12A12,12,0,0,0,44,180Z"></path></svg>',category:"Basics",content:{tagName:"ul",type:"text",editable:!0,attributes:{},components:[{tagName:"li",type:"text",attributes:{},editable:!0,draggable:!1,droppable:!1,content:""}]}},{id:"rd-card-image-text",label:"image with text",media:'<i class="bg-text"></i>',category:"Basics",content:{tagName:"div",attributes:{class:"container"},components:[{tagName:"img",type:"image",attributes:{class:""}}]}},{id:"rd-inline-block",label:"Inline",category:"Layout",media:`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" stroke="currentColor" stroke-width="0.00024000000000000003">
    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="3.9839999999999995"/>
    <g id="SVGRepo_iconCarrier"> <path d="M6 17V7H8V17H6Z" fill="currentColor"/> <path d="M16 7V17H18V7H16Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M2 3H22V21H2V3ZM4 5V19H20V5H4Z" fill="currentColor"/> </g>
    </svg>`,content:{tagName:"div",attributes:{class:"d-inline-flex align-items-center flex-wrap gap-2 min-height-30 min-width-100"}}},{id:"rd-block",label:"Block",category:"Layout",media:`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" stroke="currentColor" stroke-width="0.00024000000000000003">
    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="3.9839999999999995"/>
    <g id="SVGRepo_iconCarrier"> <path d="M6 17V7H8V17H6Z" fill="currentColor"/> <path d="M16 7V17H18V7H16Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M2 3H22V21H2V3ZM4 5V19H20V5H4Z" fill="currentColor"/> </g>
    </svg>`,content:{tagName:"div",attributes:{class:"d-flex flex-column min-height-30 min-width-100 py-1"}}},{id:"rd-center-aligned-section",label:"Center aligned",category:"Layout",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M224,120H208V72a16,16,0,0,0-16-16H152a16,16,0,0,0-16,16v48H120V48a16,16,0,0,0-16-16H64A16,16,0,0,0,48,48v72H32a8,8,0,0,0,0,16H48v72a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V136h16v48a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V136h16a8,8,0,0,0,0-16ZM104,208H64V48h40Zm88-24H152V72h40Z"></path></svg>',content:{attributes:{class:"rd-container__center-aligned"}}},{id:"rd-left-aligned-section",label:"Left aligned",category:"Layout",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M48,40V216a8,8,0,0,1-16,0V40a8,8,0,0,1,16,0Zm16,64V64A16,16,0,0,1,80,48h96a16,16,0,0,1,16,16v40a16,16,0,0,1-16,16H80A16,16,0,0,1,64,104Zm16,0h96V64H80Zm152,48v40a16,16,0,0,1-16,16H80a16,16,0,0,1-16-16V152a16,16,0,0,1,16-16H216A16,16,0,0,1,232,152Zm-16,40V152H80v40H216Z"></path></svg>',content:{attributes:{class:"rd-container__left-aligned"}}},{id:"rd-right-aligned-section",label:"Right aligned",category:"Layout",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M224,40V216a8,8,0,0,1-16,0V40a8,8,0,0,1,16,0ZM192,64v40a16,16,0,0,1-16,16H80a16,16,0,0,1-16-16V64A16,16,0,0,1,80,48h96A16,16,0,0,1,192,64Zm-16,0H80v40h96Zm16,88v40a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V152a16,16,0,0,1,16-16H176A16,16,0,0,1,192,152Zm-16,0H40v40H176Z"></path></svg>',content:{attributes:{class:"rd-container__right-aligned"}}},{id:"rd-space-between-section",label:"Space between",category:"Layout",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M224,40V216a8,8,0,0,1-16,0V40a8,8,0,0,1,16,0ZM192,64v40a16,16,0,0,1-16,16H80a16,16,0,0,1-16-16V64A16,16,0,0,1,80,48h96A16,16,0,0,1,192,64Zm-16,0H80v40h96Zm16,88v40a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V152a16,16,0,0,1,16-16H176A16,16,0,0,1,192,152Zm-16,0H40v40H176Z"></path></svg>',content:{attributes:{class:"rd-container__space-between"}}},{id:"rd-image-block",label:"480x480",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',content:{type:"image",tagName:"img",attributes:{class:"image-480 "}}},{id:"rd-60image-block",label:"60x60",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',content:{type:"image",style:{width:"60px",height:"60px","object-fit":"contain"}}},{id:"rd-40image-block",label:"40x40",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',content:{type:"image",style:{width:"40px",height:"40px","object-fit":"contain"}}},{id:"rd-scroll-to-top",label:"Scroll To Top",category:"Basics",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"></path></svg>',content:{tagname:"a",attributes:{id:"scrollToTopBtn"}}},{label:"Image Content",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256"><path d="M208,32H80A16,16,0,0,0,64,48V64H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V192h16a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM80,48H208v69.38l-16.7-16.7a16,16,0,0,0-22.62,0L93.37,176H80Zm96,160H48V80H64v96a16,16,0,0,0,16,16h96Zm32-32H116l64-64,28,28v36Zm-88-64A24,24,0,1,0,96,88,24,24,0,0,0,120,112Zm0-32a8,8,0,1,1-8,8A8,8,0,0,1,120,80Z"></path></svg>',category:"Basics",content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-md-5"},components:{type:"image",style:{width:"480px",height:"480px","object-fit":"contain"}}},{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-md-7 vertical-center"},components:[{tagName:"div",attributes:{class:"heading"},components:[{tagName:"div",type:"text",draggable:!1,attributes:{class:"heading-primary indicator"},content:"This is a sample heading"},{tagName:"div",type:"text",attributes:{class:"mt-2 mb-5 pt-2"},content:"This is a sample text"},{type:"Link"}]}]}]}}},{id:"rd-image-content-block",label:"Content 1",category:"Content",media:`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" stroke="currentColor" stroke-width="0.00024000000000000003">
    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
    <g id="SVGRepo_iconCarrier"> <path d="M3.75 3C4.16421 3 4.5 3.33579 4.5 3.75V20.25C4.5 20.6642 4.16421 21 3.75 21C3.33579 21 3 20.6642 3 20.25V3.75C3 3.33579 3.33579 3 3.75 3Z" fill="#212121"/> <path d="M20.25 3C20.6642 3 21 3.33579 21 3.75V20.25C21 20.6642 20.6642 21 20.25 21C19.8358 21 19.5 20.6642 19.5 20.25V3.75C19.5 3.33579 19.8358 3 20.25 3Z" fill="#212121"/> <path d="M9.5 5C8.67157 5 8 5.67157 8 6.5V17.5C8 18.3284 8.67157 19 9.5 19H14.5C15.3284 19 16 18.3284 16 17.5V6.5C16 5.67157 15.3284 5 14.5 5H9.5Z" fill="#212121"/> </g>
    </svg>`,content:{attributes:{class:"rd-content-block__right row"},components:[{attributes:{class:"rd-content-block__image col-md-5 "},components:{type:"image"}},{attributes:{class:"col-md-7 rd-content-block__body ps-md-5"},components:[{attributes:{class:"position-relative"},components:[{tagName:"h1",attributes:{class:"rd-heading rd-heading-lg-normal"},type:"text",content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
                  <span class="rd-indicator-content rd-indicator-primary"></span>
                  </span>`}]},{type:"text",attributes:{class:"rd-text-grey-mid"},content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."},{type:"Link",attributes:{class:"rd-btn rd-btn-dark rd-btn-xl"}}]}]}},{id:"rd-content-image-block",label:"Content 2",category:"Content",media:`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" stroke="currentColor" stroke-width="0.00024000000000000003">
    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
    <g id="SVGRepo_iconCarrier"> <path d="M3.75 3C4.16421 3 4.5 3.33579 4.5 3.75V20.25C4.5 20.6642 4.16421 21 3.75 21C3.33579 21 3 20.6642 3 20.25V3.75C3 3.33579 3.33579 3 3.75 3Z" fill="#212121"/> <path d="M20.25 3C20.6642 3 21 3.33579 21 3.75V20.25C21 20.6642 20.6642 21 20.25 21C19.8358 21 19.5 20.6642 19.5 20.25V3.75C19.5 3.33579 19.8358 3 20.25 3Z" fill="#212121"/> <path d="M9.5 5C8.67157 5 8 5.67157 8 6.5V17.5C8 18.3284 8.67157 19 9.5 19H14.5C15.3284 19 16 18.3284 16 17.5V6.5C16 5.67157 15.3284 5 14.5 5H9.5Z" fill="#212121"/> </g>
    </svg>`,content:{attributes:{class:"rd-content-block__left row"},components:[{attributes:{class:"col-md-7 pe-md-5 rd-content-block__body order-2 order-sm-1"},components:[{attributes:{class:"position-relative"},components:[{tagName:"h1",attributes:{class:"rd-heading rd-heading-lg-normal"},type:"text",content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
                  <span class="rd-indicator-content rd-indicator-primary"></span>
                  </span>`}]},{type:"text",attributes:{class:"rd-text-grey-mid"},content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."},{type:"Link",attributes:{class:"rd-btn rd-btn-dark rd-btn-xl"}}]},{attributes:{class:"rd-content-block__image col-md-5 order-1 order-sm-2"},components:{type:"image"}}]}},{id:"rd-content-image-blockyes",label:"Content 3",category:"Content",media:`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" stroke="currentColor" stroke-width="0.00024000000000000003">
    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
    <g id="SVGRepo_iconCarrier"> <path d="M3.75 3C4.16421 3 4.5 3.33579 4.5 3.75V20.25C4.5 20.6642 4.16421 21 3.75 21C3.33579 21 3 20.6642 3 20.25V3.75C3 3.33579 3.33579 3 3.75 3Z" fill="#212121"/> <path d="M20.25 3C20.6642 3 21 3.33579 21 3.75V20.25C21 20.6642 20.6642 21 20.25 21C19.8358 21 19.5 20.6642 19.5 20.25V3.75C19.5 3.33579 19.8358 3 20.25 3Z" fill="#212121"/> <path d="M9.5 5C8.67157 5 8 5.67157 8 6.5V17.5C8 18.3284 8.67157 19 9.5 19H14.5C15.3284 19 16 18.3284 16 17.5V6.5C16 5.67157 15.3284 5 14.5 5H9.5Z" fill="#212121"/> </g>
    </svg>`,content:{attributes:{class:"rd-content-block__left row"},components:[{attributes:{class:"col-md-7 pe-md-5 rd-content-block__body order-2 order-sm-1"},components:[{attributes:{class:"position-relative"},components:[{tagName:"h1",attributes:{class:"rd-heading rd-heading-lg-normal"},type:"text",content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
                  <span class="rd-indicator-content rd-indicator-primary"></span>
                  </span>`}]},{type:"text",attributes:{class:"rd-text-grey-mid"},content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."},{type:"Link",attributes:{class:"rd-btn rd-btn-dark rd-btn-xl"}}]},{attributes:{class:"rd-content-block__image col-md-5 order-1 order-sm-2"},components:{type:"image"}}]}}],N1=(o,r)=>{o.TraitManager.addType("a",{createInput({trait:e}){let t=document.createElement("input");return t.type="text",t.value=e.get(),t.addEventListener("change",()=>e.set(t.value)),t}}),o.TraitManager.addType("anchor",{createInput({trait:e}){let t=document.createElement("input");return t.type="text",e.attributes.value!=""?t.value=e.attributes.value:t.value="",t.addEventListener("change",()=>e.set(t.value)),t},onEvent({elInput:e,component:t,event:n}){let i="",s=t.getAttributes();(s.href!=null||s.href!="")&&s.downloadanalytics&&(i=r.pageDetails.label+" ANALOAD "+s.href,t.addAttributes({downloadanalytics:i}))}}),o.TraitManager.addType("download",{createInput({trait:e}){let t="";e.attributes.value!=""&&(t="checked");let n=document.createElement("div");n.innerHTML=`<div class="gjs-field-wrp gjs-field-wrp--checkbox" data-input="">
                <label class="gjs-field gjs-field-checkbox" data-input="">
                <input type="checkbox" ${t} placeholder="" class="href-next__type">
                  <i class="gjs-chk-icon"></i>
                </label>
              </div>
              <div class="href-next__url-inputs d-none">
              <input class="href-next__url" value="false" placeholder="Insert Filename"/></div>
              `;let i=n.querySelector(".href-next__type"),s=n.querySelector(".href-next__url");return i.addEventListener("change",c=>{i.checked?s.value=!0:s.value=!1}),n},onEvent({elInput:e,component:t,event:n}){let i="",s=e.querySelector(".href-next__url").value,c=t.getAttributes();c.href!=null&&s=="true"?(i=r.pageDetails.label+" ANALOAD "+c.href,t.addAttributes({downloadanalytics:i})):(delete c.downloadanalytics,t.setAttributes(c))},onUpdate({elInput:e,component:t}){}}),rE.forEach((e,t)=>{o.BlockManager.add(e.id||`custom-block-${t+1}`,e)})};var Dh=(o,r)=>{let e={};return o?.forEachChild(t=>{let n=t.getAttributes();if(Object.prototype.hasOwnProperty.call(n,r)){e=t;return}}),e},Mh=(o,r,e)=>{let t=o.getClasses(),n=t.indexOf(e);return n!==-1?t[n]=r:t=[...t,r],t};var H1=(o,r={})=>{let{builderPopupService:e}=r,t=o.Commands;o.on("component:selected",n=>{if(n.get("type")==="Link"){let i=n.get("toolbar"),s="rd-link-button ";i.filter(c=>c.id===s).length||i.unshift({id:s,command:()=>{o.runCommand("rd-popup:button",{el:n.getEl()})},label:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#fff" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>'})}if(n.get("type")==="Heading"){let i=n.get("toolbar"),s="rd-link-heading ";i.filter(c=>c.id===s).length||i.unshift({id:s,command:()=>{o.runCommand("rd-popup:heading",{el:n.getEl()})},label:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#fff" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>'})}if(n.get("type")==="Card"){let i=n.get("toolbar"),s="rd-link-cards ";i.filter(c=>c.id===s).length||i.unshift({id:s,command:()=>{o.runCommand("rd-popup:cards",{el:n.getEl()})},label:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#fff" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>'})}if(n.get("type")==="Carousel"){let i=n.get("toolbar"),s="rd-carousel ";i.filter(c=>c.id===s).length||i.unshift({id:s,command:()=>{o.runCommand("rd-popup:carousels",{el:n.getEl()})},label:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#fff" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>'})}if(n.get("type")==="Layout"){let i=n.get("toolbar"),s="rd-link-layouts ";i.filter(c=>c.id===s).length||i.unshift({id:s,command:()=>{o.runCommand("rd-popup:layouts",{el:n.getEl()})},label:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#fff" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>'})}}),t.add("rd-popup:button",{run(n,i,s){let c=s.model,u=c.getEl();e.openModal({data:{title:"Button picker",type:ji.BUTTON,buttonData:{title:"",size:u?.hasAttribute(Mn.SIZE_ATTR)?u?.getAttribute(Mn.SIZE_ATTR):null,type:u?.getAttribute(Mn.TYPE_ATTR),leadingIcon:JSON.parse(u?.getAttribute(Mn.ICON_POSITION_ATTR)||"false"),link:u.hasAttribute(Mn.LINK_ATTR)?u?.getAttribute(Mn.HREF):"",target:u.hasAttribute(Mn.TARGET)?u?.getAttribute(Mn.TARGET):"",isDownload:u.hasAttribute(Mn.DOWNLOAD)}},maxWidth:"80vw",maxHeight:"80vh"}).afterClosed().subscribe(h=>{if(h){let v=c.find("span[data-gjs-type='Icon']");h.type==="rd-btn-text"&&h.leadingIcon?v.length?(v[0].remove(),c.components().add(v,{at:0})):c.components().add({type:"Icon"},{at:0}):h.type==="rd-btn-text"&&!h.leadingIcon&&(v.length?(v[0].remove(),c.components().add(v,{at:c.getLastChild().index()+1})):c.components().add({type:"Icon"})),c.setAttributes(Cn(Yt(Cn(Yt({},c.getAttributes()),{[`${Mn.TYPE_ATTR}`]:`${h.type}`,[`${Mn.ICON_POSITION_ATTR}`]:`${h.leadingIcon}`,[`${Mn.SIZE_ATTR}`]:h.size?h.size:null}),h.link?{[`${Mn.LINK_ATTR}`]:`${h.link}`,[`${Mn.HREF}`]:`${h.link}`}:null),{[`${Mn.TARGET}`]:h.target?"_blank":null,[`${Mn.DOWNLOAD}`]:h.target?"":null})),h.link||c.removeAttributes([Mn.HREF,Mn.LINK_ATTR]),h.isDownload||c.removeAttributes([Mn.DOWNLOAD]),c.setClass(`rd-btn ${h.type} ${h.size}`),c.view?.render()}})}}),t.add("rd-popup:heading",{run(n,i,s){let{el:c,model:u}=s;o.Components;let h={heading:o.getSelected().content};e.openModal({data:{title:"Header Picker",type:ji.HEADING,headingData:h},maxWidth:"30vw",maxHeight:"80vh"}).afterClosed().subscribe(m=>{if(m){let _=m.content,w=o.getSelected();w&&_&&(w.components(_),w.view.render())}})}}),t.add("rd-popup:cards",{run(n,i,s){let{el:c,model:u}=s;o.Components;let h={card:o.getSelected().content};e.openModal({data:{title:"Cards Picker",type:ji.CARDS,cardData:h},maxWidth:"80vw",maxHeight:"80vh"}).afterClosed().subscribe(m=>{if(m){let _=m.content,w=o.getSelected();w&&_&&(w.components(_),w.view.render())}})}}),t.add("rd-popup:layouts",{run(n,i,s){let{el:c,model:u}=s;o.Components;let h={layout:o.getSelected().content};e.openModal({data:{title:"Layouts Picker",type:ji.LAYOUTS,cardData:h},maxWidth:"80vw",maxHeight:"80vh"}).afterClosed().subscribe(m=>{if(m){let _=m.content,w=o.getSelected();w&&_&&(w.components(_),w.view.render())}})}}),t.add("rd-popup:banner",{run(n,i,s){let c=s.model,u=s.el;e.openModal({data:{title:"Banner Picker",type:ji.BANNER,bannerData:{type:u?.getAttribute("id")}},maxWidth:"80vw",maxHeight:"80vh"}).afterClosed().subscribe(h=>{if(h&&c)c.components(h.content);else throw new Error("Model not found")})}}),t.add("rd-popup:popup",{run(n,i,s){let c=o.getSelected(),u=Dh(c,ui.LABEL),d=Dh(c,ui.SIZE),h={label:u?.getAttributes()[ui.LABEL]||"",name:c?.getAttributes()[ui.NAME]||"",size:d?.getAttributes()[ui.SIZE]||""};e.openModal({data:{title:"Popup picker",type:ji.POPUP,popupData:h},maxWidth:"80vw",minHeight:"300px",maxHeight:"80vh"}).afterClosed().subscribe(m=>{if(m){if(m.popupType==="label")u?.setAttributes(Cn(Yt({},u.getAttributes()),{[ui.LABEL]:m.label})),u.set({content:m.label}),c?.setAttributes(Cn(Yt({},c.getAttributes()),{[ui.NAME]:m.name})),d?.setAttributes(Cn(Yt({},d.getAttributes()),{[ui.SIZE]:m.size,class:Mh(d,m.size,h.size)}));else if(m.popupType==="image"){let _=u.getAttributes({noClass:!0,noStyle:!0});d?.setAttributes(Cn(Yt({},d.getAttributes()),{[ui.SIZE]:m.size,class:Mh(d,m.size,h.size)})),u.replaceWith(`<img 
              src="${m.imageFile?.Url}" 
              data-bs-target = "${_["data-bs-target"]}" 
              data-bs-toggle = "${_["data-bs-toggle"]}"
              data-custom-page = "${_["data-custom-page"]}" 
              data-popup-label = "${_["data-popup-label"]}"
              style="width: ${m.imageFile?.width}px; height: ${m.imageFile?.height}px;"
              />`)}}})}}),t.add("page-preview",{run(n,i,s){let{el:c,model:u}=s,d={details:{Html:o.getHtml(),Css:o.getCss()},pageDetails:s.pageDetails,pageConfig:s.pageConfig};e.openModal({data:{title:"Preview",type:ji.PREVIEW,previewData:d},maxWidth:"100vw",maxHeight:"100vh"}).afterClosed().subscribe(v=>{v&&u.components(v.content)})}})};var B1=(o,r={})=>{let e=o.BlockManager;for(let t=0;t<r.componentTypes.length;t++){let n=r.componentTypes[t];e.add(n.name,{label:`${n.label}`,media:n.media,category:n.category,content:Yt({type:n.type},n.stylable?{stylable:n.stylable}:null),activate:!0,select:!0})}};var j1=(o,r={})=>{let e=o.TraitManager;e.addType("href-next",{createInput({trait:t}){let n=t.getOptions()||[],i=n.length?n:[{id:"url",name:"URL"},{id:"email",name:"Email"}],s=document.createElement("div");s.innerHTML=`
        <select class="href-next__type">
          ${i.map(h=>`<option value="${h.id}">${h.name}</option>`).join("")}
        </select>
        <div class="href-next__url-inputs">
          <input class="href-next__url" placeholder="Insert URL"/>
        </div>
        <div class="href-next__email-inputs">
          <input class="href-next__email" placeholder="Insert email"/>
          <input class="href-next__email-subject" placeholder="Insert subject"/>
        </div>
      `;let c=s.querySelector(".href-next__url-inputs"),u=s.querySelector(".href-next__email-inputs");return s.querySelector(".href-next__type").addEventListener("change",h=>{switch(h.target.value){case"url":c.classList.remove("d-none"),u.classList.add("d-none");break;case"email":c.classList.add("d-none"),u.classList.remove("d-none");break}}),s},onEvent({elInput:t,component:n,event:i}){let s=t.querySelector(".href-next__type"),c="";switch(s.value){case"url":c=t.querySelector(".href-next__url").value;break;case"email":let d=t.querySelector(".href-next__email").value,h=t.querySelector(".href-next__email-subject").value;c=`mailto:${d}${h?`?subject=${h}`:""}`;break}n.addAttributes({href:c})},onUpdate({elInput:t,component:n}){let i=n.getAttributes().href||"",s=t.querySelector(".href-next__type"),c="url";if(i.indexOf("mailto:")===0){let u=t.querySelector(".href-next__email"),d=t.querySelector(".href-next__email-subject"),h=i.replace("mailto:","").split("?"),v=h[0],m=(h[1]||"").split("&").reduce((_,w)=>{let x=w.split("=");return _[x[0]]=x[1],_},{});c="email",u.value=v||"",d.value=m.subject||""}else t.querySelector(".href-next__url").value=i;s.value=c,s.dispatchEvent(new CustomEvent("change"))}}),e.addType("color",{createInput({trait:t}){let n=t.getOptions()||[],i=Array.isArray(n)&&n.length?n:[],s=document.createElement("div");s.innerHTML=`
        <select id="color-to-dropdown">
          <option value="" selected disabled>Please select</option>
          <option value="text">Text</option>
          <option value="background">Background</option>
          <option value="border">Border</option>
        </select>
        <select id="color-dropdown">
          ${i.map(d=>`<option value="${d.class}">${d.name}</option>`).join("")}
        </select>
      `;let c=s.querySelector("#color-to-dropdown"),u=s.querySelector("#color-dropdown");return c?.addEventListener("change",d=>{switch(d.target.value){case"text":u.innerHTML=`
            ${i.map(h=>`<option value="${h.class}">${h.name}</option>`).join("")}
            `;break;case"background":u.innerHTML=`
            ${i.map(h=>`<option value="${h.bgClass}">${h.name}</option>`).join("")}
            `;break;case"border":u.innerHTML=`
            ${i.map(h=>`<option value="${h.borderClass}">${h.name}</option>`).join("")}
            `;break}}),s},onEvent({elInput:t,component:n,event:i}){let s=t.querySelector("#color-dropdown"),c=n.getAttributes();s.value&&(n&&c["data-color-trait"]&&n.removeClass(c["data-color-trait"]),n.addClass(s.value),n.addAttributes({"data-color-trait":s.value}))},onUpdate({elInput:t,component:n}){if(n&&t){let i=t.querySelector("#color-dropdown"),s=n.getAttributes();i.dispatchEvent(new CustomEvent("change"))}}}),o.DomComponents.addType("image",{isComponent:t=>t.tagName==="IMG",model:{defaults:{traits:["alt",{type:"text",label:"Aria Label",name:"aria-label",placeholder:"Enter aria-label"}]}}}),o.DomComponents.addType("custom-link",{model:{defaults:{traits:[{label:"Url",type:"anchor",name:"href"},{label:"New window",type:"checkbox",name:"target",valueTrue:"_blank",valueFalse:void 0},{label:"Download Track",type:"download",name:"downloadanalytics"},{type:"text",label:"Aria Label",name:"aria-label",placeholder:"Add a label for accessibility"}]}}})};var z1=(o,r={})=>{let e="rd-icon",t="data-type-id",{builderPopupService:n}=r,i=o.DomComponents;var s=o.DomComponents.getType("default"),c=s.model.prototype.initialize;s.model.prototype.initialize=function(){c.apply(this,arguments),setTimeout(()=>{this.get("traits").add([{type:"color",label:"Color"}])},100)},i.addType("Link",{extend:"link text",isComponent:u=>u.tagName==="A"&&u.getAttribute(t)==="rd-link-button",model:{defaults:{tagName:"a",attributes:{class:"rd-btn rd-btn-dark",[Mn.TYPE_ATTR]:"rd-btn-dark",[t]:"rd-link-button"},components:[{tagName:"span",type:"text",attributes:{class:"btn-text"},content:"Go to",editable:!0,draggable:!1,activate:!0,select:!0}],traits:[...o.DomComponents.getType("link")?.model.prototype.defaults.traits||[],{type:"text",label:"Aria Label",name:"aria-label",placeholder:"Add a label for accessibility"},{label:"New window",type:"checkbox",name:"target",valueTrue:"_blank",valueFalse:void 0},{label:"Download Track",type:"download",name:"downloadanalytics"}]}},view:{events:{dblclick:"onActive"},onActive(u){u&&u.stopPropagation(),o.runCommand("rd-popup:button",this)},onEdit(u){o.runCommand("rd-popup:button",this)}}}),i.addType("AnchorButton",{isComponent:u=>u.tagName==="BUTTON"&&u.getAttribute(t)==="rd-anchor-button",model:{defaults:{tagName:"button",attributes:{class:"rd-btn rd-btn-dark",[Mn.TYPE_ATTR]:"rd-btn-dark",[t]:"rd-anchor-button"},components:[{tagName:"span",type:"text",attributes:{class:"btn-text"},content:"click me",editable:!0,draggable:!1,activate:!0,select:!0}]}},view:{events:{dblclick:"onActive"},onActive(u){u&&u.stopPropagation(),o.runCommand("rd-popup:button",this)},onEdit(u){o.runCommand("rd-popup:button",this)}}}),i.addType("Headingas",{extend:"link text",isComponent:u=>u.tagName==="DIV"&&u.getAttribute(t)==="rd-link-heading",model:{defaults:{tagName:"div",attributes:{class:"rd-heading",[t]:"rd-link-heading"},content:{attributes:{class:"com-md-12 row justify-content-center align-items-center heading-primary"},content:' <div class="col-md-12"><div class="card"></div></div>',editable:!0,draggable:!1,activate:!0,select:!0}}},view:{events:{dblclick:"onEdit"},onActive(u){o.runCommand("rd-popup:heading",this)},onEdit(u){o.runCommand("rd-popup:heading",{el:this.model.getEl(),model:this.model})}}}),i.addType("Layout",{extend:"link text",isComponent:u=>u.tagName==="DIV"&&u.getAttribute(t)==="rd-link-layouts",model:{defaults:{tagName:"div",attributes:{[t]:"rd-link-layouts",class:"layouts"},content:{attributes:{class:"com-md-12 row justify-content-center align-items-center square-box"},content:' <div data-gjs-highlightable="true" id="ihzc" data-gjs-type="default" draggable="true" class="container container-xl container-lg"><div data-gjs-highlightable="true" id="iezz5" data-gjs-type="default" class="row"><div data-gjs-highlightable="true" id="ihjy6" data-gjs-type="default" class="col-12"></div></div></div>',editable:!0,draggable:!1,activate:!0,select:!0}}},view:{events:{dblclick:"onEdit"},onActive(u){o.runCommand("rd-popup:layouts",this)},onEdit(u){o.runCommand("rd-popup:layouts",{el:this.model.getEl(),model:this.model})}}}),i.addType("Cardbuilder",{extend:"link text",isComponent:u=>u.tagName==="DIV"&&u.getAttribute(t)==="rd-link-cards",model:{defaults:{}},view:{events:{dblclick:"onEdit"},onActive(u){u&&u.stopPropagation(),o.runCommand("rd-popup:cards",this)},onEdit(u){o.runCommand("rd-popup:cards",{el:this.model.getEl(),model:this.model})}}}),i.addType("Banner",{isComponent:u=>u.tagName==="DIV"&&u.getAttribute(t)==="rd-banner",view:{events:{dblclick:"onEdit"},onActive(u){o.runCommand("rd-popup:banner",this)},onEdit(u){o.runCommand("rd-popup:banner",this)}}}),i.addType("Spacer",{isComponent:u=>u.tagName==="DIV"&&u.getAttribute(t)==="rd-spacer",model:{defaults:{attributes:{class:"rd-spacer",[t]:"rd-spacer"},name:"Spacer"}}}),i.addType("Icon",{isComponent:u=>u.tagName==="SPAN"&&u.getAttribute(t)==="rd-custom-icon"?{type:"Icon"}:!1,model:{defaults:{tagName:"span",name:"Icon",attributes:{[t]:"rd-custom-icon",class:"rd-icon"},content:'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg>'}},view:{init:({model:u,el:d})=>{d.innerHTML=u.get("content")},events:{dblclick:"onActive"},onActive(u){u&&u.stopPropagation();let{model:d}=this,h=o.getSelected(),v=[...d.getClasses()].find(w=>w.includes(`${e}-`)),m={icon:d.content,size:v,color:d.getEl()?.style.color};n.openModal({data:{title:"Icon picker",type:ji.ICON,iconData:m},maxWidth:"80vw",minHeight:"300px",maxHeight:"80vh"}).afterClosed().subscribe(w=>{h&&w&&(d.components(w.icon),d&&(d.setClass(`${e} ${w.size}`),d.addAttributes({style:w.color?`color: ${w.color}`:null}),d.view?.render()))})}}}),i.addType("Popup",{isComponent:u=>u.tagName&&u.getAttribute(t)==="rd-popup"?{type:"Popup"}:!1,model:{defaults:{tagName:"div",name:"Popup",attributes:{[t]:"rd-popup",class:"rd-popup",[ui.NAME]:"Default"},components:[{tagName:"span",type:"text",attributes:{class:"rd-link","data-bs-toggle":"modal","data-bs-target":`#${ql.POPUP_ID}`,[ui.LABEL]:"popup"},content:"popup"},{tagName:"div",attributes:{class:"modal fade",tabindex:"-1",id:`${ql.POPUP_ID}`,"aria-hidden":"true"},components:[{tagName:"div",attributes:{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable model-sm",[ui.SIZE]:"model-sm"},components:[{tagName:"div",attributes:{class:"modal-content"},components:[{tagName:"div",attributes:{class:"modal-header"},components:[{type:"text",content:'<h5 class="modal-title">Modal Title</h5>'},{tagName:"button",attributes:{type:"button",class:"rd-btn-sm btn-close rd-text-red","data-bs-dismiss":"modal","aria-label":"Close"},removable:!1,draggable:!1}]},{tagName:"div",attributes:{class:"modal-body"},components:[{type:"text",content:"<p>Modal body text goes here.</p>"}]},{tagName:"div",attributes:{class:"modal-footer"},components:[{tagName:"button",attributes:{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},content:"Close"},{tagName:"button",attributes:{type:"button",class:"btn btn-primary"},content:"Save changes"}]}]}]}]}]}},view:{events:{dblclick:"onActive"},onActive(u){u&&u.stopPropagation(),o.runCommand("rd-popup:popup",this)},onEdit(u){o.runCommand("rd-popup:popup",this)}}})};var U1=(o,r={})=>{let e={componentTypes:[{label:"Card",type:"Cardbuilder",name:"rdCard",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M184,72H40A16,16,0,0,0,24,88V200a16,16,0,0,0,16,16H184a16,16,0,0,0,16-16V88A16,16,0,0,0,184,72Zm0,128H40V88H184V200ZM232,56V176a8,8,0,0,1-16,0V56H64a8,8,0,0,1,0-16H216A16,16,0,0,1,232,56Z"></path></svg>',category:"Basics"},{label:"Layout",type:"Layout",name:"rdlayout",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V96H40V56ZM40,112H96v88H40Zm176,88H112V112H216v88Z"></path></svg>',category:"Layout"},{label:"Heading",type:"Headingas",name:"rdheading",media:`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none">
        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
        <g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7.55228 5 8 5.44772 8 6V11.5H16V6C16 5.44772 16.4477 5 17 5C17.5523 5 18 5.44772 18 6V12.5V19C18 19.5523 17.5523 20 17 20C16.4477 20 16 19.5523 16 19V13.5H8V19C8 19.5523 7.55228 20 7 20C6.44772 20 6 19.5523 6 19V12.5V6C6 5.44772 6.44772 5 7 5Z" fill="currentColor"/></g>
        </svg>`,category:"Basics"},{label:"Spacer",type:"Spacer",name:"rdSpacer",media:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#b78847" viewBox="0 0 256 256"><path d="M216,152a8,8,0,0,1-8,8H136v52.69l18.34-18.35a8,8,0,0,1,11.32,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,212.69V160H48a8,8,0,0,1,0-16H208A8,8,0,0,1,216,152ZM48,112H208a8,8,0,0,0,0-16H136V43.31l18.34,18.35a8,8,0,0,0,11.32-11.32l-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L120,43.31V96H48a8,8,0,0,0,0,16Z"></path></svg>',category:"Basics",stylable:["height"]},{label:"Button",type:"Link",name:"rdButton",media:'<svg width="28px" height="28px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M20.5 17h-17A2.502 2.502 0 0 1 1 14.5v-4A2.502 2.502 0 0 1 3.5 8h17a2.502 2.502 0 0 1 2.5 2.5v4a2.502 2.502 0 0 1-2.5 2.5zm-17-8A1.502 1.502 0 0 0 2 10.5v4A1.502 1.502 0 0 0 3.5 16h17a1.502 1.502 0 0 0 1.5-1.5v-4A1.502 1.502 0 0 0 20.5 9zM17 12H7v1h10z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg>',category:"Basics"},{label:"Anchor",type:"AnchorButton",name:"rdAnchorButton",media:'<svg width="28px" height="28px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M20.5 17h-17A2.502 2.502 0 0 1 1 14.5v-4A2.502 2.502 0 0 1 3.5 8h17a2.502 2.502 0 0 1 2.5 2.5v4a2.502 2.502 0 0 1-2.5 2.5zm-17-8A1.502 1.502 0 0 0 2 10.5v4A1.502 1.502 0 0 0 3.5 16h17a1.502 1.502 0 0 0 1.5-1.5v-4A1.502 1.502 0 0 0 20.5 9zM17 12H7v1h10z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg>',category:"Basics"},{label:"Banner",type:"Banner",name:"rdBanner",media:'<svg fill="#000000" height="24px" width="24px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" stroke="#000000" stroke-width="0.00512"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M468.32,53.08H43.68C19.595,53.08,0,72.675,0,96.76v283.087c0,0.003,0,0.008,0,0.011v35.381 c0,24.085,19.595,43.68,43.68,43.68H468.32c24.085,0,43.68-19.595,43.68-43.68V96.76C512,72.675,492.405,53.08,468.32,53.08z M43.68,442.333c-14.94,0-27.093-12.154-27.093-27.093v-31.951l39.375-39.375h182.344c1.55,0,2.996-0.433,4.238-1.173 l99.592,99.592H43.68z M230.013,299.68v26.851c-0.004,0.155-0.004,0.31,0,0.463v0.332H60.821V299.68H230.013z M116.784,283.093 l13.9-13.899c5.117-5.117,11.92-7.935,19.156-7.935c7.237,0,14.04,2.818,19.156,7.935l13.9,13.899H116.784z M495.413,415.24 c0,14.939-12.153,27.093-27.093,27.093H365.596L255.978,332.715l131.259-131.259c5.117-5.117,11.92-7.935,19.156-7.935 s14.04,2.818,19.156,7.935l69.863,69.863V415.24z M495.413,247.86l-58.133-58.132c-8.251-8.251-19.219-12.794-30.887-12.794 c-11.668,0-22.636,4.544-30.887,12.793L246.6,318.633v-27.247c0-4.58-3.712-8.294-8.294-8.294h-31.951l-25.629-25.629 c-8.251-8.249-19.219-12.793-30.887-12.793c-11.668,0-22.636,4.544-30.887,12.793l-25.629,25.629H52.527 c-4.581,0-8.294,3.713-8.294,8.294v40.797L16.587,359.83V96.76c0-14.939,12.153-27.093,27.093-27.093H468.32 c14.94,0,27.093,12.154,27.093,27.093V247.86z"></path> </g> </g> <g> <g> <path d="M317.927,168.088h-19.046c-1.137-5.889-3.451-11.362-6.702-16.156l13.475-13.475c3.239-3.239,3.239-8.491,0-11.728 c-3.24-3.239-8.491-3.239-11.73,0l-13.475,13.475c-4.794-3.25-10.267-5.565-16.155-6.701v-19.048c0-4.58-3.712-8.294-8.294-8.294 s-8.294,3.713-8.294,8.294v19.046c-5.889,1.137-11.361,3.451-16.155,6.701l-13.475-13.475c-3.24-3.239-8.491-3.239-11.73,0 c-3.239,3.239-3.239,8.491,0,11.728l13.475,13.475c-3.25,4.794-5.566,10.268-6.702,16.156h-19.046 c-4.581,0-8.294,3.713-8.294,8.294s3.712,8.295,8.294,8.295h19.046c1.137,5.889,3.451,11.362,6.702,16.156l-13.475,13.475 c-3.239,3.239-3.239,8.491,0,11.728c1.62,1.619,3.743,2.43,5.865,2.43c2.122,0,4.245-0.809,5.865-2.43l13.475-13.475 c4.794,3.25,10.267,5.565,16.155,6.701v19.047c0,4.58,3.712,8.294,8.294,8.294s8.294-3.713,8.294-8.294v-19.046 c5.889-1.137,11.361-3.451,16.155-6.701l13.475,13.475c1.62,1.619,3.743,2.43,5.865,2.43s4.245-0.809,5.865-2.43 c3.239-3.239,3.239-8.491,0-11.728l-13.475-13.475c3.25-4.794,5.566-10.268,6.702-16.156h19.044c4.581,0,8.294-3.713,8.294-8.294 C326.22,171.801,322.508,168.088,317.927,168.088z M256,203.473c-14.94,0-27.093-12.154-27.093-27.093S241.06,149.287,256,149.287 s27.093,12.154,27.093,27.093S270.94,203.473,256,203.473z"></path> </g> </g> <g> <g> <path d="M238.307,362.713H52.527c-4.581,0-8.294,3.713-8.294,8.294s3.712,8.294,8.294,8.294h185.78 c4.581,0,8.294-3.713,8.294-8.294S242.888,362.713,238.307,362.713z"></path> </g> </g> <g> <g> <path d="M167.533,398.099H52.527c-4.581,0-8.294,3.713-8.294,8.294c0,4.58,3.712,8.294,8.294,8.294h115.006 c4.581,0,8.294-3.713,8.294-8.294C175.827,401.813,172.115,398.099,167.533,398.099z"></path> </g> </g> </g></svg>',category:"Basics"}]};for(let t in e)t in r||(r[t]=e[t]);H1(o,r),j1(o,r),z1(o,r),B1(o,r)};var W1=(o,r={})=>{let{uploadService:e}=r;o.Commands.add("replace-image-src",{run:(t,n,i)=>{let s=t.getSelected();if(s?.is("img")){let c=fetch(e).then(u=>u.json()).then(u=>u.imageUrl).catch(u=>{console.error("Error fetching image URL:",u)});s.setAttributes({src:c})}}})};var kh=(t=>(t[t.DRAFT=0]="DRAFT",t[t.PUBLISH=1]="PUBLISH",t[t.ARCHIVE=2]="ARCHIVE",t))(kh||{});var oE=["wrapper"],aE=["sourceImage"];function sE(o,r){if(o&1){let e=Ct();te(0,"img",5,0),qe("load",function(){Ne(e);let n=ne();return He(n.imageLoadedInView())})("mousedown",function(n){Ne(e);let i=ne();return He(i.startMove(n,i.moveTypes.Drag))})("touchstart",function(n){Ne(e);let i=ne();return He(i.startMove(n,i.moveTypes.Drag))})("error",function(n){Ne(e);let i=ne();return He(i.loadImageError(n))}),ae()}if(o&2){let e=r.ngIf,t=ne();po("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle()),jr("ngx-ic-draggable",!t.disabled&&t.allowMoveImage),ie("src",e,pr),xn("alt",t.imageAltText)}}function lE(o,r){if(o&1){let e=Ct();_r(0),te(1,"span",9),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"topleft"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"topleft"))}),pt(2,"span",10),ae(),te(3,"span",11),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"topright"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"topright"))}),pt(4,"span",10),ae(),te(5,"span",12),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"bottomright"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"bottomright"))}),pt(6,"span",10),ae(),te(7,"span",13),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"bottomleft"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"bottomleft"))}),pt(8,"span",10),ae(),te(9,"span",14),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"top"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"top"))}),ae(),te(10,"span",15),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"top"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"top"))}),pt(11,"span",10),ae(),te(12,"span",16),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"right"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"right"))}),ae(),te(13,"span",17),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"right"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"right"))}),pt(14,"span",10),ae(),te(15,"span",18),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"bottom"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"bottom"))}),ae(),te(16,"span",19),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"bottom"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"bottom"))}),pt(17,"span",10),ae(),te(18,"span",20),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"left"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"left"))}),ae(),te(19,"span",21),qe("mousedown",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"left"))})("touchstart",function(n){Ne(e);let i=ne(2);return He(i.startMove(n,i.moveTypes.Resize,"left"))}),pt(20,"span",10),ae(),br()}}function cE(o,r){if(o&1){let e=Ct();te(0,"div",6),qe("keydown",function(n){Ne(e);let i=ne();return He(i.keyboardAccess(n))}),te(1,"div",7),qe("mousedown",function(n){Ne(e);let i=ne();return He(i.startMove(n,i.moveTypes.Move))})("touchstart",function(n){Ne(e);let i=ne();return He(i.startMove(n,i.moveTypes.Move))}),ae(),et(2,lE,21,0,"ng-container",8),ae()}if(o&2){let e=ne();po("top",e.state.cropper().y1,"px")("left",e.state.cropper().x1,"px")("width",e.state.cropper().x2-e.state.cropper().x1,"px")("height",e.state.cropper().y2-e.state.cropper().y1,"px")("margin-left",e.state.options.alignImage==="center"?e.marginLeft:null)("visibility",e.imageVisible?"visible":"hidden"),jr("ngx-ic-round",e.state.options.roundCropper),xn("aria-label",e.state.options.cropperFrameAriaLabel),X(2),ie("ngIf",!e.state.options.hideResizeSquares&&!(e.state.options.cropperStaticWidth&&e.state.options.cropperStaticHeight))}}function bc(o,r,e){return o=uE(o,r),zd(o,r,e)}function uE(o,r){let e=o.x2-o.x1,t=o.y2-o.y1,n=o.x1+e/2,i=o.y1+t/2;r.options.cropperStaticHeight&&r.options.cropperStaticWidth?(e=r.maxSize().width>r.options.cropperStaticWidth?r.options.cropperStaticWidth:r.maxSize().width,t=r.maxSize().height>r.options.cropperStaticHeight?r.options.cropperStaticHeight:r.maxSize().height):(e=Math.max(r.cropperScaledMinWidth,Math.min(e,r.cropperScaledMaxWidth,r.maxSize().width)),t=Math.max(r.cropperScaledMinHeight,Math.min(t,r.cropperScaledMaxHeight,r.maxSize().height)),r.options.maintainAspectRatio&&(r.maxSize().width/r.options.aspectRatio<r.maxSize().height?t=e/r.options.aspectRatio:e=t*r.options.aspectRatio));let s=n-e/2,c=s+e,u=i-t/2,d=u+t;return{x1:s,x2:c,y1:u,y2:d}}function zd(o,r,e=!1){return o.x1<0&&(o=Cn(Yt({},o),{x1:0,x2:o.x2-(e?o.x1:0)})),o.y1<0&&(o=Cn(Yt({},o),{y2:o.y2-(e?o.y1:0),y1:0})),o.x2>r.maxSize().width&&(o=Cn(Yt({},o),{x1:o.x1-(e?o.x2-r.maxSize().width:0),x2:r.maxSize().width})),o.y2>r.maxSize().height&&(o=Cn(Yt({},o),{y1:o.y1-(e?o.y2-r.maxSize().height:0),y2:r.maxSize().height})),o}function dE(o,r){let e=Ud(o)-r.clientX,t=Wd(o)-r.clientY;return{x1:r.cropper.x1+e,y1:r.cropper.y1+t,x2:r.cropper.x2+e,y2:r.cropper.y2+t}}function G1(o,r,e){let t=Yt({},e.cropper()),n=Ud(o)-r.clientX,i=Wd(o)-r.clientY;switch(r.position){case"left":t.x1=Math.min(Math.max(r.cropper.x1+n,t.x2-e.cropperScaledMaxWidth),t.x2-e.cropperScaledMinWidth);break;case"topleft":t.x1=Math.min(Math.max(r.cropper.x1+n,t.x2-e.cropperScaledMaxWidth),t.x2-e.cropperScaledMinWidth),t.y1=Math.min(Math.max(r.cropper.y1+i,t.y2-e.cropperScaledMaxHeight),t.y2-e.cropperScaledMinHeight);break;case"top":t.y1=Math.min(Math.max(r.cropper.y1+i,t.y2-e.cropperScaledMaxHeight),t.y2-e.cropperScaledMinHeight);break;case"topright":t.x2=Math.max(Math.min(r.cropper.x2+n,t.x1+e.cropperScaledMaxWidth),t.x1+e.cropperScaledMinWidth),t.y1=Math.min(Math.max(r.cropper.y1+i,t.y2-e.cropperScaledMaxHeight),t.y2-e.cropperScaledMinHeight);break;case"right":t.x2=Math.max(Math.min(r.cropper.x2+n,t.x1+e.cropperScaledMaxWidth),t.x1+e.cropperScaledMinWidth);break;case"bottomright":t.x2=Math.max(Math.min(r.cropper.x2+n,t.x1+e.cropperScaledMaxWidth),t.x1+e.cropperScaledMinWidth),t.y2=Math.max(Math.min(r.cropper.y2+i,t.y1+e.cropperScaledMaxHeight),t.y1+e.cropperScaledMinHeight);break;case"bottom":t.y2=Math.max(Math.min(r.cropper.y2+i,t.y1+e.cropperScaledMaxHeight),t.y1+e.cropperScaledMinHeight);break;case"bottomleft":t.x1=Math.min(Math.max(r.cropper.x1+n,t.x2-e.cropperScaledMaxWidth),t.x2-e.cropperScaledMinWidth),t.y2=Math.max(Math.min(r.cropper.y2+i,t.y1+e.cropperScaledMaxHeight),t.y1+e.cropperScaledMinHeight);break;case"center":let s="scale"in o?o.scale:1,c=Math.min(Math.max(e.cropperScaledMinWidth,Math.abs(r.cropper.x2-r.cropper.x1)*s),e.cropperScaledMaxWidth),u=Math.min(Math.max(e.cropperScaledMinHeight,Math.abs(r.cropper.y2-r.cropper.y1)*s),e.cropperScaledMaxHeight);t.x1=r.clientX-c/2,t.x2=r.clientX+c/2,t.y1=r.clientY-u/2,t.y2=r.clientY+u/2,t.x1<0?(t.x2-=t.x1,t.x1=0):t.x2>e.maxSize().width&&(t.x1-=t.x2-e.maxSize().width,t.x2=e.maxSize().width),t.y1<0?(t.y2-=t.y1,t.y1=0):t.y2>e.maxSize().height&&(t.y1-=t.y2-e.maxSize().height,t.y2=e.maxSize().height);break}return e.options.maintainAspectRatio?fE(r.position,t,e):t}function fE(o,r,e){r=Yt({},r);let t=0,n=0;switch(o){case"top":r.x2=r.x1+(r.y2-r.y1)*e.options.aspectRatio,t=Math.max(r.x2-e.maxSize().width,0),n=Math.max(0-r.y1,0),(t>0||n>0)&&(r.x2-=n*e.options.aspectRatio>t?n*e.options.aspectRatio:t,r.y1+=n*e.options.aspectRatio>t?n:t/e.options.aspectRatio);break;case"bottom":r.x2=r.x1+(r.y2-r.y1)*e.options.aspectRatio,t=Math.max(r.x2-e.maxSize().width,0),n=Math.max(r.y2-e.maxSize().height,0),(t>0||n>0)&&(r.x2-=n*e.options.aspectRatio>t?n*e.options.aspectRatio:t,r.y2-=n*e.options.aspectRatio>t?n:t/e.options.aspectRatio);break;case"topleft":r.y1=r.y2-(r.x2-r.x1)/e.options.aspectRatio,t=Math.max(0-r.x1,0),n=Math.max(0-r.y1,0),(t>0||n>0)&&(r.x1+=n*e.options.aspectRatio>t?n*e.options.aspectRatio:t,r.y1+=n*e.options.aspectRatio>t?n:t/e.options.aspectRatio);break;case"topright":r.y1=r.y2-(r.x2-r.x1)/e.options.aspectRatio,t=Math.max(r.x2-e.maxSize().width,0),n=Math.max(0-r.y1,0),(t>0||n>0)&&(r.x2-=n*e.options.aspectRatio>t?n*e.options.aspectRatio:t,r.y1+=n*e.options.aspectRatio>t?n:t/e.options.aspectRatio);break;case"right":case"bottomright":r.y2=r.y1+(r.x2-r.x1)/e.options.aspectRatio,t=Math.max(r.x2-e.maxSize().width,0),n=Math.max(r.y2-e.maxSize().height,0),(t>0||n>0)&&(r.x2-=n*e.options.aspectRatio>t?n*e.options.aspectRatio:t,r.y2-=n*e.options.aspectRatio>t?n:t/e.options.aspectRatio);break;case"left":case"bottomleft":r.y2=r.y1+(r.x2-r.x1)/e.options.aspectRatio,t=Math.max(0-r.x1,0),n=Math.max(r.y2-e.maxSize().height,0),(t>0||n>0)&&(r.x1+=n*e.options.aspectRatio>t?n*e.options.aspectRatio:t,r.y2-=n*e.options.aspectRatio>t?n:t/e.options.aspectRatio);break;case"center":r.x2=r.x1+(r.y2-r.y1)*e.options.aspectRatio,r.y2=r.y1+(r.x2-r.x1)/e.options.aspectRatio;let i=Math.max(0-r.x1,0),s=Math.max(r.x2-e.maxSize().width,0),c=Math.max(r.y2-e.maxSize().height,0),u=Math.max(0-r.y1,0);(i>0||s>0||c>0||u>0)&&(r.x1+=c*e.options.aspectRatio>i?c*e.options.aspectRatio:i,r.x2-=u*e.options.aspectRatio>s?u*e.options.aspectRatio:s,r.y1+=u*e.options.aspectRatio>s?u:s/e.options.aspectRatio,r.y2-=c*e.options.aspectRatio>i?c:i/e.options.aspectRatio);break}return r}function Ud(o){return"touches"in o&&o.touches[0]?o.touches[0].clientX:"clientX"in o?o.clientX:0}function Wd(o){return"touches"in o&&o.touches[0]?o.touches[0].clientY:"clientX"in o?o.clientY:0}var Ph=class{constructor(){this.cropper=fo({x1:0,x2:0,y1:0,y2:0}),this.maxSize=fo({width:0,height:0}),this.transform={},this.options={format:"png",output:"blob",autoCrop:!0,maintainAspectRatio:!0,aspectRatio:1,resetCropOnAspectRatioChange:!0,resizeToWidth:0,resizeToHeight:0,cropperMinWidth:0,cropperMinHeight:0,cropperMaxHeight:0,cropperMaxWidth:0,cropperStaticWidth:0,cropperStaticHeight:0,canvasRotation:0,roundCropper:!1,onlyScaleDown:!1,imageQuality:92,backgroundColor:void 0,containWithinAspectRatio:!1,hideResizeSquares:!1,alignImage:"center",cropperFrameAriaLabel:void 0,checkImageType:!0},this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=3}setOptionsFromChanges(r){r.options?.currentValue&&this.setOptions(r.options.currentValue);let e=Object.entries(r).filter(([t])=>t in this.options).reduce((t,[n,i])=>Cn(Yt({},t),{[n]:i.currentValue}),{});Object.keys(e).length>0&&this.setOptions(e)}setOptions(r){if(this.options=Yt(Yt({},this.options),r||{}),this.validateOptions(),!this.loadedImage?.transformed.image.complete||!this.maxSize)return;let e=!1;this.options.maintainAspectRatio&&r.aspectRatio||"maintainAspectRatio"in r?(this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.options.maintainAspectRatio&&(this.options.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(this.cropper.set(this.maxSizeCropperPosition()),e=!0)):((r.cropperMinWidth||r.cropperMinHeight)&&(this.setCropperScaledMinSize(),e=!0),(r.cropperMaxWidth||r.cropperMaxHeight)&&(this.setCropperScaledMaxSize(),e=!0),(r.cropperStaticWidth||r.cropperStaticHeight)&&(e=!0)),e&&this.cropper.update(t=>bc(t,this,!1))}validateOptions(){if(this.options.maintainAspectRatio&&!this.options.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}setMaxSize(r,e){this.maxSize.set({width:r,height:e}),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}setCropperScaledMinSize(){this.loadedImage?.transformed.size?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.cropperScaledMinWidth=this.options.cropperMinWidth>0?Math.max(20,this.options.cropperMinWidth/this.loadedImage.transformed.size.width*this.maxSize().width):20}setCropperScaledMinHeight(){this.options.maintainAspectRatio?this.cropperScaledMinHeight=Math.max(20,this.cropperScaledMinWidth/this.options.aspectRatio):this.options.cropperMinHeight>0?this.cropperScaledMinHeight=Math.max(20,this.options.cropperMinHeight/this.loadedImage.transformed.size.height*this.maxSize().height):this.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed.size){let r=this.loadedImage.transformed.size.width/this.maxSize().width;this.cropperScaledMaxWidth=this.options.cropperMaxWidth>20?this.options.cropperMaxWidth/r:this.maxSize().width,this.cropperScaledMaxHeight=this.options.cropperMaxHeight>20?this.options.cropperMaxHeight/r:this.maxSize().height,this.options.maintainAspectRatio&&(this.cropperScaledMaxWidth>this.cropperScaledMaxHeight*this.options.aspectRatio?this.cropperScaledMaxWidth=this.cropperScaledMaxHeight*this.options.aspectRatio:this.cropperScaledMaxWidth<this.cropperScaledMaxHeight*this.options.aspectRatio&&(this.cropperScaledMaxHeight=this.cropperScaledMaxWidth/this.options.aspectRatio))}else this.cropperScaledMaxWidth=this.maxSize().width,this.cropperScaledMaxHeight=this.maxSize().height}equalsCropperPosition(r){let e=this.cropper();return e==null&&r==null||e!=null&&r!=null&&e.x1.toFixed(3)===r.x1.toFixed(3)&&e.y1.toFixed(3)===r.y1.toFixed(3)&&e.x2.toFixed(3)===r.x2.toFixed(3)&&e.y2.toFixed(3)===r.y2.toFixed(3)}equalsTransformTranslate(r){return(this.transform.translateH??0)===(r.translateH??0)&&(this.transform.translateV??0)===(r.translateV??0)}equalsTransform(r){return this.equalsTransformTranslate(r)&&(this.transform.scale??1)===(r.scale??1)&&(this.transform.rotate??0)===(r.rotate??0)&&(this.transform.flipH??!1)===(r.flipH??!1)&&(this.transform.flipV??!1)===(r.flipV??!1)}aspectRatioIsCorrect(){let r=this.cropper();return(r.x2-r.x1)/(r.y2-r.y1)===this.options.aspectRatio}resizeCropperPosition(r){(r.width!==this.maxSize().width||r.height!==this.maxSize().height)&&this.cropper.update(e=>({x1:e.x1*this.maxSize().width/r.width,x2:e.x2*this.maxSize().width/r.width,y1:e.y1*this.maxSize().height/r.height,y2:e.y2*this.maxSize().height/r.height}))}maxSizeCropperPosition(){return{x1:0,y1:0,x2:this.maxSize().width,y2:this.maxSize().height}}toCropInput(){return{cropper:this.cropper(),maxSize:this.maxSize(),transform:this.transform,loadedImage:this.loadedImage,options:Yt({},this.options)}}},Ii=function(o){return o.Drag="drag",o.Move="move",o.Resize="resize",o.Pinch="pinch",o}(Ii||{});function pE(o,r,e){let t=o.width,n=o.height;r=Math.round(r),e=Math.round(e);let i=t/r,s=n/e,c=Math.ceil(i/2),u=Math.ceil(s/2),d=o.getContext("2d");if(d){let h=d.getImageData(0,0,t,n),v=d.createImageData(r,e),m=h.data,_=v.data;for(let w=0;w<e;w++)for(let x=0;x<r;x++){let E=(x+w*r)*4,F=w*s,U=0,R=0,W=0,de=0,Ae=0,Te=0,pe=0,K=Math.floor(x*i),he=Math.floor(w*s),B=Math.ceil((x+1)*i),L=Math.ceil((w+1)*s);B=Math.min(B,t),L=Math.min(L,n);for(let z=he;z<L;z++){let j=Math.abs(F-z)/u,oe=x*i,D=j*j;for(let be=K;be<B;be++){let we=Math.abs(oe-be)/c,Re=Math.sqrt(D+we*we);if(Re>=1)continue;U=2*Re*Re*Re-3*Re*Re+1;let at=4*(be+z*t);pe+=U*m[at+3],W+=U,m[at+3]<255&&(U=U*m[at+3]/250),de+=U*m[at],Ae+=U*m[at+1],Te+=U*m[at+2],R+=U}}_[E]=de/R,_[E+1]=Ae/R,_[E+2]=Te/R,_[E+3]=pe/W}o.width=r,o.height=e,d.putImageData(v,0,0)}}function Y1(o,r){return o/100*r}var Ih=class{crop(r,e){let t=this.getImagePosition(r),n=t.x2-t.x1,i=t.y2-t.y1,s=document.createElement("canvas");s.width=n,s.height=i;let c=s.getContext("2d");if(!c)return null;r.options?.backgroundColor!=null&&(c.fillStyle=r.options.backgroundColor,c.fillRect(0,0,n,i));let u=(r.transform?.scale||1)*(r.transform?.flipH?-1:1),d=(r.transform?.scale||1)*(r.transform?.flipV?-1:1),{translateH:h,translateV:v}=this.getCanvasTranslate(r),m=r.loadedImage.transformed;c.setTransform(u,0,0,d,m.size.width/2+h,m.size.height/2+v),c.translate(-t.x1/u,-t.y1/d),c.rotate((r.transform?.rotate||0)*Math.PI/180),c.drawImage(m.image,-m.size.width/2,-m.size.height/2);let _={width:n,height:i,imagePosition:t,cropperPosition:Yt({},r.cropper)};r.options?.containWithinAspectRatio&&(_.offsetImagePosition=this.getOffsetImagePosition(r));let w=this.getResizeRatio(n,i,r.options);return w!==1&&(_.width=Math.round(n*w),_.height=r.options?.maintainAspectRatio?Math.round(_.width/(r.options?.aspectRatio??1)):Math.round(i*w),pE(s,_.width,_.height)),e==="blob"?this.cropToBlob(_,s,r):(_.base64=s.toDataURL("image/"+(r.options?.format??"png"),this.getQuality(r.options)),_)}cropToBlob(r,e,t){return dr(this,null,function*(){return r.blob=yield new Promise(n=>e.toBlob(n,"image/"+(t.options?.format??"png"),this.getQuality(t.options))),r.blob&&(r.objectUrl=URL.createObjectURL(r.blob)),r})}getCanvasTranslate(r){if(r.transform?.translateUnit==="px"){let e=this.getRatio(r);return{translateH:(r.transform?.translateH||0)*e,translateV:(r.transform?.translateV||0)*e}}else return{translateH:r.transform?.translateH?Y1(r.transform.translateH,r.loadedImage.transformed.size.width):0,translateV:r.transform?.translateV?Y1(r.transform.translateV,r.loadedImage.transformed.size.height):0}}getRatio(r){return r.loadedImage.transformed.size.width/r.maxSize.width}getImagePosition(r){let e=this.getRatio(r),t={x1:Math.round(r.cropper.x1*e),y1:Math.round(r.cropper.y1*e),x2:Math.round(r.cropper.x2*e),y2:Math.round(r.cropper.y2*e)};return r.options?.containWithinAspectRatio||(t.x1=Math.max(t.x1,0),t.y1=Math.max(t.y1,0),t.x2=Math.min(t.x2,r.loadedImage.transformed.size.width),t.y2=Math.min(t.y2,r.loadedImage.transformed.size.height)),t}getOffsetImagePosition(r){let e=(r.options?.canvasRotation??0)+r.loadedImage.exifTransform.rotate,t=this.getRatio(r),n,i;e%2?(n=(r.loadedImage.transformed.size.width-r.loadedImage.original.size.height)/2,i=(r.loadedImage.transformed.size.height-r.loadedImage.original.size.width)/2):(n=(r.loadedImage.transformed.size.width-r.loadedImage.original.size.width)/2,i=(r.loadedImage.transformed.size.height-r.loadedImage.original.size.height)/2);let s=r.cropper,c={x1:Math.round(s.x1*t)-n,y1:Math.round(s.y1*t)-i,x2:Math.round(s.x2*t)-n,y2:Math.round(s.y2*t)-i};return r.options?.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,r.loadedImage.transformed.size.width),c.y2=Math.min(c.y2,r.loadedImage.transformed.size.height)),c}getResizeRatio(r,e,t){let n=new Array;t?.resizeToWidth&&t.resizeToWidth>0&&n.push(t.resizeToWidth/r),t?.resizeToHeight&&t.resizeToHeight>0&&n.push(t.resizeToHeight/e);let i=n.length===0?1:Math.min(...n);return i>1&&!t?.onlyScaleDown?i:Math.min(i,1)}getQuality(r){return Math.min(1,Math.max(0,(r?.imageQuality??92)/100))}},hE=[new Uint8Array([255,216,255,225,0,34,69,120,105,102,0,0,77,77,0,42,0,0,0,8,0,1,1,18,0,3,0,0,0,1,0,6,0,0,0,0,0,0,255,219,0,132,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,255,192,0,17,8,0,1,0,2,3,1,17,0,2,17,1,3,17,1,255,196,0,74,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,16,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,218,0,12,3,1,0,2,17,3,17,0,63,0,63,240,127,255,217])],gE=URL.createObjectURL(new Blob(hE,{type:"image/jpeg"}));function vE(){return new Promise(o=>{let r=new Image;r.onload=()=>{let e=r.width===1&&r.height===2;o(e)},r.src=gE})}function mE(o){switch(typeof o=="object"&&(o=yE(o)),o){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function yE(o){let r=new DataView(o);if(r.getUint16(0,!1)!==65496)return-2;let e=r.byteLength,t=2;for(;t<e;){if(r.getUint16(t+2,!1)<=8)return-1;let n=r.getUint16(t,!1);if(t+=2,n==65505){if(r.getUint32(t+=2,!1)!==1165519206)return-1;let i=r.getUint16(t+=6,!1)==18761;t+=r.getUint32(t+4,i);let s=r.getUint16(t,i);t+=2;for(let c=0;c<s;c++)if(r.getUint16(t+c*12,i)==274)return r.getUint16(t+c*12+8,i)}else{if((n&65280)!==65280)break;t+=r.getUint16(t,!1)}}return-1}var Lh=class{constructor(){this.autoRotateSupported=vE()}loadImageFile(r,e){return dr(this,null,function*(){let t=yield r.arrayBuffer();return e.checkImageType?yield this.checkImageTypeAndLoadImageFromArrayBuffer(t,r.type,e):yield this.loadImageFromArrayBuffer(t,e)})}checkImageTypeAndLoadImageFromArrayBuffer(r,e,t){return this.isValidImageType(e)?this.loadImageFromArrayBuffer(r,t,e):Promise.reject(new Error("Invalid image type"))}isValidImageType(r){return/image\/(png|jpg|jpeg|heic|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(r)}loadImageFromURL(r,e){return dr(this,null,function*(){let n=yield(yield fetch(r)).blob(),i=yield n.arrayBuffer();return yield this.loadImageFromArrayBuffer(i,e,n.type)})}loadBase64Image(r,e){let t=this.base64ToArrayBuffer(r);return this.loadImageFromArrayBuffer(t,e)}base64ToArrayBuffer(r){r=r.replace(/^data:([^;]+);base64,/gmi,"");let e=atob(r),t=e.length,n=new Uint8Array(t);for(let i=0;i<t;i++)n[i]=e.charCodeAt(i);return n.buffer}loadImageFromArrayBuffer(r,e,t){return dr(this,null,function*(){let n=yield new Promise((i,s)=>dr(this,null,function*(){try{let c=new Blob([r],t?{type:t}:void 0),u=URL.createObjectURL(c),d=new Image,v=t==="image/svg+xml"?yield this.getSvgImageSize(c):void 0;d.onload=()=>i({originalImage:d,originalImageSize:v,originalObjectUrl:u,originalArrayBuffer:r}),d.onerror=s,d.src=u}catch(c){s(c)}}));return yield this.transformImageFromArrayBuffer(n,e,n.originalImageSize!=null)})}getSvgImageSize(r){return dr(this,null,function*(){let n=new DOMParser().parseFromString(yield r.text(),"image/svg+xml").querySelector("svg");if(!n)throw Error("Failed to parse SVG image");let i=n.getAttribute("width"),s=n.getAttribute("height");if(i&&s)return null;let c=n.getAttribute("viewBox")||n.getAttribute("viewbox");if(c){let u=c.split(" ");return{width:+u[2],height:+u[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(r,e,t=!1){return dr(this,null,function*(){let n=yield this.autoRotateSupported,i=mE(n?-1:r.originalArrayBuffer);if(!r.originalImage||!r.originalImage.complete)return Promise.reject(new Error("No image loaded"));let s={original:{objectUrl:r.originalObjectUrl,image:r.originalImage,size:r.originalImageSize??{width:r.originalImage.naturalWidth,height:r.originalImage.naturalHeight}},exifTransform:i};return this.transformLoadedImage(s,e,t)})}transformLoadedImage(r,e,t=!1){return dr(this,null,function*(){let n=(e.canvasRotation??0)+r.exifTransform.rotate,i=r.original.size;if(!t&&n===0&&!r.exifTransform.flip&&!e.containWithinAspectRatio)return{original:{objectUrl:r.original.objectUrl,image:r.original.image,size:Yt({},i)},transformed:{objectUrl:r.original.objectUrl,image:r.original.image,size:Yt({},i)},exifTransform:r.exifTransform};let s=this.getTransformedSize(i,r.exifTransform,e),c=document.createElement("canvas");c.width=s.width,c.height=s.height;let u=c.getContext("2d");u?.setTransform(r.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),u?.rotate(Math.PI*(n/2)),u?.drawImage(r.original.image,-i.width/2,-i.height/2);let d=yield new Promise(m=>c.toBlob(m,"image/"+(e.format??"png")));if(!d)throw new Error("Failed to get Blob for transformed image.");let h=URL.createObjectURL(d),v=yield this.loadImageFromObjectUrl(h);return{original:{objectUrl:r.original.objectUrl,image:r.original.image,size:Yt({},i)},transformed:{objectUrl:h,image:v,size:{width:v.width,height:v.height}},exifTransform:r.exifTransform}})}loadImageFromObjectUrl(r){return new Promise((e,t)=>{let n=new Image;n.onload=()=>e(n),n.onerror=t,n.src=r})}getTransformedSize(r,e,t){let n=(t.canvasRotation??0)+e.rotate;if(t.containWithinAspectRatio)if(n%2){let i=r.width*(t.aspectRatio??1),s=r.height/(t.aspectRatio??1);return{width:Math.max(r.height,i),height:Math.max(r.width,s)}}else{let i=r.height*(t.aspectRatio??1),s=r.width/(t.aspectRatio??1);return{width:Math.max(r.width,i),height:Math.max(r.height,s)}}return n%2?{height:r.width,width:r.height}:{width:r.width,height:r.height}}};function _E(o){switch(o){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function bE(o){switch(o){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function wE(o,r){switch(o){case"ArrowUp":return{clientX:0,clientY:r*-1};case"ArrowRight":return{clientX:r,clientY:0};case"ArrowDown":return{clientX:0,clientY:r};case"ArrowLeft":default:return{clientX:r*-1,clientY:0}}}var Z1=(()=>{class o{get alignImageStyle(){return this.state.options.alignImage}constructor(e){this.sanitizer=e,this.pinchStart$=new Wt,this.cropService=new Ih,this.loadImageService=new Lh,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.moveTypes=Ii,this.state=new Ph,this.safeImgDataUrl=fo(void 0),this.safeTransformStyle=fo(void 0),this.marginLeft="0px",this.imageVisible=!1,this.allowMoveImage=!1,this.checkImageType=!0,this.disabled=!1,this.hidden=!1,this.imageCropped=ta(),this.startCropImage=ta(),this.imageLoaded=ta(),this.cropperReady=ta(),this.loadImageFailed=ta(),this.transformChange=ta(),this.cropperChange=ta(),this.reset()}ngOnInit(){this.state.stepSize=this.initialStepSize||this.state.stepSize}ngOnChanges(e){let t=this.state.cropper(),n=this.state.transform,i=this.state.options.backgroundColor;if(this.state.setOptionsFromChanges(e),this.onChangesInputImage(e),e.transform&&this.transform&&(this.state.transform=this.transform,this.setCssTransform()),!this.state.loadedImage?.transformed.image.complete||!this.state.maxSize)return;if(this.containWithinAspectRatio&&e.aspectRatio||e.containWithinAspectRatio||e.canvasRotation){this.loadImageService.transformLoadedImage(this.state.loadedImage,this.state.options).then(c=>this.setLoadedImage(c)).catch(c=>this.loadImageError(c));return}e.cropper&&this.cropper&&this.state.cropper.set(bc(this.cropper,this.state,!0));let s=!this.state.equalsCropperPosition(t);s&&(!this.cropper||!this.state.equalsCropperPosition(this.cropper))&&this.cropperChange.emit(this.state.cropper()),(s||!this.state.equalsTransform(n)||this.state.options.backgroundColor!==i)&&this.doAutoCrop(),e.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let e=this.imageChangedEvent?.target?.files;return e instanceof FileList&&e.length>0}reset(){this.state.loadedImage=void 0,this.state.maxSize.set({width:0,height:0}),this.imageVisible=!1}loadImageFile(e){this.loadImageService.loadImageFile(e,this.state.options).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.state.options).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.state.options).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}setLoadedImage(e){this.state.loadedImage=e,this.safeImgDataUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.objectUrl))}loadImageError(e){console.error(e),this.loadImageFailed.emit()}setCssTransform(){let e=this.state.transform?.translateUnit||"%";this.safeTransformStyle.set(this.sanitizer.bypassSecurityTrustStyle(`translate(${this.state.transform.translateH||0}${e}, ${this.state.transform.translateV||0}${e}) scaleX(`+(this.state.transform.scale||1)*(this.state.transform.flipH?-1:1)+") scaleY("+(this.state.transform.scale||1)*(this.state.transform.flipV?-1:1)+") rotate("+(this.state.transform.rotate||0)+"deg)"))}imageLoadedInView(){this.state.loadedImage!=null&&(this.imageLoaded.emit(this.state.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.cropper&&(!this.maintainAspectRatio||this.state.aspectRatioIsCorrect())?(this.state.cropper.set(bc(this.cropper,this.state,!0)),this.emitCropperPositionChange(this.cropper)):(this.state.cropper.set(bc(this.state.maxSizeCropperPosition(),this.state,!0)),this.cropperChange.emit(this.state.cropper())),this.imageVisible=!0,this.cropperReady.emit(this.state.maxSize()),this.doAutoCrop()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>1}onResize(){if(this.state.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let e=this.state.maxSize();this.setMaxSize(),this.state.resizeCropperPosition(e)}}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){let t=+e.key;t>=1&&t<=9&&(this.state.stepSize=t)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;let n=e.shiftKey?Ii.Resize:Ii.Move,i=e.altKey?bE(e.key):_E(e.key),s=wE(e.key,this.state.stepSize);e.preventDefault(),e.stopPropagation(),this.moveStart={type:n,position:i,clientX:0,clientY:0,transform:this.state.transform,cropper:this.state.cropper()},this.handleMouseMove(s),this.handleMouseUp()}startMove(e,t,n=null){this.disabled||this.moveStart&&this.moveStart.type===Ii.Pinch||t===Ii.Drag&&!this.allowMoveImage||("preventDefault"in e&&e.preventDefault(),this.moveStart={type:t,position:n,clientX:Ud(e),clientY:Wd(e),transform:this.state.transform,cropper:this.state.cropper()},this.initMouseMove())}initMouseMove(){ro(Ta(document,"mousemove"),Ta(document,"touchmove")).pipe(ea(ro(Ta(document,"mouseup"),Ta(document,"touchend"),this.pinchStart$).pipe(Rv()))).subscribe({next:e=>this.handleMouseMove(e),complete:()=>this.handleMouseUp()})}handleMouseMove(e){if(this.moveStart){if("stopPropagation"in e&&e.stopPropagation(),"preventDefault"in e&&e.preventDefault(),this.moveStart.type===Ii.Move)this.state.cropper.set(zd(dE(e,this.moveStart),this.state,!0));else if(this.moveStart.type===Ii.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.state.cropper.set(zd(G1(e,this.moveStart,this.state),this.state,!1));else if(this.moveStart.type===Ii.Drag){let t=Ud(e)-this.moveStart.clientX,n=Wd(e)-this.moveStart.clientY;this.state.transform=Cn(Yt({},this.state.transform),{translateH:(this.moveStart.transform?.translateH||0)+t,translateV:(this.moveStart.transform?.translateV||0)+n}),this.setCssTransform()}}}handleMouseUp(){!this.moveStart||this.moveStart.type===Ii.Pinch||((!this.state.equalsCropperPosition(this.moveStart.cropper)||this.moveStart.transform&&!this.state.equalsTransform(this.moveStart.transform))&&(this.moveStart.type===Ii.Drag?this.transformChange.emit(this.state.transform):this.cropperChange.emit(this.state.cropper()),this.doAutoCrop()),this.moveStart=void 0)}startPinch(e){if(this.disabled||!this.sourceImageLoaded()||e.touches.length<2)return;"preventDefault"in e&&e.preventDefault();let t=this.state.cropper();this.moveStart={type:Ii.Pinch,position:"center",clientX:t.x1+(t.x2-t.x1)/2,clientY:t.y1+(t.y2-t.y1)/2,cropper:t},this.initPinch()}initPinch(){this.pinchStart$.next(),Ta(document,"touchmove").pipe(ea(Ta(document,"touchend"))).subscribe({next:e=>this.handlePinchMove(e),complete:()=>this.handlePinchStop()})}handlePinchMove(e){this.moveStart&&(e.preventDefault&&e.preventDefault(),this.moveStart.type===Ii.Pinch&&!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.state.cropper.set(zd(G1(e,this.moveStart,this.state),this.state,!1)))}handlePinchStop(){this.moveStart&&(this.state.equalsCropperPosition(this.moveStart.cropper)||(this.emitCropperPositionChange(this.moveStart.cropper),this.doAutoCrop()),this.moveStart=void 0)}setMaxSize(){if(this.sourceImage){let e=getComputedStyle(this.sourceImage.nativeElement);this.state.setMaxSize(parseFloat(e.width),parseFloat(e.height)),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.state.maxSize().width/2+"px)")}}emitCropperPositionChange(e){this.state.equalsCropperPosition(e)||this.cropperChange.emit(this.state.cropper())}doAutoCrop(){this.state.options.autoCrop&&this.crop()}crop(e=this.state.options.output){if(this.state.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),e==="blob")return this.cropToBlob();if(e==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((e,t)=>dr(this,null,function*(){let n=yield this.cropService.crop(this.state.toCropInput(),"blob");n?(this.imageCropped.emit(n),e(n)):t("Crop image failed")}))}cropToBase64(){let e=this.cropService.crop(this.state.toCropInput(),"base64");return e?(this.imageCropped.emit(e),e):null}resetCropperPosition(){this.state.cropper.set(bc(this.state.maxSizeCropperPosition(),this.state,!0)),this.cropperChange.emit(this.state.cropper())}ngOnDestroy(){this.pinchStart$.complete()}static{this.\u0275fac=function(t){return new(t||o)(Gt(yu))}}static{this.\u0275cmp=Lt({type:o,selectors:[["image-cropper"]],viewQuery:function(t,n){if(t&1&&(Dn(oE,7),Dn(aE,5)),t&2){let i;un(i=dn())&&(n.wrapper=i.first),un(i=dn())&&(n.sourceImage=i.first)}},hostVars:6,hostBindings:function(t,n){t&1&&qe("resize",function(){return n.onResize()},!1,zv),t&2&&(po("text-align",n.alignImageStyle),jr("disabled",n.disabled)("ngx-ic-hidden",n.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",options:"options",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",autoCrop:"autoCrop",cropper:"cropper",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",checkImageType:"checkImageType",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange",cropperChange:"cropperChange"},features:[Hn],decls:4,vars:10,consts:[["sourceImage",""],[3,"touchstart"],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,n){t&1&&(te(0,"div",1),qe("touchstart",function(s){return n.startPinch(s)}),et(1,sE,2,8,"img",2),pt(2,"div",3),et(3,cE,3,16,"div",4),ae()),t&2&&(po("background",n.imageVisible&&n.state.options.backgroundColor),X(),ie("ngIf",n.safeImgDataUrl()),X(),po("width",n.state.maxSize().width||0,"px")("height",n.state.maxSize().height||0,"px")("margin-left",n.state.options.alignImage==="center"?n.marginLeft:null),X(),ie("ngIf",n.imageVisible))},dependencies:[fn],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{display:inline;max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:var(--cropper-color, #53535C);background:transparent;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:var(--cropper-border, 1px solid rgba(255, 255, 255, .5))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:hover   .ngx-ic-move[_ngcontent-%COMP%]{border:var(--cropper-hover-border, var(--cropper-border, 1px solid rgba(255, 255, 255, .5)))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border:var(--cropper-focus-border, 2px solid dodgerblue)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{background:var(--cropper-resize-square-focus-bg, var(--cropper-resize-square-bg, #53535C));border:var(--cropper-resize-square-focus-border, var(--cropper-resize-square-border, 1px solid rgba(255, 255, 255, .5)))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;box-sizing:content-box;background:var(--cropper-resize-square-bg, #53535C);border:var(--cropper-resize-square-border, 1px solid rgba(255, 255, 255, .5))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]:hover   .ngx-ic-square[_ngcontent-%COMP%]{background:var(--cropper-resize-square-hover-bg, var(--cropper-resize-square-bg, #53535C));border:var(--cropper-resize-square-hover-border, var(--cropper-resize-square-border, 1px solid rgba(255, 255, 255, .5)))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ic-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0})}}return o})();function CE(o,r){if(o&1&&pt(0,"img",8),o&2){let e=ne(2);ie("src",e.croppedImage,pr)}}function xE(o,r){if(o&1){let e=Ct();te(0,"div")(1,"image-cropper",6),qe("imageCropped",function(n){Ne(e);let i=ne();return He(i.imageCropped(n))}),ae(),et(2,CE,1,1,"img",7),ae()}if(o&2){let e=ne();X(),ie("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1/1),X(),ie("ngIf",e.croppedImage)}}function AE(o,r){if(o&1&&pt(0,"img",8),o&2){let e=ne(2);ie("src",e.croppedImage,pr)}}function SE(o,r){if(o&1){let e=Ct();te(0,"div")(1,"image-cropper",9),qe("imageCropped",function(n){Ne(e);let i=ne();return He(i.imageCropped(n))}),ae(),et(2,AE,1,1,"img",7),ae()}if(o&2){let e=ne();X(),ie("imageBase64",e.imageBase64)("maintainAspectRatio",!0)("aspectRatio",1/1),X(),ie("ngIf",e.croppedImage)}}function EE(o,r){if(o&1){let e=Ct();te(0,"button",10),qe("click",function(){Ne(e);let n=ne();return He(n.cancelCroppedImage())}),$e(1,"cancel"),ae()}}function TE(o,r){if(o&1){let e=Ct();te(0,"button",11),qe("click",function(){Ne(e);let n=ne();return He(n.uploadCroppedImage())}),$e(1,"Upload Cropped Image"),ae()}}var Qs=class o{constructor(r,e,t){this.sanitizer=r;this.dialogRef=e;this.data=t;t.type=="binary"?(this.type=t.type,this.imageBase64=t.files):(this.data=t.files,this.originalFileName=this.data[0].name,this.fileChangeEvent(t.event))}imageChangedEvent=null;croppedImage="";rawObjectUrl;croppedFile;originalFileName="";type="";imageBase64="";fileChangeEvent(r){this.imageChangedEvent=r}imageCropped(r){r.objectUrl&&(this.croppedImage=this.sanitizer.bypassSecurityTrustUrl(r.objectUrl),this.rawObjectUrl=r.objectUrl)}uploadCroppedImage(){return dr(this,null,function*(){let r=yield this.convertObjectUrlToFile(this.rawObjectUrl,this.originalFileName);if(this.type=="binary"){let e=this.convertFileToBase64(r);this.dialogRef.close({data:e})}else{let e=new DataTransfer;e.items.add(r);let t=e.files;this.dialogRef.close({data:t})}})}convertFileToBase64(r){return new Promise((e,t)=>{let n=new FileReader;n.onload=()=>e(n.result),n.onerror=i=>t(i),n.readAsDataURL(r)})}convertObjectUrlToFile(r,e){return dr(this,null,function*(){let n=yield(yield fetch(r)).blob();return new File([n],e,{type:n.type})})}cancelCroppedImage(){this.dialogRef.close({data:""})}static \u0275fac=function(e){return new(e||o)(Gt(yu),Gt(Eu),Gt(Tu))};static \u0275cmp=Lt({type:o,selectors:[["app-image-cropper"]],decls:7,vars:4,consts:[[1,"dialog-container"],[1,"dialog-body"],[4,"ngIf"],[1,"dialog-footer"],["class","rd-btn-lg rd-btn-secondary",3,"click",4,"ngIf"],["class","rd-btn-lg rd-btn-primary",3,"click",4,"ngIf"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio"],["class","cropped-image-preview","alt","Cropped Image Preview",3,"src",4,"ngIf"],["alt","Cropped Image Preview",1,"cropped-image-preview",3,"src"],["format","png",3,"imageCropped","imageBase64","maintainAspectRatio","aspectRatio"],[1,"rd-btn-lg","rd-btn-secondary",3,"click"],[1,"rd-btn-lg","rd-btn-primary",3,"click"]],template:function(e,t){e&1&&(te(0,"div",0)(1,"div",1),et(2,xE,3,4,"div",2)(3,SE,3,4,"div",2),ae(),te(4,"div",3),et(5,EE,2,0,"button",4)(6,TE,2,0,"button",5),ae()()),e&2&&(X(2),ie("ngIf",t.type!="binary"),X(),ie("ngIf",t.type=="binary"),X(2),ie("ngIf",t.croppedImage),X(),ie("ngIf",t.croppedImage))},dependencies:[Z1,$t,fn],styles:[".dialog-container[_ngcontent-%COMP%]{position:relative;width:560px;max-height:90vh;overflow-y:auto;padding:24px;background:#fff;border-radius:1px}.dialog-body[_ngcontent-%COMP%]{display:flex;margin-bottom:0!important;height:300px}.dialog-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;width:100%}.cropped-image-preview[_ngcontent-%COMP%]{width:150px;height:150px;margin:5px;border:2px solid var(--dominant-red-color)}.dialog-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#999;display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.dialog-body[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;margin-bottom:60px}.dialog-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;background:#fff;padding-top:10px;display:flex;justify-content:space-between;gap:10px;margin-top:20px}.btn-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}.filter-group[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;flex-direction:column}.filter-label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:5px;font-weight:500}.filter-select[_ngcontent-%COMP%], .filter-input[_ngcontent-%COMP%]{padding:8px;font-size:14px;border:1px solid #ccc;border-radius:4px}  .cdk-overlay-pane{width:650px!important}  .mat-mdc-dialog-surface{border-radius:0}"]})};var Yi=class{constructor(r,e={}){this.fb=r;this.value=e.value,this.control=e.control??"",this.label=e.label??"",this.required=!!e.required,this.order=e.order??1,this.controlType=e.controlType??"",this.type=e.type??"",this.options=e.options||[],this.validations=e.validations||[],this.class=e.class||{}}value;control;label;required;order;controlType;type;options;validations=[];class={};form;formConfig;validateForm(r){this.formConfig=r,this.validateControls(this.form)}validateControls(r){Object.keys(r.controls).forEach(e=>{let t=this.getControl(e,r);t instanceof Va?this.setControlError(e,r):t instanceof om&&t.controls.forEach(n=>{this.validateControls(n)})})}setControlError(r,e){let t=this.getControl(r,e);if(t.hasError("required"))t.setErrors(Cn(Yt({},t.errors),{invalid:`${this.getControlLabel(r)} is required`}));else if(t.hasError("minlength")||t.hasError("maxlength")){let n="";t.hasError("minlength")&&t.hasError("maxlength")?n=`${this.getControlLabel(r)} must be between ${t.getError("minlength")?.requiredLength} and ${t.getError("maxlength")?.requiredLength} characters.`:t.hasError("minlength")?n=`Minimum ${t.getError("minlength")?.requiredLength}  characters are allowed`:t.hasError("maxlength")&&(n=`Maximum ${t.getError("maxlength")?.requiredLength}  characters are allowed`),t.setErrors(Cn(Yt({},t.errors),{invalid:n}))}else t.hasError("pattern")&&t.setErrors(Cn(Yt({},t.errors),{invalid:`${this.getPatternError(r)}`}))}getControl(r,e){return e?e.get(r):this.form.get(r)}checkError(r,e,t){return t?t.get(r)?.hasError(e):this.form.get(r)?.hasError(e)}getControlLabel(r){let e=this.formConfig?Object.values(this.formConfig).find(t=>t.NAME==r):void 0;return e?e.LABEL:r}getPatternError(r){let e=this.formConfig?Object.values(this.formConfig).find(t=>t.NAME==r):void 0;return e?e.PATTERN:r}};function OE(o,r){if(o&1){let e=Ct();te(0,"ul",2),qe("click",function(){let n=Ne(e).$implicit,i=ne();return He(i.selectHeading(n))}),te(1,"li",3)(2,"p"),$e(3),ae(),pt(4,"div",4),ae()()}if(o&2){let e=r.$implicit;X(3),Kt(e.label),X(),ie("innerHTML",e.media,_s)}}var Yd=class o extends Yi{headingData;saveEvent=new Xe;headingList=[{label:"Heading",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Heading1.svg" width="100%" alt="heading" /></div>',content:{attributes:{class:"position-relative"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-lg-normal"},content:"Heading here"},{components:`<span class="rd-indicator rd-indicator-lg">
            <span class="rd-indicator-content "></span>
            </span>`}]}},{label:"Heading Small",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Heading1.svg" width="100%" alt="heading" /></div>',content:{tagName:"div",attributes:{class:"rd-heading rd-heading-sm"},components:[{tagName:"div",type:"text",draggable:!1,attributes:{class:"heading-small indicator"},content:"This is a sample heading"}]}},{label:"Heading & Sub Heading",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Headingandsubheading.svg" width="100%" alt="heading" /></div>',content:{attributes:{class:"position-relative"},components:[{tagName:"div",type:"text",draggable:!1,attributes:{class:"rd-heading rd-heading-md rd-heading-secondary"},content:"This is a sample sub heading"},{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-lg-normal"},content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
            <span class="rd-indicator-content "></span>
            </span>`}]}},{label:"Sub Heading",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Sub_heading.svg" width="100%" alt="heading" /></div>',category:"Headings",content:{attributes:{class:"position-relative"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-md"},content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
            <span class="rd-indicator-content rd-indicator-secondary"></span>
            </span>`}]}},{label:"Sub Heading bold",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Sub_heading.svg" width="100%" alt="heading" /></div>',category:"Headings",content:{attributes:{class:"position-relative"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-md-bold"},content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
            <span class="rd-indicator-content rd-indicator-secondary"></span>
            </span>`}]}},{label:"Medium",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Sub_heading2.svg" width="100%" alt="heading" /></div>',content:{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-md"},content:"Heading here"}},{label:"Medium bold",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Sub_heading2.svg" width="100%" alt="heading" /></div>',content:{type:"text",tagName:"div",attributes:{class:"rd-heading rd-heading-md-bold"},content:"Heading here"}},{label:"Small",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Sub_heading2.svg" width="100%" alt="heading" /></div>',content:{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-sm"},content:"Heading here"}},{label:"Small bold",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Sub_heading2.svg" width="100%" alt="heading" /></div>',content:{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-sm-bold"},content:"Heading here"}},{label:"X Small",media:'<div class="col-md-12"><img src="assets/images/builder/svg/Sub_heading2.svg" width="100%" alt="heading" /></div>',content:{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-xs"},content:"Heading here"}}];constructor(r){super(r)}selectHeading(r){this.saveEvent.emit(r)}getComponentHTML(r){}ngOnInit(){this.headingData&&this.form.patchValue(this.headingData)}static \u0275fac=function(e){return new(e||o)(Gt(li))};static \u0275cmp=Lt({type:o,selectors:[["app-heading-picker"]],inputs:{headingData:"headingData"},outputs:{saveEvent:"saveEvent"},features:[Oi],decls:2,vars:1,consts:[[1,"container","row","col-md-12"],["style","height:120px",3,"click",4,"ngFor","ngForOf"],[2,"height","120px",3,"click"],[1,"col-md-12"],[3,"innerHTML"]],template:function(e,t){e&1&&(te(0,"div",0),et(1,OE,5,2,"ul",1),ae()),e&2&&(X(),ie("ngForOf",t.headingList))},dependencies:[$t,Ar],encapsulation:2})};function DE(o,r){if(o&1){let e=Ct();te(0,"div",2),qe("click",function(){let n=Ne(e).$implicit,i=ne();return He(i.selectLayout(n))}),te(1,"div",3)(2,"p"),$e(3),ae(),pt(4,"div",4),ae()()}if(o&2){let e=r.$implicit;X(3),Kt(e.label),X(),ie("innerHTML",e.media,_s)}}var Zd=class o extends Yi{layoutData;saveEvent=new Xe;layoutList=[{label:"1 Column",media:'<i class="bg-column_1"></i>',content:{tagName:"div",attributes:{class:"container container-xl container-lg"},components:{tagName:"div",draggable:!1,attributes:{class:"row"},components:[{tagName:"div",draggable:!1,attributes:{class:"col-12"}}]}}},{label:"2 Columns",media:'<i class="bg-column_2"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",draggable:!1,attributes:{class:"col-md-6 col-12"}},{tagName:"div",draggable:!1,attributes:{class:"col-md-6 col-12"}}]}}},{label:"3 Columns",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-4"}},{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-4"}},{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-4"}}]}}},{label:"4 Columns",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:Array.from({length:4},()=>({tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-3"}}))}}},{label:"Auto",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:Array.from({length:5},()=>({tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-12 col-md-3 col-lg"}}))}}},{label:"1/4 Columns",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-3"}},{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-9"}}]}}},{label:"5/7 Columns",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-5"}},{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-7"}}]}}},{label:"1/3 Columns",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-4"}},{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-8"}}]}}},{label:"60*40 Columns",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-7"}},{tagName:"div",editable:!1,draggable:!1,attributes:{class:"col-md-5"}}]}}},{label:"40*60 Columns",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-md-5"}},{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-md-7"}}]}}},{label:"6 Columns",media:'<i class="bg-column_3"></i>',content:{tagName:"div",attributes:{class:"container"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-6 col-md-2"}},{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-6 col-md-2"}},{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-6 col-md-2"}},{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-6 col-md-2"}},{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-6 col-md-2"}},{tagName:"div",copyable:!1,editable:!1,draggable:!1,attributes:{class:"col-6 col-md-2"}}]}}}];constructor(r){super(r)}selectLayout(r){this.saveEvent.emit(r)}getComponentHTML(r){}ngOnInit(){this.layoutData&&this.form.patchValue(this.layoutData)}submit(){this.form.valid?this.saveEvent.emit(this.form.value):this.validateForm()}static \u0275fac=function(e){return new(e||o)(Gt(li))};static \u0275cmp=Lt({type:o,selectors:[["app-layout-picker"]],inputs:{layoutData:"layoutData"},outputs:{saveEvent:"saveEvent"},features:[Oi],decls:2,vars:1,consts:[[1,"container","row","col-md-12"],["class"," col-md-4","style","height:150px",3,"click",4,"ngFor","ngForOf"],[1,"col-md-4",2,"height","150px",3,"click"],[1,"col-md-12"],[3,"innerHTML"]],template:function(e,t){e&1&&(te(0,"div",0),et(1,DE,5,2,"div",1),ae()),e&2&&(X(),ie("ngForOf",t.layoutList))},dependencies:[$t,Ar],encapsulation:2})};function ME(o,r){if(o&1){let e=Ct();te(0,"div",2),qe("click",function(){let n=Ne(e).$implicit,i=ne();return He(i.selectCard(n))}),te(1,"p"),$e(2),ae(),te(3,"div",3),pt(4,"img",4),ae()()}if(o&2){let e=r.$implicit;X(2),Kt(e.label),X(2),ie("src",e.media,pr)}}var Kd=class o extends Yi{cardData;saveEvent=new Xe;cardList=[{label:"Contact Card",media:"/assets/images/builder/svg/feature-card.svg",content:{type:"div",attributes:{class:"people-contact-card"},components:[{type:"image",attributes:{class:"people-contact-card-image"}},{attributes:{class:"people-contact-card-content"},components:[{attributes:{class:"position-relative mb-4"},components:[{type:"text",attributes:{class:"rd-heading rd-heading-xs"},content:"Person name",selectable:!0,editable:!0,draggable:!1},{content:`<span class="rd-indicator rd-indicator-lg">
                  <span class="rd-indicator-content rd-indicator-primary"></span>
                  </span>`}]},{attributes:{class:"d-flex align-items-center"},components:[{type:"text",content:"Role name",selectable:!0,editable:!0}]}]}]}},{label:"metric card 1",media:"/assets/images/builder/svg/feature-card.svg",content:{tagName:"div",attributes:{class:" metric-feature-card-2 mteric-card-1"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"image-100"}},{tagName:"p",type:"text",draggable:!1,attributes:{class:"metric-description1"},content:"Sample text"}]}},{label:"contact",media:"/assets/images/builder/svg/feature-card.svg",content:{tagName:"div",attributes:{class:" contact-people-card"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"image-100"}}]}},{label:"metric card Image",media:"/assets/images/builder/svg/feature-card.svg",content:{tagName:"div",attributes:{class:" metric-feature-card-2 mteric-card-1"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"image-100"}},{tagName:"img",type:"image",draggable:!1,attributes:{class:"image-100"}}]}},{label:"Feature Card 2",media:"/assets/images/builder/svg/image-with-desc.svg",content:{tagName:"div",attributes:{class:"cards "},components:{tagName:"div",attributes:{class:" feature-card-2"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"feature-icon"}},{tagName:"p",type:"text",draggable:!1,attributes:{class:"feature-description-2"},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]}}},{label:"Feature Card 3",media:"/assets/images/builder/svg/desc-with-image.svg",content:{tagName:"div",attributes:{class:"cards "},components:{tagName:"div",attributes:{class:"feature-card-2"},components:[{tagName:"p",type:"text",draggable:!1,attributes:{class:"feature-description-2"},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{tagName:"img",type:"image",draggable:!1,attributes:{class:"feature-icon"}}]}}},{label:"Icon Text Card",media:"/assets/images/builder/svg/icon-with-label.svg",content:{tagName:"div",attributes:{class:"cards card-drop-shadow p-3 "},components:[{type:"Icon",draggable:!1},{type:"text",attributes:{class:"pt-3"},content:"Group Life Risk Benefits"}]}},{label:"metrics card",media:"/assets/images/builder/svg/icon-with-label.svg",content:{tagName:"div",attributes:{class:"pt-3 pb-3 "},components:[{type:"text",attributes:{class:"p-2 metric-bg text-with-blocks"},content:"KPA"},{type:"text",attributes:{class:"p-2 text-with-blocks"},content:"KPA"}]}},{label:"Centered Square Card",media:"/assets/images/builder/svg/icon-with-desc.svg",content:{tagName:"div",attributes:{class:"cards col-md-12 row justify-content-center align-items-center square-box p-4"},components:[{tagName:"div",draggable:!1,attributes:{class:" card card-square padding-square shadow-sm margin-right"},components:[{tagName:"div",draggable:!1,attributes:{class:"card-body  text-center"},activate:!0,components:[{type:"Icon",draggable:!1,attributes:{class:"sm-card-icon text-center m-auto mb-3 "}},{tagName:"p",type:"text",draggable:!1,attributes:{class:"description m-auto mt-2"},content:"Sample text"}]}]}]}},{label:"Perks card",media:"/assets/images/builder/svg/icon-with-desc.svg",content:{tagName:"div",attributes:{class:"perks-card"},components:[{tagName:"div",attributes:{class:"perks-card__icon"},components:{type:"Icon",draggable:!1,attributes:{class:"rd-icon rd-icon-lg"}}},{tagName:"div",type:"text",draggable:!1,attributes:{class:"perks-card__content"},content:"Sample text"}]}},{label:"Enquiry Card",media:"/assets/images/builder/svg/enquiry-card.svg",content:{tagName:"div",attributes:{class:"cards enquiry-card",id:"enquiry-card-1"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"enquiry-card-image"}},{tagName:"div",draggable:!1,attributes:{class:"enquiry-card-body"},components:[{attributes:{class:"position-relative"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-lg-normal rd-text-white mb-4"},content:"Heading here"},{components:`<span class="rd-indicator rd-indicator-lg">
                    <span class="rd-indicator-content rd-indicator-primary"></span>
                    </span>`}]},{tagName:"div",attributes:{class:" enquiry-card__action"},components:[{type:"Link",attributes:{class:"rd-btn rd-btn-text","data-btn-type":"rd-btn-text","data-type-id":"rd-link-button"},components:[{type:"text",tagName:"span",attributes:{class:"btn-text"},content:"Learn more"},{type:"Icon"}]}]}]}]}},{label:"Link cards",media:"/assets/images/builder/svg/investor-information-card.svg",content:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",attributes:{class:"col-lg-3 col-12"},components:[{tagName:"div",attributes:{class:"position-relative"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-lg-normal"},content:"Heading here"},{components:`<span class="rd-indicator rd-indicator-lg">
                    <span class="rd-indicator-content rd-indicator-primary"></span>
                  </span>`}]}]},{tagName:"div",attributes:{class:"col-lg-9 col-12  link-card-group"},components:{attributes:{class:"link-card"},components:[{type:"link",attributes:{class:"link-card__link"}},{tagName:"div",attributes:{class:"link-card__title-wrapper"},components:[{tagName:"div",type:"text",editable:!0,attributes:{class:"rd-heading rd-heading-sm rd-text-white link-card__title"},content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
                          <span class="rd-indicator-content rd-border__white"></span>
                        </span>`}]},{attributes:{class:"link-card__action"},tagName:"div",type:"text",editable:!0,content:"View"}]}}]}},{label:"video Link card ",media:"/assets/images/builder/svg/investor-information-card.svg",content:{tagName:"div",attributes:{class:"row justify-content-end"},components:[{tagName:"div",attributes:{class:"col-lg-12 col-12  link-card-group"},components:{attributes:{class:"link-card"},components:[{type:"link",attributes:{class:"link-card__link"}},{tagName:"div",attributes:{class:"link-card__title-wrapper"},components:[{tagName:"div",type:"text",editable:!0,attributes:{class:"rd-heading rd-heading-sm rd-text-white link-card__title"},content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
                          <span class="rd-indicator-content rd-border__white"></span>
                        </span>`}]},{attributes:{class:"link-card__action"},tagName:"div",type:"text",editable:!0,content:"View"}]}}]}},{label:"About us card",media:"/assets/images/builder/svg/about-us-card.svg",content:{tagName:"div",attributes:{class:"rd-about-us-card"},components:[{attributes:{class:"rd-about-us-card__header"},components:[{attributes:{class:"rd-about-us-card__image"},components:[{type:"image"}]}]},{attributes:{class:"rd-about-us-card__body"},components:[{attributes:{class:"position-relative"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-md"},content:"Heading here"},{tagName:"span",attributes:{class:"rd-indicator rd-indicator-lg z-1"},components:[{tagName:"span",attributes:{class:"rd-indicator-content rd-indicator-primary"}}]}]},{type:"text",attributes:{class:"rd-text-grey-mid rd-about-us-card_overflow"},content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}]},{attributes:{class:"rd-about-us-card__action"},components:[{type:"Link",attributes:{class:"rd-btn rd-btn-text","data-btn-type":"rd-btn-text","data-type-id":"rd-link-button"},components:[{tagName:"span",attributes:{class:"btn-text"},content:"Learn more"},{type:"Icon"}]}]}]}},{label:"Our values",media:"/assets/images/builder/svg/our-values.svg",content:{tagName:"div",attributes:{class:"row"},components:[{attributes:{class:"col-md-2 d-flex justify-content-left justify-content-md-center"},components:{type:"Icon"}},{type:"text",attributes:{class:"col-md-10 rd-text-grey-mid"},content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}]}},{label:"Strategy card",media:"/assets/images/builder/svg/strategy-card.svg",content:{tagName:"div",attributes:{class:"strategy-card"},components:[{tagName:"div",type:"text",attributes:{class:"strategy-card__icon rd-heading rd-heading-sm-bold"},content:"OE"},{tagName:"div",type:"text",attributes:{class:"strategy-card__content rd-heading rd-heading-sm"},content:"Operate efficiently"}]}},{label:"Our goal",media:"/assets/images/builder/svg/our-goal-card.svg",content:{tagName:"div",attributes:{class:"our-goal-card"},components:[{type:"Icon"},{type:"text",attributes:{class:"our-goal-card__badge"},content:"Tenants"},{type:"text",attributes:{class:"our-goal-card__label rd-heading rd-heading-md-bold"},content:"Our Goal"},{type:"text",attributes:{class:"our-goal-card__desc"},content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry."}]}},{label:"Go to",media:"/assets/images/builder/svg/inline-card-with-link.svg",content:{attributes:{class:"go-to-card"},components:[{attributes:{class:"go-to-card__content"},components:{type:"text",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry."}},{attributes:{class:"go-to-card__action "},components:{type:"Link"}}]}},{label:"4 Image Columns",media:"/assets/images/builder/svg/home_page_4columns.svg",content:{tagName:"div",attributes:{class:"container-fluid"},components:{tagName:"div",attributes:{class:"row"},components:[{tagName:"div",copyable:!1,editable:!0,draggable:!1,attributes:{class:"col-sm-12 col-md-6 col-lg-3 d-flex align-items-center home-card-4-columns"},components:{type:"text",attributes:{class:"rd-text-dark home-propcard-text "},content:"Learn more about our property offerings"}},{tagName:"div",editable:!0,draggable:!1,attributes:{class:"col-4 col-md-6 col-lg-3 pd-no position-relative home-property"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"home-property-img"}},{attributes:{class:"home-prop-text"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-lg-normal"},content:"Heading here"},{components:`<span class="rd-indicator rd-indicator-lg">
            <span class="rd-indicator-content "></span>
            </span>`}]},{attributes:{class:"new-text rd-text-white"},components:[{type:"Link",attributes:{class:"rd-btn rd-btn-text rd-text-white","data-btn-type":"rd-btn-text","data-type-id":"rd-link-button"},components:[{tagName:"span",attributes:{class:"btn-text"},content:"Learn more"},{type:"Icon"}]}]}]},{tagName:"div",editable:!0,draggable:!1,attributes:{class:"col-4 col-md-6 col-lg-3 pd-no position-relative home-property"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"home-property-img"}},{attributes:{class:"home-prop-text"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-lg-normal"},content:"Heading here"},{components:`<span class="rd-indicator rd-indicator-lg">
            <span class="rd-indicator-content "></span>
            </span>`}]},{attributes:{class:"new-text rd-text-white"},components:[{type:"Link",attributes:{class:"rd-btn rd-btn-text rd-text-white","data-btn-type":"rd-btn-text","data-type-id":"rd-link-button"},components:[{tagName:"span",attributes:{class:"btn-text"},content:"Learn more"},{type:"Icon"}]}]}]},{tagName:"div",editable:!0,draggable:!1,attributes:{class:"col-4 col-md-6 col-lg-3 pd-no position-relative home-property"},components:[{tagName:"img",type:"image",draggable:!1,attributes:{class:"home-property-img"}},{attributes:{class:"home-prop-text"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-lg-normal"},content:"Heading here"},{components:`<span class="rd-indicator rd-indicator-lg">
            <span class="rd-indicator-content "></span>
            </span>`}]},{attributes:{class:"new-text rd-text-white"},components:[{type:"Link",attributes:{class:"rd-btn rd-btn-text rd-text-white","data-btn-type":"rd-btn-text","data-type-id":"rd-link-button"},components:[{tagName:"span",attributes:{class:"btn-text"},content:"Learn more"},{type:"Icon"}]}]}]}]}}},{id:"rd-contact-card",label:"Contact card",media:"/assets/images/builder/svg/contact-card.svg",content:{tagName:"div",attributes:{class:"contact-card"},components:[{tagName:"div",attributes:{class:"contact-card__header"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-xs"},content:"Heading here"},{tagName:"span",attributes:{class:"rd-indicator rd-indicator-lg"},components:{tagName:"span",attributes:{class:"rd-indicator-content"}}}]},{tagName:"div",type:"text",attributes:{class:"contact-card__body rd-text-grey-mid"},content:"4th floor, 155 West Street, Sandown, Sandton Johannesburg, South Africa, 2196 PostNet Suite 264, Saxonwold, 2132 "},{tagName:"div",attributes:{class:"contact-card__footer"},components:[{tagName:"div",attributes:{class:"contact-card__footer-actions"},components:[{type:"link",attributes:{class:"contact-card__footer-action"},components:[{tagName:"span",content:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"></path></svg>'},{tagName:"span",type:"text",content:"012 345 6789"}]},{type:"link",attributes:{class:"contact-card__footer-action"},components:[{tagName:"span",content:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM203.43,64,128,133.15,52.57,64ZM216,192H40V74.19l82.59,75.71a8,8,0,0,0,10.82,0L216,74.19V192Z"></path></svg>'},{tagName:"span",type:"text",content:"name@email.co.za"}]}]},{tagName:"div",attributes:{class:"overlay"}}]}]}},{label:"Image Square Card",media:"/assets/images/builder/svg/our-goal-card.svg",content:{tagName:"div",attributes:{class:"image-square-card-wrapper "},components:[{tagName:"div",attributes:{class:"image-square-card"},components:[{type:"image",attributes:{class:"image-square-card__icon",alt:"Image Square Icon"}},{tagName:"div",type:"text",attributes:{class:"image-square-card__label rd-heading rd-heading-md-bold"},content:"Our Goal"},{type:"text",attributes:{class:"image-square-card__desc"},content:"Primary"}]}]}},{label:"Social strategy card",media:"/assets/images/builder/svg/about-us-card.svg",content:{tagName:"div",attributes:{class:"rd-social-strategy-card-wrapper "},components:[{tagName:"div",attributes:{class:"rd-social-strategy-card "},components:[{attributes:{class:"rd-social-strategy-card__header"},components:[{attributes:{class:".rd-social-strategy-card__image"},components:[{type:"image"}]}]},{attributes:{class:"rd-social-strategy-card__body"},components:[{attributes:{class:"position-relative rd-social-strategy-innerheading"},components:[{tagName:"div",type:"text",attributes:{class:"rd-heading rd-heading-md"},content:"Heading here"},{content:`<span class="rd-indicator rd-indicator-lg">
                    <span class="rd-indicator-content rd-indicator-secondary"></span>
                    </span>`}]},{type:"text",attributes:{class:"rd-text-grey-mid rd-sociostartegy-card_overflow"},content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}]},{attributes:{class:"rd-social-strategy-card__action"},components:[{type:"Link",attributes:{class:"rd-btn rd-btn-text","data-btn-type":"rd-btn-text","data-type-id":"rd-link-button"},components:[{tagName:"span",attributes:{class:"btn-text"},content:"Learn more"},{type:"Icon"}]}]}]}]}},{label:"Accordian",editable:!0,attributes:{class:"open"},content:{components:[{editable:!0,tagName:"details",attributes:{open},components:[{tagName:"summary",attributes:{class:"d-flex action-click"},script:function(){this.addEventListener("click",r=>{r.preventDefault();let e=this.closest("details");e&&(e.hasAttribute("open")?e.removeAttribute("open"):e.setAttribute("open",""))})},components:[{type:"image",attributes:{class:"col-md-2"},style:{width:"100px",height:"100px","object-fit":"contain"}},{type:"text",attributes:{class:"col-md-12"},content:"Primary"}]},{tagName:"div",attributes:{class:"faq__content"},components:[{tagName:"p",type:"text",content:"Answer"}]}]},{editable:!0,tagName:"details",attributes:{},components:[{tagName:"summary",attributes:{class:"d-flex action-click"},script:function(){this.addEventListener("click",r=>{r.preventDefault();let e=this.closest("details");e&&(e.hasAttribute("open")?e.removeAttribute("open"):e.setAttribute("open",""))})},components:[{type:"image",attributes:{class:"col-md-2"},style:{width:"100px",height:"100px","object-fit":"contain"}},{type:"text",attributes:{class:"col-md-12"},content:"Primary"}]},{tagName:"div",attributes:{class:"faq__content"},components:[{tagName:"p",type:"text",content:"Answer"}]}]},{editable:!0,tagName:"details",attributes:{},components:[{tagName:"summary",attributes:{class:"d-flex action-click"},script:function(){this.addEventListener("click",r=>{r.preventDefault();let e=this.closest("details");e&&(e.hasAttribute("open")?e.removeAttribute("open"):e.setAttribute("open",""))})},components:[{type:"image",attributes:{class:"col-md-2"},style:{width:"100px",height:"100px","object-fit":"contain"}},{type:"text",attributes:{class:"col-md-12"},content:"Primary"}]},{tagName:"div",attributes:{class:"faq__content"},components:[{tagName:"p",type:"text",content:"Answer"}]}]},{editable:!0,tagName:"details",attributes:{},components:[{tagName:"summary",attributes:{class:"d-flex action-click"},script:function(){this.addEventListener("click",r=>{r.preventDefault();let e=this.closest("details");e&&(e.hasAttribute("open")?e.removeAttribute("open"):e.setAttribute("open",""))})},components:[{type:"image",attributes:{class:"col-md-2"},style:{width:"100px",height:"100px","object-fit":"contain"}},{type:"text",attributes:{class:"col-md-12"},content:"Primary"}]},{tagName:"div",attributes:{class:"faq__content"},components:[{tagName:"p",type:"text",content:"Answer"}]}]}]}},{id:"rd-brandsLogo-card",label:"Brand logos",media:"/assets/images/builder/brand-logo-block.svg",content:{tagName:"div",attributes:{class:"brandsLogo-card"},components:[{tagName:"div",attributes:{class:"d-flex flex-wrap"},components:[{tagName:"div",attributes:{class:"card"},components:[{tagName:"div",attributes:{class:"image-block"},components:[{tagName:"img",type:"image",draggable:!0,attributes:{class:"card-img-top"}}]},{tagName:"div",attributes:{class:"card-body"},components:[{tagName:"p",type:"text",attributes:{class:"card-text"},content:"Some quick example text to build on the card title and make up the bulk of the card's content."}]}]}]}]}}];constructor(r){super(r)}selectCard(r){this.saveEvent.emit(r)}getComponentHTML(r){}ngOnInit(){this.cardData&&this.form.patchValue(this.cardData)}submit(){this.form.valid?this.saveEvent.emit(this.form.value):this.validateForm()}static \u0275fac=function(e){return new(e||o)(Gt(li))};static \u0275cmp=Lt({type:o,selectors:[["app-card-picker"]],inputs:{cardData:"cardData"},outputs:{saveEvent:"saveEvent"},features:[Oi],decls:2,vars:1,consts:[[1,"container","row"],["class","col-md-4",3,"click",4,"ngFor","ngForOf"],[1,"col-md-4",3,"click"],[1,"preview-card"],["alt","component preview",1,"svg-icon",3,"src"]],template:function(e,t){e&1&&(te(0,"div",0),et(1,ME,5,2,"div",1),ae()),e&2&&(X(),ie("ngForOf",t.cardList))},dependencies:[$t,Ar],styles:[".preview-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;max-width:100%;height:100px;max-height:200px;padding:10px 20px;margin-bottom:20px;transition:box-shadow .3s ease-in-out;box-shadow:#0000001a 0 1px 3px,#0000000f 0 1px 2px}.preview-card[_ngcontent-%COMP%]:hover{box-shadow:#0000000d 0 0 0 1px,#d1d5db 0 0 0 1px inset}.preview-card[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}"]})};function kE(o,r){if(o&1){let e=Ct();te(0,"div",2),qe("click",function(){let n=Ne(e).$implicit,i=ne();return He(i.selectBanner(n))}),te(1,"p"),$e(2),ae(),te(3,"div",3),pt(4,"img",4),ae()()}if(o&2){let e=r.$implicit;X(2),Kt(e.name),X(2),ie("src",e.svg,pr)}}var qd=class o extends Yi{banners=[{name:"rd-title-banner",type:"rd-title-banner",label:"Page title",svg:"/assets/images/builder/svg/page-title-banner.svg",content:{tagName:"div",attributes:{class:"banner"},droppable:!1,components:[{tagName:"img",type:"image",copyable:!1,draggable:!1,droppable:!1,stylable:!1,attributes:{class:"banner-img object-fit-cover"}},{id:ql.BANNER_TITLE,tagName:"p",type:"text",copyable:!1,editable:!0,draggable:!1,droppable:!1,stylable:["color"],attributes:{class:"banner-title"},content:"This is sample title"}]}},{name:"rd-contact-banner",type:"rd-contact-banner",label:"Contact",svg:"/assets/images/builder/svg/contact-banner.svg",content:{tagName:"div",attributes:{"data-type-id":"rd-banner",class:"rd-banner__contact"},components:[{tagName:"p",type:"text",copyable:!1,editable:!0,draggable:!1,droppable:!1,attributes:{class:"banner-title"},content:"This is sample title"},{attributes:{class:"banner-content"},components:[{tagName:"p",type:"text",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit"},{tagName:"div",attributes:{class:"flex-wrap d-flex gap-4 rd-align-item-center-banner"},components:[{tagName:"div",attributes:{class:"rd-inline-block d-flex rd-align-item-center-banner gap-1"},components:[{type:"Icon"},{type:"text",content:"Sample text here"}]}]}]}]}},{name:"rd-banner__about-us",type:"rd-banner__about-us",label:"About us",svg:"/assets/images/builder/svg/about_us-banner.svg",content:{tagName:"div",attributes:{"data-type-id":"rd-banner",class:"rd-banner__about-us"},components:[{type:"image",attributes:{class:"rd-banner__about-us__image"}},{attributes:{class:"rd-banner__about-us__content"},components:[{attributes:{class:"position-relative"},components:[{tagName:"h1",type:"text",attributes:{class:"rd-heading rd-heading-lg-normal"},content:"Heading here"},{components:`<span class="rd-indicator rd-indicator-lg">
                    <span class="rd-indicator-content rd-indicator-primary"></span>
                    </span>`}]},{type:"text",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{attributes:{class:"rd-banner__about-us__cta"},components:[{type:"Link",attributes:{class:"rd-btn rd-btn-dark rd-btn-xl"}},{type:"Link",attributes:{class:"rd-btn rd-btn-outline-light rd-btn-xl"}}]}]}]}},{name:"rd-graph-banner",type:"rd-graph-banner",label:"Page title",svg:"/assets/images/builder/svg/page-title-banner.svg",content:{tagName:"div",attributes:{class:"rd-graph-banner"},droppable:!1,components:[{tagName:"img",type:"image",copyable:!1,draggable:!1,droppable:!1,stylable:!1,attributes:{class:"banner-img object-fit-cover"}},{tagName:"p",type:"text",copyable:!1,editable:!0,draggable:!1,droppable:!1,attributes:{class:"banner-title"},content:"Let the numbers do the talking"},{tagName:"div",editable:!0,draggable:!1,droppable:!1,copyable:!1,attributes:{class:"banner-content row"},components:[{tagName:"div",attributes:{class:"col-sm-12 col-lg-4 col-md-6 rd-graph-content"},editable:!0,draggable:!1,droppable:!1,copyable:!0,components:{tagName:"div",components:[{tagName:"p",type:"text",attributes:{class:"rd-graph-content-head"},content:"South African Properties"},{tagName:"h2",type:"text",attributes:{class:"rd-graph-number-font"},content:"224"},{tagName:"div",attributes:{class:"rd-hr-line2"}},{tagName:"p",type:"text",attributes:{class:"pt-2 rd-graph-txt-desc"},content:"Total across all sectors"}]}},{tagName:"div",attributes:{class:" col-lg-4 col-md-6 col-sm-12 rd-graph-content"},editable:!0,draggable:!1,droppable:!1,copyable:!0,components:{tagName:"div",components:{tagName:"div",components:[{tagName:"p",type:"text",attributes:{class:"rd-graph-content-head"},content:"Tenant Grade"},{tagName:"h2",type:"text",attributes:{class:"rd-graph-number-font"},content:"100"},{tagName:"div",attributes:{class:"rd-hr-line2"}},{tagName:"p",type:"text",attributes:{class:"pt-2 rd-graph-txt-desc"},content:"Percentage (%)"}]}}},{tagName:"div",attributes:{class:" col-lg-4 col-md-6 col-sm-12 rd-graph-content"},editable:!0,draggable:!1,droppable:!1,copyable:!0,components:{tagName:"div",components:[{tagName:"p",type:"text",attributes:{class:"rd-graph-content-head"},content:"South African Asset Portfolio"},{tagName:"h2",type:"text",attributes:{class:"rd-graph-number-font"},content:"R58.4"},{tagName:"div",attributes:{class:"rd-hr-line2"}},{tagName:"p",type:"text",attributes:{class:"pt-2 rd-graph-txt-desc"},content:"Billion"}]}},{tagName:"div",attributes:{class:" col-lg-4 col-md-6 col-sm-12 rd-graph-content"},editable:!0,draggable:!1,droppable:!1,copyable:!0,components:{tagName:"div",components:[{tagName:"p",type:"text",attributes:{class:"rd-graph-content-head"},content:"Occupancy Rate"},{tagName:"h2",type:"text",attributes:{class:"rd-graph-number-font"},content:"100"},{tagName:"div",attributes:{class:"rd-hr-line2"}},{tagName:"p",type:"text",attributes:{class:"pt-2 rd-graph-txt-desc"},content:"Percentage (%)"}]}},{tagName:"div",attributes:{class:" col-lg-4 col-md-6 col-sm-12 rd-graph-content"},editable:!0,draggable:!1,droppable:!1,copyable:!0,components:{tagName:"div",components:[{tagName:"p",type:"text",attributes:{class:"rd-graph-content-head"},content:"Green Star Rating"},{tagName:"h2",type:"text",attributes:{class:"rd-graph-number-font"},content:"72"},{tagName:"div",attributes:{class:"rd-hr-line2"}},{tagName:"p",type:"text",attributes:{class:"pt-2 rd-graph-txt-desc"},content:"Certified Buildings"}]}},{tagName:"div",attributes:{class:"col-lg-4 col-md-6 col-sm-12 rd-graph-content"},editable:!0,draggable:!1,droppable:!1,copyable:!0,components:{tagName:"div",components:[{tagName:"p",type:"text",attributes:{class:"rd-graph-content-head"},content:"Net Zero Buildings"},{tagName:"h2",type:"text",attributes:{class:"rd-graph-number-font"},content:"3"},{tagName:"div",attributes:{class:"rd-hr-line2"}},{tagName:"p",type:"text",attributes:{class:"pt-2 rd-graph-txt-desc"},content:"Certified Buildings"}]}}]}]}},{name:"rd-title-banner-link",type:"rd-title-banner-link",label:"Page title",svg:"/assets/images/builder/svg/page-title-banner.svg",content:{tagName:"a",type:"link",attributes:{class:"banner-link-image"},droppable:!1,components:[{tagName:"div",attributes:{class:"banner-image"},droppable:!1,components:[{tagName:"img",type:"image",copyable:!1,draggable:!1,droppable:!1,stylable:!1,attributes:{class:"banner-link-image-main"}}]}]}}];bannerData;saveEvent=new Xe;constructor(r){super(r)}getComponentHTML(r){}ngOnInit(){this.bannerData&&this.form.patchValue(this.bannerData)}selectBanner(r){this.saveEvent.emit(r)}submit(){this.form.valid?this.saveEvent.emit(this.form.value):this.validateForm()}static \u0275fac=function(e){return new(e||o)(Gt(li))};static \u0275cmp=Lt({type:o,selectors:[["app-banner-picker"]],inputs:{bannerData:"bannerData"},outputs:{saveEvent:"saveEvent"},features:[Oi],decls:2,vars:1,consts:[[1,"container","row","d-flex","flex-wrap"],["class","col-md-4 ",3,"click",4,"ngFor","ngForOf"],[1,"col-md-4",3,"click"],[1,"preview-card"],["alt","component preview",1,"svg-icon",3,"src"]],template:function(e,t){e&1&&(te(0,"div",0),et(1,kE,5,2,"div",1),ae()),e&2&&(X(),ie("ngForOf",t.banners))},dependencies:[$t,Ar],styles:[".svg-icon[_ngcontent-%COMP%]{width:100%}"]})};var PE=["password"],IE=o=>["email-input icon-input",o],LE=o=>["password-input",o],VE=o=>["password-input forgot-password-input",o];function RE(o,r){o&1&&(te(0,"span",11),$e(1,"*"),ae())}function FE(o,r){if(o&1&&(te(0,"small",12),$e(1),ae()),o&2){let e=ne(3);X(),Kt(e.smallTextInfo)}}function NE(o,r){if(o&1&&(te(0,"label",8),$e(1),et(2,RE,2,0,"span",9)(3,FE,2,1,"small",10),ae()),o&2){let e=ne(2);ie("for",e.id),X(),qt("",e.label," "),X(),ie("ngIf",e.required),X(),ie("ngIf",e.smallTextInfo)}}function HE(o,r){if(o&1&&(te(0,"div",13),pt(1,"input",14),ae()),o&2){let e,t=ne(2);X(),An(t.class),ie("autofocus",t.autofocus)("readonly",t.disable)("formControlName",t.controlName)("type",t.type)("name",t.name)("id",t.id)("placeholder",t.placeholder)("ngClass",!((e=t.form.get(t.controlName))==null||e.errors==null)&&e.errors.invalid?"invalid":"")}}function BE(o,r){if(o&1&&(te(0,"div",13),pt(1,"input",14),ae()),o&2){let e,t=ne(2);X(),An(t.class),ie("autofocus",t.autofocus)("readonly",t.disable)("formControlName",t.controlName)("type",t.type)("name",t.id)("id",t.id)("placeholder",t.placeholder)("ngClass",!((e=t.form.get(t.controlName))==null||e.errors==null)&&e.errors.invalid?"invalid":"")}}function jE(o,r){if(o&1&&(te(0,"div",13),pt(1,"input",15),ae()),o&2){let e,t=ne(2);X(),An(t.class),ie("autofocus",t.autofocus)("readonly",t.disable)("formControlName",t.controlName)("type","text")("id",t.id)("placeholder",t.placeholder)("ngClass",!((e=t.form.get(t.controlName))==null||e.errors==null)&&e.errors.invalid?"invalid":"")}}function zE(o,r){if(o&1&&(te(0,"div",16),_r(1),pt(2,"input",17)(3,"img",18),br(),ae()),o&2){let e=ne(2);X(2),ie("autofocus",e.autofocus)("formControlName",e.controlName)("type",e.type)("id",e.id)("placeholder",e.placeholder)("ngClass",Cr(7,IE,e.class)),X(),xn("data-type",e.type)}}function UE(o,r){o&1&&pt(0,"img",25)}function WE(o,r){o&1&&pt(0,"img",26)}function GE(o,r){if(o&1){let e=Ct();_r(0),te(1,"input",20,0),qe("keyup",function(n){Ne(e);let i=ne(3);return He(i.onKeyUp(n))})("focus",function(n){Ne(e);let i=ne(3);return He(i.onFocus(n))}),ae(),te(3,"div",21)(4,"button",22),qe("click",function(){Ne(e);let n=ne(3);return He(n.showPassword())}),et(5,UE,1,0,"img",23)(6,WE,1,0,"img",24),ae()(),br()}if(o&2){let e=ne(3);X(),ie("ngClass",Cr(11,LE,e.class))("autofocus",e.autofocus)("formControlName",e.controlName)("type",e.type)("name",e.id)("id",e.id)("placeholder",e.placeholder),X(3),ie("disabled",e.disabled),xn("id","btn-show-password-"+e.id),X(),ie("ngIf",e.visible),X(),ie("ngIf",!e.visible)}}function YE(o,r){if(o&1){let e=Ct();te(0,"button",29),qe("click",function(){Ne(e);let n=ne(4);return He(n.forgotPassword())}),$e(1," Forgot password ? "),ae()}}function ZE(o,r){o&1&&pt(0,"img",25)}function KE(o,r){o&1&&pt(0,"img",26)}function qE(o,r){if(o&1){let e=Ct();_r(0),te(1,"input",20,0),qe("keyup",function(n){Ne(e);let i=ne(3);return He(i.onKeyUp(n))})("focus",function(n){Ne(e);let i=ne(3);return He(i.onFocus(n))}),ae(),pt(3,"img",27),te(4,"div",21),et(5,YE,2,0,"button",28),te(6,"button",22),qe("click",function(){Ne(e);let n=ne(3);return He(n.showPassword())}),et(7,ZE,1,0,"img",23)(8,KE,1,0,"img",24),ae()(),br()}if(o&2){let e=ne(3);X(),ie("ngClass",Cr(14,VE,e.class))("autofocus",e.autofocus)("formControlName",e.controlName)("type",e.type)("name",e.id)("id",e.id)("placeholder",e.placeholder),xn("data-type",e.type),X(2),xn("data-type",e.type),X(2),ie("ngIf",e.forgot),X(),ie("disabled",e.disabled),xn("id","btn-show-password-"+e.id),X(),ie("ngIf",e.visible),X(),ie("ngIf",!e.visible)}}function $E(o,r){if(o&1&&(te(0,"div",13),et(1,GE,7,13,"ng-container",19)(2,qE,9,16,"ng-container",19),ae()),o&2){let e=ne(2);X(),ie("ngIf",!e.forgot),X(),ie("ngIf",e.forgot)}}function QE(o,r){if(o&1){let e=Ct();te(0,"div",13),_r(1),pt(2,"input",30),te(3,"div",21)(4,"button",31),qe("click",function(){Ne(e);let n=ne(2);return He(n.onClick())}),pt(5,"img",32),ae()(),br(),ae()}if(o&2){let e,t=ne(2);X(2),ie("autofocus",t.autofocus)("formControlName",t.controlName)("type","text")("name",t.id)("id",t.id)("placeholder",t.placeholder)("ngClass",!((e=t.form.get(t.controlName))==null||e.errors==null)&&e.errors.invalid?"invalid":""),X(2),xn("id","input-with-btn-"+t.id),X(),ie("src",t.iconUrl,pr)}}function XE(o,r){if(o&1&&(te(0,"div",2)(1,"div",3)(2,"div",4),et(3,NE,4,4,"label",5)(4,HE,2,10,"div",6)(5,BE,2,10,"div",6)(6,jE,2,9,"div",6)(7,zE,4,9,"div",7)(8,$E,3,2,"div",6)(9,QE,6,9,"div",6),ae()()()),o&2){let e=ne();X(),ie("formGroup",e.form),X(),ie("ngSwitch",e.type),X(),ie("ngIf",e.label),X(),ie("ngSwitchCase","text"),X(),ie("ngSwitchCase","number"),X(),ie("ngSwitchCase","tel"),X(),ie("ngSwitchCase","email"),X(),ie("ngSwitchCase","password"),X(),ie("ngSwitchCase","TextWithButton")}}var Xs=class o{config;label;id;required=!1;form;placeholder;type;controlName;visible=!0;disabled=!0;name;class;value="";readonly;smallTextInfo;icon=!1;forgot=!1;iconUrl;disable=!1;autofocus=!1;forgotPasswordEvent=new Xe;onClickEvent=new Xe;onChange=new Xe;passwordInput;constructor(){}ngOnChanges(r){this.disable=r.disable?.currentValue}ngOnInit(){let r=this.form?.get(this.controlName);r&&r.valueChanges.subscribe(e=>{this.onChange.emit({form:this.form,control:this.controlName,value:e})})}onKeyUp(r){this.passwordInput.nativeElement.value!=""?this.disabled=!1:(this.visible=!0,this.disabled=!0)}onFocus(r){this.passwordInput.nativeElement.select(),this.passwordInput.nativeElement.value!==""?this.disabled=!1:(this.visible=!0,this.disabled=!0)}showPassword(){this.visible=!this.visible,this.visible?this.passwordInput.nativeElement.type="password":this.passwordInput.nativeElement.type="text"}forgotPassword(){this.forgotPasswordEvent.emit()}onClick(){this.onClickEvent.emit({controlName:this.controlName,value:this.form.get(this.controlName)?.value})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=Lt({type:o,selectors:[["rd-input"]],viewQuery:function(e,t){if(e&1&&Dn(PE,5),e&2){let n;un(n=dn())&&(t.passwordInput=n.first)}},inputs:{config:"config",label:"label",id:"id",required:"required",form:"form",placeholder:"placeholder",type:"type",controlName:"controlName",name:"name",class:"class",value:"value",readonly:"readonly",smallTextInfo:"smallTextInfo",icon:"icon",forgot:"forgot",iconUrl:"iconUrl",disable:"disable",autofocus:"autofocus"},outputs:{forgotPasswordEvent:"forgotPasswordEvent",onClickEvent:"onClickEvent",onChange:"onChange"},features:[ii([{provide:_u,useExisting:Da(()=>o),multi:!0}]),Hn],decls:1,vars:1,consts:[["password",""],["class","control-container",4,"ngIf"],[1,"control-container"],[1,"form",3,"formGroup"],[3,"ngSwitch"],[3,"for",4,"ngIf"],["class","input-wrapper",4,"ngSwitchCase"],["class","input-wrapper email-container",4,"ngSwitchCase"],[3,"for"],["class","required-asterik",4,"ngIf"],["class","sm-text-info",4,"ngIf"],[1,"required-asterik"],[1,"sm-text-info"],[1,"input-wrapper"],[3,"autofocus","readonly","formControlName","type","name","id","placeholder","ngClass"],[3,"autofocus","readonly","formControlName","type","id","placeholder","ngClass"],[1,"input-wrapper","email-container"],[3,"autofocus","formControlName","type","id","placeholder","ngClass"],["src","assets/images/mail.svg","alt","Mail"],[4,"ngIf"],[3,"keyup","focus","ngClass","autofocus","formControlName","type","name","id","placeholder"],[1,"input-btn-group"],["type","button",1,"btn-password-visibility",3,"click","disabled"],["src","assets/images/eye.svg","alt","eye",4,"ngIf"],["src","assets/images/eye-off.svg","alt","eye",4,"ngIf"],["src","assets/images/eye.svg","alt","eye"],["src","assets/images/eye-off.svg","alt","eye"],["src","assets/images/lock.svg","alt","Forget password"],["id","btn-forgot-password","type","button","class","rd-btn-text rd-btn-md btn-forgot-password",3,"click",4,"ngIf"],["id","btn-forgot-password","type","button",1,"rd-btn-text","rd-btn-md","btn-forgot-password",3,"click"],[1,"icon-input",3,"autofocus","formControlName","type","name","id","placeholder","ngClass"],["type","button","title","Upload",1,"rd-btn-text",3,"click"],["alt","icon",3,"src"]],template:function(e,t){e&1&&et(0,XE,10,9,"div",1),e&2&&ie("ngIf",t.form)},dependencies:[$t,Hi,fn,Es,Ts,ci,oi,Sr,ai,zr,si,Ms],styles:["input.form-control[_ngcontent-%COMP%], .control-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:4px;color:var(--text-color);background-color:var(--input-bg-color);transition:all .3s ease-in;box-shadow:var(--input-box-shadow);padding:.8rem .5rem!important}input.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#58595b!important;box-shadow:var(--input-box-shadow)}.input-btn-group[_ngcontent-%COMP%]{position:absolute;right:0;padding:.4rem .5rem;display:flex;justify-content:space-evenly;width:auto;background-color:#f9fafb;background-color:transparent}"]})};var JE=o=>({active:o}),eT=o=>({"background-color":o});function tT(o,r){if(o&1&&(_r(0),te(1,"span",6),$e(2),ae(),te(3,"span",7),$e(4),ae(),br()),o&2){let e=ne();X(2),Kt(e.onLabel),X(2),Kt(e.offLabel)}}var Js=class o{label;onLabel="ON";offLabel="OFF";id;checked=!1;toggleChecked;isLabel=!1;disable=!1;onChange=new Xe;toggleSwitch(r){this.onChange.emit({label:this.label,checked:r.target.checked})}ngOnChanges(r){r.toggleChecked&&(this.checked=r.toggleChecked?.currentValue.checked)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=Lt({type:o,selectors:[["rd-switch"]],inputs:{label:"label",onLabel:"onLabel",offLabel:"offLabel",id:"id",checked:"checked",toggleChecked:"toggleChecked",isLabel:"isLabel",disable:"disable"},outputs:{onChange:"onChange"},features:[Hn],decls:6,vars:10,consts:[["switch",""],[1,"rd-switch"],[1,"switch",3,"ngClass","ngStyle"],["type","checkbox",3,"change","id","checked","disabled"],[4,"ngIf"],[1,"slider"],[1,"switch-label","switch-label_on"],[1,"switch-label","switch-label_off"]],template:function(e,t){if(e&1){let n=Ct();te(0,"div",1)(1,"label",2)(2,"input",3,0),qe("change",function(s){return Ne(n),He(t.toggleSwitch(s))}),ae(),et(4,tT,5,2,"ng-container",4),pt(5,"span",5),ae()()}if(e&2){let n=wr(3);X(),ie("ngClass",Cr(6,JE,t.checked||n&&(n==null?null:n.checked)))("ngStyle",Cr(8,eT,t.isLabel?"#000000":"#cccccc")),X(),ie("id",t.id)("checked",t.checked)("disabled",t.disable),X(2),ie("ngIf",t.isLabel)}},dependencies:[$t,Hi,fn,Zv],encapsulation:2})};function rT(o,r){if(o&1&&(te(0,"div")(1,"h6",21),$e(2),ae(),pt(3,"input",22),te(4,"label",23),pt(5,"div",24),Ss(6,"safeHtml"),ae()()),o&2){let e=r.$implicit;X(2),Kt(e.name),X(),ie("id",e.name)("value",e.value),X(),ie("for",e.name)("title",e.name),X(),ie("innerHTML",mu(6,6,e.svg,"html"),_s)}}function iT(o,r){if(o&1&&pt(0,"rd-input",25),o&2){let e=ne();ie("label","")("id","page-link-input")("placeholder","Please provide page link")("type","text")("controlName","link")("form",e.form)}}function oT(o,r){o&1&&na(0)}var $d=class o extends Yi{constructor(e,t,n,i){super(e);this.pageBuilderService=t;this.toaserSerive=n;this.commonService=i}file={};fileList=[];isFile=!1;sizes$=Ti([{name:"Small",value:"rd-btn-sm"},{name:"Medium",value:"rd-btn-md"},{name:"Large",value:"rd-btn-lg"},{name:"X Large",value:"rd-btn-xl"},{name:"XX Large",value:"rd-btn-xxl"}]);buttonTypes$=Ti([{name:"Primary",value:"rd-btn-dark",svg:`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="100%"
        height="49"
        fill="none"
        viewBox="0 0 526 49"
      >
        <rect width="526" height="49" fill="#000" rx="2" />
        <path
          fill="#fff"
          d="M206.227 31V19.547h3.711c1.406 0 2.322.057 2.75.172.656.172 1.205.547 1.648 1.125.443.573.664 1.315.664 2.226 0 .703-.128 1.295-.383 1.774a3.166 3.166 0 0 1-.976 1.133c-.391.27-.789.45-1.196.539-.552.109-1.351.164-2.398.164h-1.508V31h-2.312Zm2.312-9.516v3.25h1.266c.911 0 1.521-.06 1.828-.18a1.5 1.5 0 0 0 .719-.562c.177-.255.265-.552.265-.89 0-.417-.122-.76-.367-1.032a1.6 1.6 0 0 0-.93-.508c-.276-.052-.83-.078-1.664-.078h-1.117ZM218.984 31h-2.195v-8.297h2.039v1.18c.349-.557.662-.925.938-1.102a1.75 1.75 0 0 1 .953-.265c.5 0 .982.138 1.445.414l-.68 1.914c-.369-.24-.713-.36-1.031-.36-.307 0-.568.086-.781.258-.214.167-.383.471-.508.914-.12.443-.18 1.37-.18 2.782V31Zm4.133-9.422v-2.031h2.195v2.031h-2.195Zm0 9.422v-8.297h2.195V31h-2.195Zm4.289-8.297h2.024v1.133c.724-.88 1.586-1.32 2.586-1.32.531 0 .992.109 1.382.328.391.218.711.55.961.992.365-.443.758-.773 1.18-.992a2.893 2.893 0 0 1 1.352-.328c.609 0 1.125.125 1.547.375.421.244.736.606.945 1.086.151.354.226.927.226 1.718V31h-2.195v-4.742c0-.823-.075-1.354-.226-1.594-.204-.312-.516-.469-.938-.469-.307 0-.596.094-.867.282-.271.187-.466.463-.586.828-.12.36-.18.93-.18 1.71V31h-2.195v-4.547c0-.807-.039-1.328-.117-1.562a.99.99 0 0 0-.367-.524c-.162-.114-.383-.172-.665-.172-.338 0-.643.091-.914.274-.27.182-.466.445-.586.789-.114.344-.171.914-.171 1.71V31h-2.196v-8.297Zm16.039 2.531-1.992-.359c.224-.802.609-1.396 1.156-1.781.547-.386 1.36-.578 2.438-.578.979 0 1.708.117 2.187.351.48.23.815.524 1.008.883.198.354.297 1.008.297 1.96l-.023 2.563c0 .73.033 1.269.101 1.618.073.343.206.713.399 1.109h-2.172a7.667 7.667 0 0 1-.211-.648 4.918 4.918 0 0 0-.078-.258 3.96 3.96 0 0 1-1.203.82 3.45 3.45 0 0 1-1.368.273c-.854 0-1.528-.231-2.023-.695-.49-.463-.734-1.05-.734-1.758 0-.468.112-.885.335-1.25.224-.37.537-.65.938-.843.406-.198.99-.37 1.75-.516 1.026-.193 1.737-.372 2.133-.54v-.218c0-.422-.104-.721-.313-.898-.208-.183-.601-.274-1.179-.274-.391 0-.696.078-.914.235-.219.15-.396.419-.532.804Zm2.938 1.782c-.281.093-.727.205-1.336.336-.609.13-1.008.257-1.195.382-.287.203-.43.461-.43.774 0 .307.114.573.344.797.229.224.52.336.875.336.395 0 .773-.13 1.132-.391.266-.198.441-.44.524-.727.057-.187.086-.544.086-1.07v-.437ZM252.812 31h-2.195v-8.297h2.039v1.18c.349-.557.662-.925.938-1.102a1.75 1.75 0 0 1 .953-.265c.5 0 .982.138 1.445.414l-.68 1.914c-.369-.24-.713-.36-1.031-.36-.307 0-.567.086-.781.258-.214.167-.383.471-.508.914-.12.443-.18 1.37-.18 2.782V31Zm3.094-8.297h2.336l1.985 5.89 1.937-5.89h2.274l-2.93 7.985-.524 1.445c-.192.484-.377.854-.554 1.11-.172.254-.373.46-.602.616a2.524 2.524 0 0 1-.836.375c-.328.089-.7.133-1.117.133-.422 0-.836-.044-1.242-.133l-.195-1.718c.343.067.653.101.929.101.511 0 .888-.15 1.133-.453.245-.297.432-.677.562-1.14l-3.156-8.32ZM270.211 31V19.547h2.195v4.125c.677-.771 1.479-1.156 2.406-1.156 1.011 0 1.847.367 2.508 1.101.662.73.992 1.779.992 3.149 0 1.416-.338 2.507-1.015 3.273-.672.766-1.49 1.148-2.453 1.148-.474 0-.943-.117-1.406-.351a3.393 3.393 0 0 1-1.188-1.055V31h-2.039Zm2.18-4.328c0 .86.135 1.495.406 1.906.38.584.885.875 1.515.875.485 0 .896-.206 1.235-.617.344-.417.515-1.07.515-1.961 0-.948-.171-1.63-.515-2.047a1.628 1.628 0 0 0-1.32-.633c-.526 0-.964.206-1.313.617-.349.407-.523 1.026-.523 1.86ZM285.547 31v-1.242a3.194 3.194 0 0 1-1.195 1.047 3.319 3.319 0 0 1-1.555.383 3.049 3.049 0 0 1-1.5-.368 2.167 2.167 0 0 1-.961-1.03c-.198-.444-.297-1.056-.297-1.837v-5.25h2.195v3.813c0 1.166.039 1.882.118 2.148.083.26.231.469.445.625.213.151.484.227.812.227.375 0 .711-.102 1.008-.305.297-.208.5-.464.61-.766.109-.307.164-1.054.164-2.242v-3.5h2.195V31h-2.039Zm8.125-8.297v1.75h-1.5v3.344c0 .677.013 1.073.039 1.187.031.11.096.2.195.274.104.073.229.11.375.11.203 0 .498-.071.883-.212l.188 1.703c-.511.22-1.089.328-1.735.328-.396 0-.752-.065-1.07-.195-.318-.135-.552-.307-.703-.515-.146-.214-.248-.5-.305-.86-.047-.255-.07-.77-.07-1.547v-3.617h-1.008v-1.75h1.008v-1.648l2.203-1.282v2.93h1.5Zm5.328 0v1.75h-1.5v3.344c0 .677.013 1.073.039 1.187.031.11.096.2.195.274a.64.64 0 0 0 .375.11c.203 0 .498-.071.883-.212l.188 1.703c-.511.22-1.089.328-1.735.328-.396 0-.752-.065-1.07-.195-.318-.135-.552-.307-.703-.515-.146-.214-.248-.5-.305-.86-.047-.255-.07-.77-.07-1.547v-3.617h-1.008v-1.75h1.008v-1.648l2.203-1.282v2.93h1.5Zm1.016 4.031c0-.729.179-1.435.539-2.117a3.705 3.705 0 0 1 1.523-1.562c.662-.36 1.399-.54 2.211-.54 1.255 0 2.284.41 3.086 1.227.802.813 1.203 1.841 1.203 3.086 0 1.255-.406 2.297-1.219 3.125-.807.823-1.825 1.235-3.054 1.235a4.843 4.843 0 0 1-2.18-.516 3.547 3.547 0 0 1-1.57-1.508c-.36-.667-.539-1.477-.539-2.43Zm2.25.118c0 .822.195 1.453.586 1.89.39.438.872.656 1.445.656.573 0 1.052-.218 1.437-.656.391-.437.586-1.073.586-1.906 0-.813-.195-1.438-.586-1.875a1.837 1.837 0 0 0-1.437-.656 1.86 1.86 0 0 0-1.445.656c-.391.437-.586 1.068-.586 1.89ZM317.852 31h-2.196v-4.234c0-.896-.047-1.474-.14-1.735a1.215 1.215 0 0 0-.461-.617 1.29 1.29 0 0 0-.758-.219c-.38 0-.721.104-1.024.313-.302.208-.51.484-.625.828-.109.344-.164.98-.164 1.906V31h-2.195v-8.297h2.039v1.219c.724-.938 1.636-1.406 2.734-1.406.485 0 .928.088 1.329.265.401.172.703.393.906.664.208.271.351.578.43.922.083.344.125.836.125 1.477V31Z"
        />
      </svg>`},{name:"Light",value:"rd-btn-light",svg:`<svg width="240" height="49" viewBox="0 0 240 49" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="240" height="49" rx="2" fill="white"/>
      <path d="M12.5312 19.5469H17.1094C18.0156 19.5469 18.6901 19.5859 19.1328 19.6641C19.5807 19.737 19.9792 19.8932 20.3281 20.1328C20.6823 20.3724 20.9766 20.6927 21.2109 21.0938C21.4453 21.4896 21.5625 21.9349 21.5625 22.4297C21.5625 22.9661 21.4167 23.4583 21.125 23.9062C20.8385 24.3542 20.4479 24.6901 19.9531 24.9141C20.651 25.1172 21.1875 25.4635 21.5625 25.9531C21.9375 26.4427 22.125 27.0182 22.125 27.6797C22.125 28.2005 22.0026 28.7083 21.7578 29.2031C21.5182 29.6927 21.1875 30.0859 20.7656 30.3828C20.349 30.6745 19.8333 30.8542 19.2188 30.9219C18.8333 30.9635 17.9036 30.9896 16.4297 31H12.5312V19.5469ZM14.8438 21.4531V24.1016H16.3594C17.2604 24.1016 17.8203 24.0885 18.0391 24.0625C18.4349 24.0156 18.7448 23.8802 18.9688 23.6562C19.1979 23.4271 19.3125 23.1276 19.3125 22.7578C19.3125 22.4036 19.2135 22.1172 19.0156 21.8984C18.8229 21.6745 18.5339 21.5391 18.1484 21.4922C17.9193 21.4661 17.2604 21.4531 16.1719 21.4531H14.8438ZM14.8438 26.0078V29.0703H16.9844C17.8177 29.0703 18.3464 29.0469 18.5703 29C18.9141 28.9375 19.1927 28.7865 19.4062 28.5469C19.625 28.3021 19.7344 27.9766 19.7344 27.5703C19.7344 27.2266 19.651 26.9349 19.4844 26.6953C19.3177 26.4557 19.0755 26.2812 18.7578 26.1719C18.4453 26.0625 17.763 26.0078 16.7109 26.0078H14.8438ZM23.8203 27.9453V25.75H28.1328V27.9453H23.8203ZM29.4219 19.5469H34C34.9062 19.5469 35.5807 19.5859 36.0234 19.6641C36.4714 19.737 36.8698 19.8932 37.2188 20.1328C37.5729 20.3724 37.8672 20.6927 38.1016 21.0938C38.3359 21.4896 38.4531 21.9349 38.4531 22.4297C38.4531 22.9661 38.3073 23.4583 38.0156 23.9062C37.7292 24.3542 37.3385 24.6901 36.8438 24.9141C37.5417 25.1172 38.0781 25.4635 38.4531 25.9531C38.8281 26.4427 39.0156 27.0182 39.0156 27.6797C39.0156 28.2005 38.8932 28.7083 38.6484 29.2031C38.4089 29.6927 38.0781 30.0859 37.6562 30.3828C37.2396 30.6745 36.724 30.8542 36.1094 30.9219C35.724 30.9635 34.7943 30.9896 33.3203 31H29.4219V19.5469ZM31.7344 21.4531V24.1016H33.25C34.151 24.1016 34.7109 24.0885 34.9297 24.0625C35.3255 24.0156 35.6354 23.8802 35.8594 23.6562C36.0885 23.4271 36.2031 23.1276 36.2031 22.7578C36.2031 22.4036 36.1042 22.1172 35.9062 21.8984C35.7135 21.6745 35.4245 21.5391 35.0391 21.4922C34.8099 21.4661 34.151 21.4531 33.0625 21.4531H31.7344ZM31.7344 26.0078V29.0703H33.875C34.7083 29.0703 35.237 29.0469 35.4609 29C35.8047 28.9375 36.0833 28.7865 36.2969 28.5469C36.5156 28.3021 36.625 27.9766 36.625 27.5703C36.625 27.2266 36.5417 26.9349 36.375 26.6953C36.2083 26.4557 35.9661 26.2812 35.6484 26.1719C35.3359 26.0625 34.6536 26.0078 33.6016 26.0078H31.7344ZM40.9844 19.5469H45.5625C46.4688 19.5469 47.1432 19.5859 47.5859 19.6641C48.0339 19.737 48.4323 19.8932 48.7812 20.1328C49.1354 20.3724 49.4297 20.6927 49.6641 21.0938C49.8984 21.4896 50.0156 21.9349 50.0156 22.4297C50.0156 22.9661 49.8698 23.4583 49.5781 23.9062C49.2917 24.3542 48.901 24.6901 48.4062 24.9141C49.1042 25.1172 49.6406 25.4635 50.0156 25.9531C50.3906 26.4427 50.5781 27.0182 50.5781 27.6797C50.5781 28.2005 50.4557 28.7083 50.2109 29.2031C49.9714 29.6927 49.6406 30.0859 49.2188 30.3828C48.8021 30.6745 48.2865 30.8542 47.6719 30.9219C47.2865 30.9635 46.3568 30.9896 44.8828 31H40.9844V19.5469ZM43.2969 21.4531V24.1016H44.8125C45.7135 24.1016 46.2734 24.0885 46.4922 24.0625C46.888 24.0156 47.1979 23.8802 47.4219 23.6562C47.651 23.4271 47.7656 23.1276 47.7656 22.7578C47.7656 22.4036 47.6667 22.1172 47.4688 21.8984C47.276 21.6745 46.987 21.5391 46.6016 21.4922C46.3724 21.4661 45.7135 21.4531 44.625 21.4531H43.2969ZM43.2969 26.0078V29.0703H45.4375C46.2708 29.0703 46.7995 29.0469 47.0234 29C47.3672 28.9375 47.6458 28.7865 47.8594 28.5469C48.0781 28.3021 48.1875 27.9766 48.1875 27.5703C48.1875 27.2266 48.1042 26.9349 47.9375 26.6953C47.7708 26.4557 47.5286 26.2812 47.2109 26.1719C46.8984 26.0625 46.2161 26.0078 45.1641 26.0078H43.2969ZM52.5391 31V19.5469H61.0312V21.4844H54.8516V24.0234H60.6016V25.9531H54.8516V29.0703H61.25V31H52.5391ZM63.2109 31V19.5469H71.7031V21.4844H65.5234V24.0234H71.2734V25.9531H65.5234V29.0703H71.9219V31H63.2109ZM79.9609 25.2344L77.9688 24.875C78.1927 24.0729 78.5781 23.4792 79.125 23.0938C79.6719 22.7083 80.4844 22.5156 81.5625 22.5156C82.5417 22.5156 83.2708 22.6328 83.75 22.8672C84.2292 23.0964 84.5651 23.3906 84.7578 23.75C84.9557 24.1042 85.0547 24.7578 85.0547 25.7109L85.0312 28.2734C85.0312 29.0026 85.0651 29.5417 85.1328 29.8906C85.2057 30.2344 85.3385 30.6042 85.5312 31H83.3594C83.3021 30.8542 83.2318 30.638 83.1484 30.3516C83.112 30.2214 83.0859 30.1354 83.0703 30.0938C82.6953 30.4583 82.2943 30.7318 81.8672 30.9141C81.4401 31.0964 80.9844 31.1875 80.5 31.1875C79.6458 31.1875 78.9714 30.9557 78.4766 30.4922C77.987 30.0286 77.7422 29.4427 77.7422 28.7344C77.7422 28.2656 77.8542 27.849 78.0781 27.4844C78.3021 27.1146 78.6146 26.8333 79.0156 26.6406C79.4219 26.4427 80.0052 26.2708 80.7656 26.125C81.7917 25.9323 82.5026 25.7526 82.8984 25.5859V25.3672C82.8984 24.9453 82.7943 24.6458 82.5859 24.4688C82.3776 24.2865 81.9844 24.1953 81.4062 24.1953C81.0156 24.1953 80.7109 24.2734 80.4922 24.4297C80.2734 24.5807 80.0964 24.849 79.9609 25.2344ZM82.8984 27.0156C82.6172 27.1094 82.1719 27.2214 81.5625 27.3516C80.9531 27.4818 80.5547 27.6094 80.3672 27.7344C80.0807 27.9375 79.9375 28.1953 79.9375 28.5078C79.9375 28.8151 80.0521 29.0807 80.2812 29.3047C80.5104 29.5286 80.8021 29.6406 81.1562 29.6406C81.5521 29.6406 81.9297 29.5104 82.2891 29.25C82.5547 29.0521 82.7292 28.8099 82.8125 28.5234C82.8698 28.3359 82.8984 27.9792 82.8984 27.4531V27.0156ZM94.7734 31H92.5781V26.7656C92.5781 25.8698 92.5312 25.2917 92.4375 25.0312C92.3438 24.7656 92.1901 24.5599 91.9766 24.4141C91.7682 24.2682 91.5156 24.1953 91.2188 24.1953C90.8385 24.1953 90.4974 24.2995 90.1953 24.5078C89.8932 24.7161 89.6849 24.9922 89.5703 25.3359C89.4609 25.6797 89.4062 26.3151 89.4062 27.2422V31H87.2109V22.7031H89.25V23.9219C89.974 22.9844 90.8854 22.5156 91.9844 22.5156C92.4688 22.5156 92.9115 22.6042 93.3125 22.7812C93.7135 22.9531 94.0156 23.1745 94.2188 23.4453C94.4271 23.7161 94.5703 24.0234 94.6484 24.3672C94.7318 24.7109 94.7734 25.2031 94.7734 25.8438V31ZM104.617 31H102.578V29.7812C102.24 30.2552 101.839 30.6094 101.375 30.8438C100.917 31.0729 100.453 31.1875 99.9844 31.1875C99.0312 31.1875 98.2135 30.8047 97.5312 30.0391C96.8542 29.2682 96.5156 28.1953 96.5156 26.8203C96.5156 25.4141 96.8464 24.3464 97.5078 23.6172C98.1693 22.8828 99.0052 22.5156 100.016 22.5156C100.943 22.5156 101.745 22.901 102.422 23.6719V19.5469H104.617V31ZM98.7578 26.6719C98.7578 27.5573 98.8802 28.1979 99.125 28.5938C99.4792 29.1667 99.974 29.4531 100.609 29.4531C101.115 29.4531 101.544 29.2396 101.898 28.8125C102.253 28.3802 102.43 27.737 102.43 26.8828C102.43 25.9297 102.258 25.2448 101.914 24.8281C101.57 24.4062 101.13 24.1953 100.594 24.1953C100.073 24.1953 99.6354 24.4036 99.2812 24.8203C98.9323 25.2318 98.7578 25.849 98.7578 26.6719ZM113.836 31V21.4844H110.438V19.5469H119.539V21.4844H116.148V31H113.836ZM122.234 31H120.039V22.7031H122.078V23.8828C122.427 23.3255 122.74 22.9583 123.016 22.7812C123.297 22.6042 123.615 22.5156 123.969 22.5156C124.469 22.5156 124.951 22.6536 125.414 22.9297L124.734 24.8438C124.365 24.6042 124.021 24.4844 123.703 24.4844C123.396 24.4844 123.135 24.5703 122.922 24.7422C122.708 24.9089 122.539 25.2135 122.414 25.6562C122.294 26.099 122.234 27.026 122.234 28.4375V31ZM128.008 25.2344L126.016 24.875C126.24 24.0729 126.625 23.4792 127.172 23.0938C127.719 22.7083 128.531 22.5156 129.609 22.5156C130.589 22.5156 131.318 22.6328 131.797 22.8672C132.276 23.0964 132.612 23.3906 132.805 23.75C133.003 24.1042 133.102 24.7578 133.102 25.7109L133.078 28.2734C133.078 29.0026 133.112 29.5417 133.18 29.8906C133.253 30.2344 133.385 30.6042 133.578 31H131.406C131.349 30.8542 131.279 30.638 131.195 30.3516C131.159 30.2214 131.133 30.1354 131.117 30.0938C130.742 30.4583 130.341 30.7318 129.914 30.9141C129.487 31.0964 129.031 31.1875 128.547 31.1875C127.693 31.1875 127.018 30.9557 126.523 30.4922C126.034 30.0286 125.789 29.4427 125.789 28.7344C125.789 28.2656 125.901 27.849 126.125 27.4844C126.349 27.1146 126.661 26.8333 127.062 26.6406C127.469 26.4427 128.052 26.2708 128.812 26.125C129.839 25.9323 130.549 25.7526 130.945 25.5859V25.3672C130.945 24.9453 130.841 24.6458 130.633 24.4688C130.424 24.2865 130.031 24.1953 129.453 24.1953C129.062 24.1953 128.758 24.2734 128.539 24.4297C128.32 24.5807 128.143 24.849 128.008 25.2344ZM130.945 27.0156C130.664 27.1094 130.219 27.2214 129.609 27.3516C129 27.4818 128.602 27.6094 128.414 27.7344C128.128 27.9375 127.984 28.1953 127.984 28.5078C127.984 28.8151 128.099 29.0807 128.328 29.3047C128.557 29.5286 128.849 29.6406 129.203 29.6406C129.599 29.6406 129.977 29.5104 130.336 29.25C130.602 29.0521 130.776 28.8099 130.859 28.5234C130.917 28.3359 130.945 27.9792 130.945 27.4531V27.0156ZM142.82 31H140.625V26.7656C140.625 25.8698 140.578 25.2917 140.484 25.0312C140.391 24.7656 140.237 24.5599 140.023 24.4141C139.815 24.2682 139.562 24.1953 139.266 24.1953C138.885 24.1953 138.544 24.2995 138.242 24.5078C137.94 24.7161 137.732 24.9922 137.617 25.3359C137.508 25.6797 137.453 26.3151 137.453 27.2422V31H135.258V22.7031H137.297V23.9219C138.021 22.9844 138.932 22.5156 140.031 22.5156C140.516 22.5156 140.958 22.6042 141.359 22.7812C141.76 22.9531 142.062 23.1745 142.266 23.4453C142.474 23.7161 142.617 24.0234 142.695 24.3672C142.779 24.7109 142.82 25.2031 142.82 25.8438V31ZM144.281 28.6328L146.484 28.2969C146.578 28.724 146.768 29.0495 147.055 29.2734C147.341 29.4922 147.742 29.6016 148.258 29.6016C148.826 29.6016 149.253 29.4974 149.539 29.2891C149.732 29.1432 149.828 28.9479 149.828 28.7031C149.828 28.5365 149.776 28.3984 149.672 28.2891C149.562 28.1849 149.318 28.0885 148.938 28C147.167 27.6094 146.044 27.2526 145.57 26.9297C144.914 26.4818 144.586 25.8594 144.586 25.0625C144.586 24.3438 144.87 23.7396 145.438 23.25C146.005 22.7604 146.885 22.5156 148.078 22.5156C149.214 22.5156 150.057 22.7005 150.609 23.0703C151.161 23.4401 151.542 23.987 151.75 24.7109L149.68 25.0938C149.591 24.7708 149.422 24.5234 149.172 24.3516C148.927 24.1797 148.576 24.0938 148.117 24.0938C147.539 24.0938 147.125 24.1745 146.875 24.3359C146.708 24.4505 146.625 24.599 146.625 24.7812C146.625 24.9375 146.698 25.0703 146.844 25.1797C147.042 25.3255 147.724 25.5312 148.891 25.7969C150.062 26.0625 150.88 26.388 151.344 26.7734C151.802 27.1641 152.031 27.7083 152.031 28.4062C152.031 29.1667 151.714 29.8203 151.078 30.3672C150.443 30.9141 149.503 31.1875 148.258 31.1875C147.128 31.1875 146.232 30.9583 145.57 30.5C144.914 30.0417 144.484 29.4193 144.281 28.6328ZM153 22.7031H154.219V22.0781C154.219 21.3802 154.292 20.8594 154.438 20.5156C154.589 20.1719 154.862 19.8932 155.258 19.6797C155.659 19.4609 156.164 19.3516 156.773 19.3516C157.398 19.3516 158.01 19.4453 158.609 19.6328L158.312 21.1641C157.964 21.0807 157.628 21.0391 157.305 21.0391C156.987 21.0391 156.758 21.1146 156.617 21.2656C156.482 21.4115 156.414 21.6953 156.414 22.1172V22.7031H158.055V24.4297H156.414V31H154.219V24.4297H153V22.7031ZM158.781 26.7344C158.781 26.0052 158.961 25.2995 159.32 24.6172C159.68 23.9349 160.188 23.4141 160.844 23.0547C161.505 22.6953 162.242 22.5156 163.055 22.5156C164.31 22.5156 165.339 22.9245 166.141 23.7422C166.943 24.5547 167.344 25.5833 167.344 26.8281C167.344 28.0833 166.938 29.125 166.125 29.9531C165.318 30.776 164.299 31.1875 163.07 31.1875C162.31 31.1875 161.583 31.0156 160.891 30.6719C160.203 30.3281 159.68 29.8255 159.32 29.1641C158.961 28.4974 158.781 27.6875 158.781 26.7344ZM161.031 26.8516C161.031 27.6745 161.227 28.3047 161.617 28.7422C162.008 29.1797 162.49 29.3984 163.062 29.3984C163.635 29.3984 164.115 29.1797 164.5 28.7422C164.891 28.3047 165.086 27.6693 165.086 26.8359C165.086 26.0234 164.891 25.3984 164.5 24.9609C164.115 24.5234 163.635 24.3047 163.062 24.3047C162.49 24.3047 162.008 24.5234 161.617 24.9609C161.227 25.3984 161.031 26.0286 161.031 26.8516ZM171.172 31H168.977V22.7031H171.016V23.8828C171.365 23.3255 171.677 22.9583 171.953 22.7812C172.234 22.6042 172.552 22.5156 172.906 22.5156C173.406 22.5156 173.888 22.6536 174.352 22.9297L173.672 24.8438C173.302 24.6042 172.958 24.4844 172.641 24.4844C172.333 24.4844 172.073 24.5703 171.859 24.7422C171.646 24.9089 171.477 25.2135 171.352 25.6562C171.232 26.099 171.172 27.026 171.172 28.4375V31ZM175.141 22.7031H177.164V23.8359C177.888 22.9557 178.75 22.5156 179.75 22.5156C180.281 22.5156 180.742 22.625 181.133 22.8438C181.523 23.0625 181.844 23.3932 182.094 23.8359C182.458 23.3932 182.852 23.0625 183.273 22.8438C183.695 22.625 184.146 22.5156 184.625 22.5156C185.234 22.5156 185.75 22.6406 186.172 22.8906C186.594 23.1354 186.909 23.4974 187.117 23.9766C187.268 24.3307 187.344 24.9036 187.344 25.6953V31H185.148V26.2578C185.148 25.4349 185.073 24.9036 184.922 24.6641C184.719 24.3516 184.406 24.1953 183.984 24.1953C183.677 24.1953 183.388 24.2891 183.117 24.4766C182.846 24.6641 182.651 24.9401 182.531 25.3047C182.411 25.6641 182.352 26.2344 182.352 27.0156V31H180.156V26.4531C180.156 25.6458 180.117 25.125 180.039 24.8906C179.961 24.6562 179.839 24.4818 179.672 24.3672C179.51 24.2526 179.289 24.1953 179.008 24.1953C178.669 24.1953 178.365 24.2865 178.094 24.4688C177.823 24.651 177.628 24.9141 177.508 25.2578C177.393 25.6016 177.336 26.1719 177.336 26.9688V31H175.141V22.7031ZM191.18 25.2344L189.188 24.875C189.411 24.0729 189.797 23.4792 190.344 23.0938C190.891 22.7083 191.703 22.5156 192.781 22.5156C193.76 22.5156 194.49 22.6328 194.969 22.8672C195.448 23.0964 195.784 23.3906 195.977 23.75C196.174 24.1042 196.273 24.7578 196.273 25.7109L196.25 28.2734C196.25 29.0026 196.284 29.5417 196.352 29.8906C196.424 30.2344 196.557 30.6042 196.75 31H194.578C194.521 30.8542 194.451 30.638 194.367 30.3516C194.331 30.2214 194.305 30.1354 194.289 30.0938C193.914 30.4583 193.513 30.7318 193.086 30.9141C192.659 31.0964 192.203 31.1875 191.719 31.1875C190.865 31.1875 190.19 30.9557 189.695 30.4922C189.206 30.0286 188.961 29.4427 188.961 28.7344C188.961 28.2656 189.073 27.849 189.297 27.4844C189.521 27.1146 189.833 26.8333 190.234 26.6406C190.641 26.4427 191.224 26.2708 191.984 26.125C193.01 25.9323 193.721 25.7526 194.117 25.5859V25.3672C194.117 24.9453 194.013 24.6458 193.805 24.4688C193.596 24.2865 193.203 24.1953 192.625 24.1953C192.234 24.1953 191.93 24.2734 191.711 24.4297C191.492 24.5807 191.315 24.849 191.18 25.2344ZM194.117 27.0156C193.836 27.1094 193.391 27.2214 192.781 27.3516C192.172 27.4818 191.773 27.6094 191.586 27.7344C191.299 27.9375 191.156 28.1953 191.156 28.5078C191.156 28.8151 191.271 29.0807 191.5 29.3047C191.729 29.5286 192.021 29.6406 192.375 29.6406C192.771 29.6406 193.148 29.5104 193.508 29.25C193.773 29.0521 193.948 28.8099 194.031 28.5234C194.089 28.3359 194.117 27.9792 194.117 27.4531V27.0156ZM202.25 22.7031V24.4531H200.75V27.7969C200.75 28.474 200.763 28.8698 200.789 28.9844C200.82 29.0938 200.885 29.1849 200.984 29.2578C201.089 29.3307 201.214 29.3672 201.359 29.3672C201.562 29.3672 201.857 29.2969 202.242 29.1562L202.43 30.8594C201.919 31.0781 201.341 31.1875 200.695 31.1875C200.299 31.1875 199.943 31.1224 199.625 30.9922C199.307 30.8568 199.073 30.6849 198.922 30.4766C198.776 30.263 198.674 29.9766 198.617 29.6172C198.57 29.362 198.547 28.8464 198.547 28.0703V24.4531H197.539V22.7031H198.547V21.0547L200.75 19.7734V22.7031H202.25ZM203.773 21.5781V19.5469H205.969V21.5781H203.773ZM203.773 31V22.7031H205.969V31H203.773ZM207.719 26.7344C207.719 26.0052 207.898 25.2995 208.258 24.6172C208.617 23.9349 209.125 23.4141 209.781 23.0547C210.443 22.6953 211.18 22.5156 211.992 22.5156C213.247 22.5156 214.276 22.9245 215.078 23.7422C215.88 24.5547 216.281 25.5833 216.281 26.8281C216.281 28.0833 215.875 29.125 215.062 29.9531C214.255 30.776 213.237 31.1875 212.008 31.1875C211.247 31.1875 210.521 31.0156 209.828 30.6719C209.141 30.3281 208.617 29.8255 208.258 29.1641C207.898 28.4974 207.719 27.6875 207.719 26.7344ZM209.969 26.8516C209.969 27.6745 210.164 28.3047 210.555 28.7422C210.945 29.1797 211.427 29.3984 212 29.3984C212.573 29.3984 213.052 29.1797 213.438 28.7422C213.828 28.3047 214.023 27.6693 214.023 26.8359C214.023 26.0234 213.828 25.3984 213.438 24.9609C213.052 24.5234 212.573 24.3047 212 24.3047C211.427 24.3047 210.945 24.5234 210.555 24.9609C210.164 25.3984 209.969 26.0286 209.969 26.8516ZM225.555 31H223.359V26.7656C223.359 25.8698 223.312 25.2917 223.219 25.0312C223.125 24.7656 222.971 24.5599 222.758 24.4141C222.549 24.2682 222.297 24.1953 222 24.1953C221.62 24.1953 221.279 24.2995 220.977 24.5078C220.674 24.7161 220.466 24.9922 220.352 25.3359C220.242 25.6797 220.188 26.3151 220.188 27.2422V31H217.992V22.7031H220.031V23.9219C220.755 22.9844 221.667 22.5156 222.766 22.5156C223.25 22.5156 223.693 22.6042 224.094 22.7812C224.495 22.9531 224.797 23.1745 225 23.4453C225.208 23.7161 225.352 24.0234 225.43 24.3672C225.513 24.7109 225.555 25.2031 225.555 25.8438V31Z" fill="black"/>
      </svg>
      `},{name:"Outline",value:"rd-btn-outline",svg:`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="100%"
    height="49"
    fill="none"
    viewBox="0 0 526 49"
  >
    <rect width="525" height="48" x=".5" y=".5" stroke="#000" rx="1.5" />
    <path
      fill="#000"
      d="m195.023 27.273 2.25-.218c.136.755.409 1.31.821 1.664.416.354.976.531 1.679.531.745 0 1.305-.156 1.68-.469.38-.317.57-.687.57-1.11 0-.27-.08-.5-.242-.687-.156-.192-.432-.359-.828-.5-.271-.093-.888-.26-1.851-.5-1.24-.307-2.11-.685-2.61-1.132-.703-.63-1.054-1.399-1.054-2.305 0-.584.164-1.128.492-1.633.333-.51.81-.898 1.429-1.164.625-.266 1.378-.398 2.258-.398 1.438 0 2.518.315 3.242.945.73.63 1.112 1.471 1.149 2.523l-2.313.102c-.099-.589-.312-1.01-.64-1.266-.323-.26-.81-.39-1.461-.39-.672 0-1.198.138-1.578.414a.835.835 0 0 0-.368.71c0 .271.115.503.344.696.292.245 1 .5 2.125.766 1.125.265 1.956.541 2.492.828.542.28.964.669 1.266 1.164.307.49.461 1.096.461 1.82a3.37 3.37 0 0 1-.547 1.844c-.365.573-.88 1-1.547 1.281-.666.276-1.497.414-2.492.414-1.448 0-2.56-.333-3.336-1-.776-.672-1.24-1.648-1.391-2.93Zm16.047 1.086 2.188.368c-.281.802-.727 1.414-1.336 1.835-.604.417-1.362.625-2.274.625-1.442 0-2.51-.47-3.203-1.414-.547-.755-.82-1.708-.82-2.859 0-1.375.359-2.45 1.078-3.227.719-.78 1.628-1.171 2.727-1.171 1.234 0 2.208.409 2.922 1.226.713.813 1.054 2.06 1.023 3.742h-5.5c.016.651.193 1.16.531 1.524.339.36.761.539 1.266.539.344 0 .633-.094.867-.281.234-.188.412-.49.531-.907Zm.125-2.218c-.015-.636-.179-1.118-.492-1.446a1.505 1.505 0 0 0-1.141-.5c-.479 0-.874.175-1.187.524-.313.349-.466.823-.461 1.422h3.281Zm11.211-.985-2.164.39c-.073-.431-.239-.757-.5-.976-.255-.218-.588-.328-1-.328-.547 0-.984.19-1.312.57-.323.375-.485 1.006-.485 1.891 0 .985.164 1.68.493 2.086.333.406.778.61 1.335.61.417 0 .758-.118 1.024-.352.265-.24.453-.649.562-1.227l2.157.367c-.224.99-.654 1.737-1.289 2.243-.636.505-1.487.758-2.555.758-1.214 0-2.182-.383-2.906-1.149-.719-.766-1.078-1.826-1.078-3.18 0-1.37.361-2.435 1.085-3.195.724-.766 1.704-1.148 2.938-1.148 1.01 0 1.812.218 2.406.656.599.432 1.029 1.094 1.289 1.984Zm1.164 1.578c0-.729.18-1.435.539-2.117a3.713 3.713 0 0 1 1.524-1.562c.661-.36 1.398-.54 2.211-.54 1.255 0 2.284.41 3.086 1.227.802.813 1.203 1.841 1.203 3.086 0 1.255-.406 2.297-1.219 3.125-.807.823-1.825 1.235-3.055 1.235-.76 0-1.487-.172-2.179-.516a3.55 3.55 0 0 1-1.571-1.508c-.359-.667-.539-1.477-.539-2.43Zm2.25.118c0 .822.196 1.453.586 1.89.391.438.873.656 1.446.656.572 0 1.052-.218 1.437-.656.391-.437.586-1.073.586-1.906 0-.813-.195-1.438-.586-1.875a1.838 1.838 0 0 0-1.437-.656c-.573 0-1.055.218-1.446.656-.39.437-.586 1.068-.586 1.89ZM241.406 31h-2.195v-4.234c0-.896-.047-1.474-.141-1.735a1.204 1.204 0 0 0-.461-.617 1.286 1.286 0 0 0-.757-.219 1.76 1.76 0 0 0-1.024.313c-.302.208-.51.484-.625.828-.109.344-.164.98-.164 1.906V31h-2.195v-8.297h2.039v1.219c.724-.938 1.635-1.406 2.734-1.406.485 0 .927.088 1.328.265.401.172.703.393.907.664.208.271.351.578.429.922.084.344.125.836.125 1.477V31Zm9.844 0h-2.039v-1.219c-.339.474-.74.828-1.203 1.063a3.085 3.085 0 0 1-1.391.343c-.953 0-1.771-.382-2.453-1.148-.677-.77-1.016-1.844-1.016-3.219 0-1.406.331-2.474.993-3.203.661-.734 1.497-1.101 2.507-1.101.928 0 1.73.385 2.407 1.156v-4.125h2.195V31Zm-5.859-4.328c0 .885.122 1.526.367 1.922.354.573.849.86 1.484.86.505 0 .935-.214 1.289-.642.354-.432.531-1.075.531-1.93 0-.952-.171-1.637-.515-2.054a1.628 1.628 0 0 0-1.32-.633c-.521 0-.959.209-1.313.625-.349.412-.523 1.029-.523 1.852Zm9.671-1.438-1.992-.359c.224-.802.61-1.396 1.157-1.781.546-.386 1.359-.578 2.437-.578.979 0 1.708.117 2.188.351.479.23.815.524 1.007.883.198.354.297 1.008.297 1.96l-.023 2.563c0 .73.034 1.269.101 1.618.073.343.206.713.399 1.109h-2.172a8.054 8.054 0 0 1-.211-.648 3.477 3.477 0 0 0-.078-.258 3.96 3.96 0 0 1-1.203.82 3.446 3.446 0 0 1-1.367.273c-.855 0-1.529-.231-2.024-.695-.489-.463-.734-1.05-.734-1.758 0-.468.112-.885.336-1.25.224-.37.536-.65.937-.843.406-.198.99-.37 1.75-.516 1.026-.193 1.737-.372 2.133-.54v-.218c0-.422-.104-.721-.312-.898-.209-.183-.602-.274-1.18-.274-.391 0-.696.078-.914.235-.219.15-.396.419-.532.804ZM258 27.016c-.281.093-.727.205-1.336.336-.609.13-1.008.257-1.195.382-.287.203-.43.461-.43.774 0 .307.115.573.344.797.229.224.521.336.875.336.396 0 .773-.13 1.133-.391.265-.198.44-.44.523-.727.057-.187.086-.544.086-1.07v-.437ZM264.43 31h-2.196v-8.297h2.039v1.18c.349-.557.662-.925.938-1.102a1.75 1.75 0 0 1 .953-.265c.5 0 .982.138 1.445.414l-.679 1.914c-.37-.24-.714-.36-1.032-.36-.307 0-.567.086-.781.258-.213.167-.383.471-.508.914-.119.443-.179 1.37-.179 2.782V31Zm3.093-8.297h2.336l1.985 5.89 1.937-5.89h2.274l-2.93 7.985-.523 1.445c-.193.484-.378.854-.555 1.11-.172.254-.373.46-.602.616a2.524 2.524 0 0 1-.836.375c-.328.089-.7.133-1.117.133-.422 0-.836-.044-1.242-.133l-.195-1.718c.343.067.653.101.929.101.511 0 .888-.15 1.133-.453.245-.297.432-.677.563-1.14l-3.157-8.32ZM281.828 31V19.547h2.195v4.125c.678-.771 1.48-1.156 2.407-1.156 1.01 0 1.846.367 2.508 1.101.661.73.992 1.779.992 3.149 0 1.416-.339 2.507-1.016 3.273-.672.766-1.49 1.148-2.453 1.148-.474 0-.943-.117-1.406-.351a3.402 3.402 0 0 1-1.188-1.055V31h-2.039Zm2.18-4.328c0 .86.135 1.495.406 1.906.38.584.885.875 1.516.875.484 0 .896-.206 1.234-.617.344-.417.516-1.07.516-1.961 0-.948-.172-1.63-.516-2.047a1.628 1.628 0 0 0-1.32-.633c-.526 0-.964.206-1.313.617-.349.407-.523 1.026-.523 1.86ZM297.164 31v-1.242c-.302.443-.7.791-1.195 1.047a3.319 3.319 0 0 1-1.555.383 3.049 3.049 0 0 1-1.5-.368 2.167 2.167 0 0 1-.961-1.03c-.198-.444-.297-1.056-.297-1.837v-5.25h2.196v3.813c0 1.166.039 1.882.117 2.148.083.26.232.469.445.625.214.151.484.227.813.227a1.74 1.74 0 0 0 1.007-.305c.297-.208.5-.464.61-.766.109-.307.164-1.054.164-2.242v-3.5h2.195V31h-2.039Zm8.125-8.297v1.75h-1.5v3.344c0 .677.013 1.073.039 1.187.031.11.096.2.195.274a.64.64 0 0 0 .375.11c.204 0 .498-.071.883-.212l.188 1.703c-.511.22-1.089.328-1.735.328-.395 0-.752-.065-1.07-.195-.318-.135-.552-.307-.703-.515-.146-.214-.247-.5-.305-.86-.047-.255-.07-.77-.07-1.547v-3.617h-1.008v-1.75h1.008v-1.648l2.203-1.282v2.93h1.5Zm5.328 0v1.75h-1.5v3.344c0 .677.013 1.073.039 1.187.032.11.097.2.196.274.104.073.229.11.375.11.203 0 .497-.071.882-.212l.188 1.703c-.511.22-1.089.328-1.735.328-.395 0-.752-.065-1.07-.195-.318-.135-.552-.307-.703-.515-.146-.214-.247-.5-.305-.86-.046-.255-.07-.77-.07-1.547v-3.617h-1.008v-1.75h1.008v-1.648l2.203-1.282v2.93h1.5Zm1.016 4.031c0-.729.179-1.435.539-2.117a3.705 3.705 0 0 1 1.523-1.562c.662-.36 1.399-.54 2.211-.54 1.255 0 2.284.41 3.086 1.227.802.813 1.203 1.841 1.203 3.086 0 1.255-.406 2.297-1.218 3.125-.808.823-1.826 1.235-3.055 1.235a4.843 4.843 0 0 1-2.18-.516 3.547 3.547 0 0 1-1.57-1.508c-.36-.667-.539-1.477-.539-2.43Zm2.25.118c0 .822.195 1.453.586 1.89.39.438.872.656 1.445.656a1.84 1.84 0 0 0 1.438-.656c.39-.437.586-1.073.586-1.906 0-.813-.196-1.438-.586-1.875a1.84 1.84 0 0 0-1.438-.656 1.86 1.86 0 0 0-1.445.656c-.391.437-.586 1.068-.586 1.89ZM329.469 31h-2.196v-4.234c0-.896-.046-1.474-.14-1.735a1.215 1.215 0 0 0-.461-.617 1.287 1.287 0 0 0-.758-.219c-.38 0-.721.104-1.023.313a1.592 1.592 0 0 0-.625.828c-.11.344-.164.98-.164 1.906V31h-2.196v-8.297h2.039v1.219c.724-.938 1.636-1.406 2.735-1.406.484 0 .927.088 1.328.265.401.172.703.393.906.664.208.271.352.578.43.922.083.344.125.836.125 1.477V31Z"
    />
  </svg>`},{name:"Outline Light",value:"rd-btn-outline-light",svg:`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="100%"
    height="49"
    fill="none"
    viewBox="0 0 526 49"
  >
    <rect width="525" height="48" x=".5" y=".5" stroke="#000" rx="1.5" />
    <path
      fill="#000"
      d="m195.023 27.273 2.25-.218c.136.755.409 1.31.821 1.664.416.354.976.531 1.679.531.745 0 1.305-.156 1.68-.469.38-.317.57-.687.57-1.11 0-.27-.08-.5-.242-.687-.156-.192-.432-.359-.828-.5-.271-.093-.888-.26-1.851-.5-1.24-.307-2.11-.685-2.61-1.132-.703-.63-1.054-1.399-1.054-2.305 0-.584.164-1.128.492-1.633.333-.51.81-.898 1.429-1.164.625-.266 1.378-.398 2.258-.398 1.438 0 2.518.315 3.242.945.73.63 1.112 1.471 1.149 2.523l-2.313.102c-.099-.589-.312-1.01-.64-1.266-.323-.26-.81-.39-1.461-.39-.672 0-1.198.138-1.578.414a.835.835 0 0 0-.368.71c0 .271.115.503.344.696.292.245 1 .5 2.125.766 1.125.265 1.956.541 2.492.828.542.28.964.669 1.266 1.164.307.49.461 1.096.461 1.82a3.37 3.37 0 0 1-.547 1.844c-.365.573-.88 1-1.547 1.281-.666.276-1.497.414-2.492.414-1.448 0-2.56-.333-3.336-1-.776-.672-1.24-1.648-1.391-2.93Zm16.047 1.086 2.188.368c-.281.802-.727 1.414-1.336 1.835-.604.417-1.362.625-2.274.625-1.442 0-2.51-.47-3.203-1.414-.547-.755-.82-1.708-.82-2.859 0-1.375.359-2.45 1.078-3.227.719-.78 1.628-1.171 2.727-1.171 1.234 0 2.208.409 2.922 1.226.713.813 1.054 2.06 1.023 3.742h-5.5c.016.651.193 1.16.531 1.524.339.36.761.539 1.266.539.344 0 .633-.094.867-.281.234-.188.412-.49.531-.907Zm.125-2.218c-.015-.636-.179-1.118-.492-1.446a1.505 1.505 0 0 0-1.141-.5c-.479 0-.874.175-1.187.524-.313.349-.466.823-.461 1.422h3.281Zm11.211-.985-2.164.39c-.073-.431-.239-.757-.5-.976-.255-.218-.588-.328-1-.328-.547 0-.984.19-1.312.57-.323.375-.485 1.006-.485 1.891 0 .985.164 1.68.493 2.086.333.406.778.61 1.335.61.417 0 .758-.118 1.024-.352.265-.24.453-.649.562-1.227l2.157.367c-.224.99-.654 1.737-1.289 2.243-.636.505-1.487.758-2.555.758-1.214 0-2.182-.383-2.906-1.149-.719-.766-1.078-1.826-1.078-3.18 0-1.37.361-2.435 1.085-3.195.724-.766 1.704-1.148 2.938-1.148 1.01 0 1.812.218 2.406.656.599.432 1.029 1.094 1.289 1.984Zm1.164 1.578c0-.729.18-1.435.539-2.117a3.713 3.713 0 0 1 1.524-1.562c.661-.36 1.398-.54 2.211-.54 1.255 0 2.284.41 3.086 1.227.802.813 1.203 1.841 1.203 3.086 0 1.255-.406 2.297-1.219 3.125-.807.823-1.825 1.235-3.055 1.235-.76 0-1.487-.172-2.179-.516a3.55 3.55 0 0 1-1.571-1.508c-.359-.667-.539-1.477-.539-2.43Zm2.25.118c0 .822.196 1.453.586 1.89.391.438.873.656 1.446.656.572 0 1.052-.218 1.437-.656.391-.437.586-1.073.586-1.906 0-.813-.195-1.438-.586-1.875a1.838 1.838 0 0 0-1.437-.656c-.573 0-1.055.218-1.446.656-.39.437-.586 1.068-.586 1.89ZM241.406 31h-2.195v-4.234c0-.896-.047-1.474-.141-1.735a1.204 1.204 0 0 0-.461-.617 1.286 1.286 0 0 0-.757-.219 1.76 1.76 0 0 0-1.024.313c-.302.208-.51.484-.625.828-.109.344-.164.98-.164 1.906V31h-2.195v-8.297h2.039v1.219c.724-.938 1.635-1.406 2.734-1.406.485 0 .927.088 1.328.265.401.172.703.393.907.664.208.271.351.578.429.922.084.344.125.836.125 1.477V31Zm9.844 0h-2.039v-1.219c-.339.474-.74.828-1.203 1.063a3.085 3.085 0 0 1-1.391.343c-.953 0-1.771-.382-2.453-1.148-.677-.77-1.016-1.844-1.016-3.219 0-1.406.331-2.474.993-3.203.661-.734 1.497-1.101 2.507-1.101.928 0 1.73.385 2.407 1.156v-4.125h2.195V31Zm-5.859-4.328c0 .885.122 1.526.367 1.922.354.573.849.86 1.484.86.505 0 .935-.214 1.289-.642.354-.432.531-1.075.531-1.93 0-.952-.171-1.637-.515-2.054a1.628 1.628 0 0 0-1.32-.633c-.521 0-.959.209-1.313.625-.349.412-.523 1.029-.523 1.852Zm9.671-1.438-1.992-.359c.224-.802.61-1.396 1.157-1.781.546-.386 1.359-.578 2.437-.578.979 0 1.708.117 2.188.351.479.23.815.524 1.007.883.198.354.297 1.008.297 1.96l-.023 2.563c0 .73.034 1.269.101 1.618.073.343.206.713.399 1.109h-2.172a8.054 8.054 0 0 1-.211-.648 3.477 3.477 0 0 0-.078-.258 3.96 3.96 0 0 1-1.203.82 3.446 3.446 0 0 1-1.367.273c-.855 0-1.529-.231-2.024-.695-.489-.463-.734-1.05-.734-1.758 0-.468.112-.885.336-1.25.224-.37.536-.65.937-.843.406-.198.99-.37 1.75-.516 1.026-.193 1.737-.372 2.133-.54v-.218c0-.422-.104-.721-.312-.898-.209-.183-.602-.274-1.18-.274-.391 0-.696.078-.914.235-.219.15-.396.419-.532.804ZM258 27.016c-.281.093-.727.205-1.336.336-.609.13-1.008.257-1.195.382-.287.203-.43.461-.43.774 0 .307.115.573.344.797.229.224.521.336.875.336.396 0 .773-.13 1.133-.391.265-.198.44-.44.523-.727.057-.187.086-.544.086-1.07v-.437ZM264.43 31h-2.196v-8.297h2.039v1.18c.349-.557.662-.925.938-1.102a1.75 1.75 0 0 1 .953-.265c.5 0 .982.138 1.445.414l-.679 1.914c-.37-.24-.714-.36-1.032-.36-.307 0-.567.086-.781.258-.213.167-.383.471-.508.914-.119.443-.179 1.37-.179 2.782V31Zm3.093-8.297h2.336l1.985 5.89 1.937-5.89h2.274l-2.93 7.985-.523 1.445c-.193.484-.378.854-.555 1.11-.172.254-.373.46-.602.616a2.524 2.524 0 0 1-.836.375c-.328.089-.7.133-1.117.133-.422 0-.836-.044-1.242-.133l-.195-1.718c.343.067.653.101.929.101.511 0 .888-.15 1.133-.453.245-.297.432-.677.563-1.14l-3.157-8.32ZM281.828 31V19.547h2.195v4.125c.678-.771 1.48-1.156 2.407-1.156 1.01 0 1.846.367 2.508 1.101.661.73.992 1.779.992 3.149 0 1.416-.339 2.507-1.016 3.273-.672.766-1.49 1.148-2.453 1.148-.474 0-.943-.117-1.406-.351a3.402 3.402 0 0 1-1.188-1.055V31h-2.039Zm2.18-4.328c0 .86.135 1.495.406 1.906.38.584.885.875 1.516.875.484 0 .896-.206 1.234-.617.344-.417.516-1.07.516-1.961 0-.948-.172-1.63-.516-2.047a1.628 1.628 0 0 0-1.32-.633c-.526 0-.964.206-1.313.617-.349.407-.523 1.026-.523 1.86ZM297.164 31v-1.242c-.302.443-.7.791-1.195 1.047a3.319 3.319 0 0 1-1.555.383 3.049 3.049 0 0 1-1.5-.368 2.167 2.167 0 0 1-.961-1.03c-.198-.444-.297-1.056-.297-1.837v-5.25h2.196v3.813c0 1.166.039 1.882.117 2.148.083.26.232.469.445.625.214.151.484.227.813.227a1.74 1.74 0 0 0 1.007-.305c.297-.208.5-.464.61-.766.109-.307.164-1.054.164-2.242v-3.5h2.195V31h-2.039Zm8.125-8.297v1.75h-1.5v3.344c0 .677.013 1.073.039 1.187.031.11.096.2.195.274a.64.64 0 0 0 .375.11c.204 0 .498-.071.883-.212l.188 1.703c-.511.22-1.089.328-1.735.328-.395 0-.752-.065-1.07-.195-.318-.135-.552-.307-.703-.515-.146-.214-.247-.5-.305-.86-.047-.255-.07-.77-.07-1.547v-3.617h-1.008v-1.75h1.008v-1.648l2.203-1.282v2.93h1.5Zm5.328 0v1.75h-1.5v3.344c0 .677.013 1.073.039 1.187.032.11.097.2.196.274.104.073.229.11.375.11.203 0 .497-.071.882-.212l.188 1.703c-.511.22-1.089.328-1.735.328-.395 0-.752-.065-1.07-.195-.318-.135-.552-.307-.703-.515-.146-.214-.247-.5-.305-.86-.046-.255-.07-.77-.07-1.547v-3.617h-1.008v-1.75h1.008v-1.648l2.203-1.282v2.93h1.5Zm1.016 4.031c0-.729.179-1.435.539-2.117a3.705 3.705 0 0 1 1.523-1.562c.662-.36 1.399-.54 2.211-.54 1.255 0 2.284.41 3.086 1.227.802.813 1.203 1.841 1.203 3.086 0 1.255-.406 2.297-1.218 3.125-.808.823-1.826 1.235-3.055 1.235a4.843 4.843 0 0 1-2.18-.516 3.547 3.547 0 0 1-1.57-1.508c-.36-.667-.539-1.477-.539-2.43Zm2.25.118c0 .822.195 1.453.586 1.89.39.438.872.656 1.445.656a1.84 1.84 0 0 0 1.438-.656c.39-.437.586-1.073.586-1.906 0-.813-.196-1.438-.586-1.875a1.84 1.84 0 0 0-1.438-.656 1.86 1.86 0 0 0-1.445.656c-.391.437-.586 1.068-.586 1.89ZM329.469 31h-2.196v-4.234c0-.896-.046-1.474-.14-1.735a1.215 1.215 0 0 0-.461-.617 1.287 1.287 0 0 0-.758-.219c-.38 0-.721.104-1.023.313a1.592 1.592 0 0 0-.625.828c-.11.344-.164.98-.164 1.906V31h-2.196v-8.297h2.039v1.219c.724-.938 1.636-1.406 2.735-1.406.484 0 .927.088 1.328.265.401.172.703.393.906.664.208.271.352.578.43.922.083.344.125.836.125 1.477V31Z"
    />
  </svg>`},{name:"Icon",value:"rd-btn-text",svg:`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="100%"
    height="40"
    fill="none"
    viewBox="0 0 183 40"
  >
    <circle cx="163" cy="20" r="19" stroke="#000" stroke-width="2" />
    <path
      stroke="#000"
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M156 20h14m-7-7 7 7-7 7"
    />
    <path
      fill="#000"
      d="M12.502 13.544H7.558V29H5.734V13.544H.79v-1.632h11.712v1.632Zm11.925 10.008h-7.968c0 1.296.296 2.304.888 3.024.608.704 1.472 1.056 2.592 1.056 1.168 0 2.2-.448 3.096-1.344l1.176 1.032c-.64.64-1.256 1.096-1.848 1.368-.688.304-1.512.456-2.472.456-1.616 0-2.864-.488-3.744-1.464-.944-1.024-1.416-2.552-1.416-4.584 0-1.904.432-3.384 1.296-4.44.864-1.072 2.048-1.608 3.552-1.608 1.52 0 2.704.512 3.552 1.536.864 1.024 1.296 2.416 1.296 4.176v.792Zm-1.728-1.296c-.048-.832-.168-1.488-.36-1.968-.496-1.184-1.416-1.776-2.76-1.776-1.344 0-2.264.592-2.76 1.776-.192.48-.312 1.136-.36 1.968h6.24ZM36.625 29h-2.088l-2.832-4.584L28.825 29h-2.088l4.008-6.024-3.84-5.784h2.088l2.712 4.368 2.664-4.368h2.088l-3.84 5.784L36.625 29Zm7.477 0h-1.224c-.976 0-1.728-.312-2.256-.936-.512-.56-.768-1.304-.768-2.232v-7.248h-1.488v-1.32h1.488v-3.696h1.728v3.696h2.52v1.32h-2.52v7.2c0 1.152.536 1.728 1.608 1.728h.912V29Zm21.458-4.728c0 1.52-.464 2.688-1.392 3.504-.912.816-2.144 1.224-3.696 1.224h-6.648V11.912h6.432c1.504 0 2.72.408 3.648 1.224.928.816 1.392 1.928 1.392 3.336 0 .88-.24 1.656-.72 2.328a3.713 3.713 0 0 1-1.8 1.416c1.856.688 2.784 2.04 2.784 4.056Zm-2.088-7.776c0-.976-.312-1.712-.936-2.208-.608-.496-1.416-.744-2.424-.744h-4.464v5.928h4.464c.992 0 1.8-.248 2.424-.744.624-.512.936-1.256.936-2.232Zm.264 7.728c0-.96-.312-1.72-.936-2.28-.608-.56-1.44-.84-2.496-.84h-4.656v6.264h4.656c1.056 0 1.888-.28 2.496-.84.624-.576.936-1.344.936-2.304ZM78.71 29h-1.704v-1.32c-.848.976-1.96 1.464-3.336 1.464-1.28 0-2.296-.368-3.048-1.104-.8-.784-1.2-1.888-1.2-3.312v-7.536h1.728v7.272c0 2.096.96 3.144 2.88 3.144.912 0 1.632-.272 2.16-.816.528-.544.792-1.32.792-2.328v-7.272h1.728V29Zm8.844 0H86.33c-.976 0-1.728-.312-2.256-.936-.512-.56-.768-1.304-.768-2.232v-7.248H81.82v-1.32h1.488v-3.696h1.728v3.696h2.52v1.32h-2.52v7.2c0 1.152.536 1.728 1.608 1.728h.912V29Zm7.97 0H94.3c-.976 0-1.728-.312-2.256-.936-.512-.56-.768-1.304-.768-2.232v-7.248h-1.488v-1.32h1.488v-3.696h1.728v3.696h2.52v1.32h-2.52v7.2c0 1.152.536 1.728 1.608 1.728h.912V29Zm12.456-5.904c0 2.16-.48 3.728-1.44 4.704-.88.896-2.008 1.344-3.384 1.344s-2.504-.448-3.384-1.344c-.96-.976-1.44-2.544-1.44-4.704 0-2.16.48-3.728 1.44-4.704.88-.896 2.008-1.344 3.384-1.344s2.504.448 3.384 1.344c.96.976 1.44 2.544 1.44 4.704Zm-1.728 0c0-1.808-.312-3.024-.936-3.648-.576-.576-1.296-.864-2.16-.864-.848 0-1.56.288-2.136.864-.64.64-.96 1.856-.96 3.648s.32 3.008.96 3.648c.576.576 1.288.864 2.136.864.864 0 1.592-.296 2.184-.888.608-.608.912-1.816.912-3.624ZM120.971 29h-1.728v-7.272c0-2.096-.968-3.144-2.904-3.144-.912 0-1.632.272-2.16.816-.512.544-.768 1.32-.768 2.328V29h-1.728V17.192h1.728v1.296c.848-.96 1.952-1.44 3.312-1.44 1.264 0 2.272.368 3.024 1.104.816.8 1.224 1.896 1.224 3.288V29Z"
    />
  </svg>`}]);buttonData;submitEvent=new Xe;ngOnInit(){this.form=this.fb.group({type:[null],size:[null,[Bi.required]],link:[null],leadingIcon:[!1],target:[!1],isDownload:[!1]}),this.buttonData&&this.form.patchValue(this.buttonData)}toggleSwitch(e){this.isFile=!this.isFile}onFileSelect(e){e&&e.length&&(this.fileList=e,this.uploadMedia(this.fileList[0]))}onFileDelete(e){}uploadMedia(e){this.pageBuilderService.uploadMedia(e,2).subscribe({next:t=>{this.file=t,this.getControl("link")?.setValue(t.Url)},error:t=>{}})}onSubmit(){this.submitEvent.emit(this.form.value)}static \u0275fac=function(t){return new(t||o)(Gt(li),Gt(Du),Gt(Is),Gt(Im))};static \u0275cmp=Lt({type:o,selectors:[["app-button-picker"]],inputs:{buttonData:"buttonData"},outputs:{submitEvent:"submitEvent"},features:[Oi],decls:32,vars:21,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-6"],[4,"ngFor","ngForOf"],[1,"col-md-6","mt-3"],[3,"label","id","placeholder","required","bindLabel","bindValue","items$","form","controlName"],[1,"col-md-6","checkbox-input","rd-checkbox","mb-3"],["type","checkbox","id","leading-icon","formControlName","leadingIcon"],["for","leading-icon",1,"rd-text-grey-mid"],[1,"col-md-12"],[1,"property-media-wrapper"],[1,"control-container","rd-switch-wrapper"],[3,"onChange","isLabel","onLabel","offLabel","label","id","checked"],[3,"label","id","placeholder","type","controlName","form",4,"ngIf"],[4,"ngIf"],["type","checkbox","id","new-tab","formControlName","target"],["for","new-tab",1,"rd-text-grey-mid"],["type","checkbox","id","download-flag","formControlName","isDownload"],["for","download-flag",1,"rd-text-grey-mid"],[1,"col-md-12","mt-4"],["type","button",1,"rd-btn","rd-btn-primary","rd-btn-lg",3,"click"],[1,"rd-heading","rd-heading-xs"],["type","radio","formControlName","type",3,"id","value"],[1,"preview-card",3,"for","title"],[1,"svg-icon",3,"innerHTML"],[3,"label","id","placeholder","type","controlName","form"]],template:function(t,n){t&1&&(te(0,"form",0)(1,"div",1)(2,"div",2),et(3,rT,7,9,"div",3),Ss(4,"async"),ae(),te(5,"div",4)(6,"div",1)(7,"div",2),pt(8,"rd-select",5),ae(),te(9,"div",6),pt(10,"input",7),te(11,"label",8),$e(12," Leading icon "),ae()(),te(13,"div",9)(14,"div",10)(15,"div",11)(16,"label"),$e(17,"Page"),ae(),te(18,"rd-switch",12),qe("onChange",function(s){return n.toggleSwitch(s)}),ae()(),et(19,iT,1,6,"rd-input",13)(20,oT,1,0,"ng-container",14),ae()(),te(21,"div",6),pt(22,"input",15),te(23,"label",16),$e(24," New tab "),ae()(),te(25,"div",6),pt(26,"input",17),te(27,"label",18),$e(28," Download "),ae()(),te(29,"div",19)(30,"button",20),qe("click",function(){return n.onSubmit()}),$e(31," Save & Update "),ae()()()()()()),t&2&&(ie("formGroup",n.form),X(3),ie("ngForOf",vu(4,19,n.buttonTypes$)),X(5),ie("label","Size")("id","button-size")("placeholder","Select size")("required",!0)("bindLabel","name")("bindValue","value")("items$",n.sizes$)("form",n.form)("controlName","size"),X(10),ie("isLabel",!0)("onLabel","File")("offLabel","Link")("label","File")("id","file-link-switch")("checked",n.isFile),X(),ie("ngIf",!n.isFile),X(),ie("ngIf",n.isFile))},dependencies:[Xs,Js,Su,Pm,$t,Ar,fn,Kv,ci,ra,oi,em,bu,Sr,ai,zr,si],encapsulation:2})};function aT(o,r){if(o&1){let e=Ct();te(0,"div")(1,"div",6)(2,"app-heading-picker",7),qe("saveEvent",function(n){Ne(e);let i=ne();return He(i.saveEvent(n))}),ae()()()}}function sT(o,r){if(o&1){let e=Ct();te(0,"div")(1,"div",6)(2,"app-layout-picker",7),qe("saveEvent",function(n){Ne(e);let i=ne();return He(i.saveEvent(n))}),ae()()()}}function lT(o,r){if(o&1){let e=Ct();te(0,"div")(1,"div",6)(2,"app-card-picker",7),qe("saveEvent",function(n){Ne(e);let i=ne();return He(i.saveEvent(n))}),ae()()()}}function cT(o,r){if(o&1){let e=Ct();te(0,"div")(1,"div",6)(2,"app-banner-picker",7),qe("saveEvent",function(n){Ne(e);let i=ne();return He(i.saveEvent(n))}),ae()()()}}function uT(o,r){if(o&1){let e=Ct();te(0,"div")(1,"div",6)(2,"app-button-picker",7),qe("saveEvent",function(n){Ne(e);let i=ne();return He(i.saveEvent(n))}),ae()()()}}var Qd=class o{constructor(r,e,t){this.fb=r;this.dialogRef=e;this.data=t}POPUP_TYPE=ji;form;ngOnInit(){this.initForm()}initForm(){switch(this.data.type){default:break}}onSubmit(){this.form.valid&&this.dialogRef.close(this.form.value)}onCancel(){this.dialogRef.close()}saveEvent(r){this.dialogRef.close(r)}static \u0275fac=function(e){return new(e||o)(Gt(li),Gt(Eu),Gt(Tu))};static \u0275cmp=Lt({type:o,selectors:[["app-picker-config"]],decls:12,vars:7,consts:[[1,"container","p-4",3,"ngSwitch"],[1,"modal-header","mb-3","justify-content-between"],[1,"rd-heading","rd-heading-lg-bold"],["type","button",1,"rd-btn-text",3,"click"],["src","assets/images/close.svg","alt","Close"],[4,"ngSwitchCase"],[1,"container","p-4"],[3,"saveEvent"]],template:function(e,t){e&1&&(te(0,"div",0)(1,"div",1)(2,"div",2),$e(3),ae(),te(4,"button",3),qe("click",function(){return t.onCancel()}),te(5,"span"),pt(6,"img",4),ae()()(),et(7,aT,3,0,"div",5)(8,sT,3,0,"div",5)(9,lT,3,0,"div",5)(10,cT,3,0,"div",5)(11,uT,3,0,"div",5),ae()),e&2&&(ie("ngSwitch",t.data.type),X(3),Kt(t.data.title),X(4),ie("ngSwitchCase",t.POPUP_TYPE.HEADING),X(),ie("ngSwitchCase",t.POPUP_TYPE.LAYOUTS),X(),ie("ngSwitchCase",t.POPUP_TYPE.CARDS),X(),ie("ngSwitchCase",t.POPUP_TYPE.BANNER),X(),ie("ngSwitchCase",t.POPUP_TYPE.BUTTON))},dependencies:[Yd,$t,Es,Ts,Zd,Kd,qd,$d],encapsulation:2})};var Xd=class o{constructor(r){this.dialog=r}openModal(r){return this.dialog.open(Qd,r)}static \u0275fac=function(e){return new(e||o)(ys(Ps))};static \u0275prov=Br({token:o,factory:o.\u0275fac,providedIn:"root"})};var fT=["editorContainer"];function pT(o,r){o&1&&(te(0,"span",5),$e(1,"*"),ae())}function hT(o,r){if(o&1&&(te(0,"label",3),$e(1),et(2,pT,2,0,"span",4),ae()),o&2){let e=ne();ie("for",e.id),X(),qt("",e.label,`
`),X(),ie("ngIf",e.required)}}var wc=class o{constructor(r,e,t,n){this.pageBuilderService=r;this.builderPopupService=e;this.toasterService=t;this.dialog=n}onSave=new Xe;menuName;menus$;menus;editor;pageConfig;swv="sw-visibility";expt="export-template";osm="open-sm";otm="open-tm";ola="open-layers";obl="open-blocks";ful="fullscreen";prv="preview";customCssRules=[];status=kh;isPreview=!1;searchText="";typeMode;editorContainer;contentChanged=new Xe;contentValid=new Xe;pageDetails;destroySubject=new Wt;content="";controlname;class;contentChange=new Xe;id;label;required=!1;ngOnInit(){this.initializeBuilder(),this.addSearchInputField(),this.editor.on("update",()=>{let r=this.editor.getHtml(),e=this.editor.getCss();this.contentChange.emit(`<style>${e}</style>${r}`)})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.editor&&this.editor.destroy()}initializeBuilder(){this.editor=F1.init({container:"#grapesJsEditor",forceClass:!1,storageManager:!1,selectorManager:{componentFirst:!0},plugins:[r=>N1(r,{pageDetails:this.pageConfig}),r=>W1(r,{uploadService:this.pageBuilderService}),r=>U1(r,{builderPopupService:this.builderPopupService})],assetManager:{showUrlInput:!1,assets:[]},canvas:{styles:["/assets/styles/buttons.css","/assets/styles/builder/components.css","https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],scripts:[]},blockManager:{blocks:[]},panels:{defaults:[{id:"devices",buttons:[{id:"deviceDesktop",command:()=>this.editor.setDevice("Desktop"),active:!0,className:"fa fa-desktop custom-preview-icon"},{id:"deviceTablet",command:()=>this.editor.setDevice("Tablet"),className:"fa fa-tablet custom-preview-icon"},{id:"deviceMobile",command:()=>this.editor.setDevice("Mobile portrait"),className:"fa fa-mobile custom-preview-icon"}]},{id:"options",buttons:[{id:"undo",className:"fa fa-undo custom-preview-icon",command:"core:undo",attributes:{title:"Undo"}},{id:"redo",className:"fa fa-repeat custom-preview-icon",command:"core:redo",attributes:{title:"Redo"}},{active:!0,id:this.swv,className:"fa fa-square-o custom-preview-icon",command:"core:component-outline",context:this.swv,attributes:{title:"View components"}},{id:this.prv,className:"fa fa-eye custom-preview-icon",command:this.prv,context:this.prv,attributes:{title:"Preview"}},{id:this.ful,className:"fa fa-arrows-alt custom-preview-icon",command:this.ful,context:this.ful,attributes:{title:"Fullscreen"}}]},{id:"views",buttons:[{id:this.obl,className:"fa fa-th-large custom-preview-icon",command:this.obl,active:!0,togglable:!0,attributes:{title:"Open Components"}},{id:this.osm,className:"fa fa-paint-brush custom-preview-icon",command:this.osm,togglable:!0,attributes:{title:"Open Style Manager"}},{id:this.otm,className:"fa fa-cog custom-preview-icon",command:this.otm,togglable:!0,attributes:{title:"Settings"}},{id:this.ola,className:"fa fa-bars custom-preview-icon",command:this.ola,togglable:!0,attributes:{title:"Open Layer Manager"}}]}]},deviceManager:{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}}),this.editor.on("load",()=>{let r=this.editor.UndoManager;[...this.editor.AssetManager.getAll()].forEach(e=>{if(e.get("type")==="css"){let t=document.createElement("link");t.rel="stylesheet",t.href=e.get("src"),document.head.appendChild(t)}}),this.content&&(this.editor.setComponents(this.content),r.clear())}),this.editor.on("component:add",(r,e)=>{r.setAttributes(Cn(Yt({},r.getAttributes()),{"data-custom-page":"true"})),r.attributes.components.models.forEach(t=>{t.setAttributes(Cn(Yt({},t.getAttributes()),{"data-custom-page":"true"}))})}),this.editor.on("block:drag:stop",(r,e)=>{}),this.editor.on("update",()=>{let r=this.editor.getHtml({cleanId:!0});this.contentChanged.emit(r);let e=r.match(/<body[^>]*>([\s\S]*?)<\/body>/i),i=(e?e[1].trim():"").replace(/<[^>]+>/g,"").trim().length>0;this.contentValid.emit(i)}),Ou.IMAGE_CROP&&this.attachImageUploadEvents()}getEditorContent(){return{Html:this.editor.getHtml({cleanId:!0}),Css:this.editor.getCss()}}searchInput(r){this.searchText=r.target.value.toLowerCase();let e=document.querySelectorAll(".gjs-block"),t=document.querySelectorAll(".gjs-block-category.gjs-open"),n=!1;e.forEach(i=>{let s=i.getAttribute("title").toLowerCase();s&&s.includes(this.searchText)?(i.style.display="block",n=!0):i.style.display="none"}),n?t.forEach(i=>{i.style.display="block"}):t.forEach(i=>{i.style.display="none"})}addSearchInputField(){let r=document.createElement("div");r.classList.add("search-container"),r.classList.add("component-search-container");let e=document.createElement("input"),t=document.createElement("img");t.setAttribute("src","assets/images/search.svg"),e.setAttribute("type","text"),e.setAttribute("name","search"),e.setAttribute("id","componentSearch"),e.setAttribute("placeholder","Search"),e.addEventListener("input",this.searchInput),r.appendChild(e),r.appendChild(t),setTimeout(()=>{document.querySelector(".gjs-block-categories")?.prepend(r)},3e3)}attachImageUploadEvents(){this.editor.on("asset:upload:response",r=>{r.data.length==1&&this.dialog.open(Qs,{width:"400px",data:{files:r.data[0].src,type:"binary"}}).afterClosed().subscribe(t=>dr(this,null,function*(){if(t?.data){let n=yield t?.data;this.editor.AssetManager.add({src:n,name:"Uploaded Image"}),this.editor.getSelected().addAttributes({src:n})}}))})}static \u0275fac=function(e){return new(e||o)(Gt(Du),Gt(Xd),Gt(Is),Gt(Ps))};static \u0275cmp=Lt({type:o,selectors:[["app-page-builder-editor"]],viewQuery:function(e,t){if(e&1&&Dn(fT,7),e&2){let n;un(n=dn())&&(t.editorContainer=n.first)}},inputs:{pageDetails:"pageDetails",content:"content",controlname:"controlname",class:"class",id:"id",label:"label",required:"required"},outputs:{onSave:"onSave",contentChanged:"contentChanged",contentValid:"contentValid",contentChange:"contentChange"},decls:5,vars:3,consts:[["editorContainer",""],[3,"for",4,"ngIf"],["id","grapesJsEditor",1,"gjs-container","builder-invalid"],[3,"for"],["class","required-asterik",4,"ngIf"],[1,"required-asterik"]],template:function(e,t){e&1&&(et(0,hT,3,3,"label",1),te(1,"div"),pt(2,"div",2)(3,"div",null,0),ae()),e&2&&(ie("ngIf",t.label),X(),An(t.class))},dependencies:[$t,fn],styles:[".rd-container-header[_ngcontent-%COMP%]{height:70px;align-items:center;margin:0}.builder-container[_ngcontent-%COMP%]{height:calc(100% - 70px)!important}.title-loader[_ngcontent-%COMP%]{width:350px}  .gjs-field-download{background-color:transparent!important}  .is-invalid{border:1px solid #e63f3d!important}  .gjs-field-downloadattribute{background-color:transparent!important}  .custom-preview-icon:before{font-family:FontAwesome}  .builder-header .form-container{width:100%!important;margin:0!important;max-width:100%!important;border:none!important;padding:0!important;margin-bottom:2rem!important;display:flex!important;flex-direction:column-reverse!important}  .builder-header .form-container .rd-form-footer{margin-top:0!important;border:none!important;justify-content:end!important;padding-top:0!important;padding-bottom:0!important;justify-content:space-between!important;margin-bottom:1.5rem!important}  .builder-header .form-container .col-12.col-md-12{display:flex;flex-direction:column-reverse}"]})};var Cc=class{static permissionValidator(r){return[...r.value].some(t=>t.SubPermission.some(n=>n.Checked))?null:{permissionLength:{actual:0,expected:1}}}static noWhitespaceValidator(r){return!((r.value||"").trim().length===0)?null:{whitespace:!0}}static pageBuilderRequired(r){return(r.value||"").replace(/<[^>]+>/g,"").trim()?null:{pagebuilder:!0}}};var Jd=class o{constructor(){}toFormGroup(r){let e={};return r.forEach(t=>{e[t.control]=t.required?new Va(t.value??"",t.validations):new Va(t.value??"")}),new nm(e)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Br({token:o,factory:o.\u0275fac,providedIn:"root"})};var gT=o=>["textarea-input",o];function vT(o,r){o&1&&(te(0,"span",8),$e(1,"*"),ae())}function mT(o,r){if(o&1&&(te(0,"span",9),$e(1),ae()),o&2){let e,t=ne(2);X(),La("(",!((e=t.form.get(t.controlName))==null||e.value==null)&&e.value.replaceAll("\r","").length?(e=t.form.get(t.controlName))==null||e.value==null?null:e.value.replaceAll("\r","").length:0,"/",t.maxLength,")")}}function yT(o,r){if(o&1&&(te(0,"div",1)(1,"div",2)(2,"label",3),$e(3),et(4,vT,2,0,"span",4)(5,mT,2,2,"span",5),ae(),te(6,"div",6),pt(7,"textarea",7),ae()()()),o&2){let e=ne();X(),ie("formGroup",e.form),X(),ie("for",e.id),X(),qt("",e.label," "),X(),ie("ngIf",e.required),X(),ie("ngIf",e.maxLength),X(2),ie("maxlength",e.maxLength)("rows",e.rows)("ngClass",Cr(12,gT,e.class))("name",e.controlName)("id",e.id)("placeholder",e.placeholder)("formControlName",e.controlName)}}var ef=class o{characters=0;label;id;class;placeholder;value="";maxLength=255;rows;required=!1;controlName;form;onChange=new Xe;ngOnInit(){this.form.get(this.controlName)?.valueChanges.subscribe(r=>{this.onChange.emit({form:this.form,control:this.controlName,value:r})})}get textarea(){return this.form.get(this.controlName)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=Lt({type:o,selectors:[["rd-textarea"]],inputs:{label:"label",id:"id",class:"class",placeholder:"placeholder",value:"value",maxLength:"maxLength",rows:"rows",required:"required",controlName:"controlName",form:"form"},outputs:{onChange:"onChange"},decls:1,vars:1,consts:[["class","control-container",4,"ngIf"],[1,"control-container"],[1,"form",3,"formGroup"],[3,"for"],["class","required-asterik",4,"ngIf"],["class","character-count",4,"ngIf"],[1,"input-wrapper"],[3,"maxlength","rows","ngClass","name","id","placeholder","formControlName"],[1,"required-asterik"],[1,"character-count"]],template:function(e,t){e&1&&et(0,yT,8,14,"div",0),e&2&&ie("ngIf",t.form)},dependencies:[$t,Hi,fn,ci,oi,Sr,ai,im,zr,si],encapsulation:2})};var tf=new fr("MAT_DATE_LOCALE",{providedIn:"root",factory:q1});function q1(){return Ye(Gv)}var el="Method not implemented",nr=class{locale;_localeChanges=new Wt;localeChanges=this._localeChanges;setTime(r,e,t,n){throw new Error(el)}getHours(r){throw new Error(el)}getMinutes(r){throw new Error(el)}getSeconds(r){throw new Error(el)}parseTime(r,e){throw new Error(el)}addSeconds(r,e){throw new Error(el)}getValidDateOrNull(r){return this.isDateInstance(r)&&this.isValid(r)?r:null}deserialize(r){return r==null||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid()}setLocale(r){this.locale=r,this._localeChanges.next()}compareDate(r,e){return this.getYear(r)-this.getYear(e)||this.getMonth(r)-this.getMonth(e)||this.getDate(r)-this.getDate(e)}compareTime(r,e){return this.getHours(r)-this.getHours(e)||this.getMinutes(r)-this.getMinutes(e)||this.getSeconds(r)-this.getSeconds(e)}sameDate(r,e){if(r&&e){let t=this.isValid(r),n=this.isValid(e);return t&&n?!this.compareDate(r,e):t==n}return r==e}sameTime(r,e){if(r&&e){let t=this.isValid(r),n=this.isValid(e);return t&&n?!this.compareTime(r,e):t==n}return r==e}clampDate(r,e,t){return e&&this.compareDate(r,e)<0?e:t&&this.compareDate(r,t)>0?t:r}},ao=new fr("mat-date-formats");var $1=new fr("MAT_INPUT_VALUE_ACCESSOR");var bT=["mat-calendar-body",""];function wT(o,r){return this._trackRow(r)}var i_=(o,r)=>r.id;function CT(o,r){if(o&1&&(te(0,"tr",0)(1,"td",3),$e(2),ae()()),o&2){let e=ne();X(),po("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),xn("colspan",e.numCols),X(),qt(" ",e.label," ")}}function xT(o,r){if(o&1&&(te(0,"td",3),$e(1),ae()),o&2){let e=ne(2);po("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),xn("colspan",e._firstRowOffset),X(),qt(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function AT(o,r){if(o&1){let e=Ct();te(0,"td",6)(1,"button",7),qe("click",function(n){let i=Ne(e).$implicit,s=ne(2);return He(s._cellClicked(i,n))})("focus",function(n){let i=Ne(e).$implicit,s=ne(2);return He(s._emitActiveDateChange(i,n))}),te(2,"span",8),$e(3),ae(),pt(4,"span",9),ae()()}if(o&2){let e=r.$implicit,t=r.$index,n=ne().$index,i=ne();po("width",i._cellWidth)("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),xn("data-mat-row",n)("data-mat-col",t),X(),jr("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",i._isActiveCell(n,t))("mat-calendar-body-range-start",i._isRangeStart(e.compareValue))("mat-calendar-body-range-end",i._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",i._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",i._isComparisonBridgeStart(e.compareValue,n,t))("mat-calendar-body-comparison-bridge-end",i._isComparisonBridgeEnd(e.compareValue,n,t))("mat-calendar-body-comparison-start",i._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",i._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",i._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",i._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",i._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",i._isInPreview(e.compareValue)),ie("ngClass",e.cssClasses)("tabindex",i._isActiveCell(n,t)?0:-1),xn("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",i._isSelected(e.compareValue))("aria-current",i.todayValue===e.compareValue?"date":null)("aria-describedby",i._getDescribedby(e.compareValue)),X(),jr("mat-calendar-body-selected",i._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",i._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",i.todayValue===e.compareValue),X(),qt(" ",e.displayValue," ")}}function ST(o,r){if(o&1&&(te(0,"tr",1),et(1,xT,2,6,"td",4),Pa(2,AT,5,48,"td",5,i_),ae()),o&2){let e=r.$implicit,t=r.$index,n=ne();X(),zl(t===0&&n._firstRowOffset?1:-1),X(),Ia(e)}}function ET(o,r){if(o&1&&(te(0,"th",2)(1,"span",6),$e(2),ae(),te(3,"span",3),$e(4),ae()()),o&2){let e=r.$implicit;X(2),Kt(e.long),X(2),Kt(e.narrow)}}var TT=["*"];function OT(o,r){}function DT(o,r){if(o&1){let e=Ct();te(0,"mat-month-view",4),As("activeDateChange",function(n){Ne(e);let i=ne();return xs(i.activeDate,n)||(i.activeDate=n),He(n)}),qe("_userSelection",function(n){Ne(e);let i=ne();return He(i._dateSelected(n))})("dragStarted",function(n){Ne(e);let i=ne();return He(i._dragStarted(n))})("dragEnded",function(n){Ne(e);let i=ne();return He(i._dragEnded(n))}),ae()}if(o&2){let e=ne();Cs("activeDate",e.activeDate),ie("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function MT(o,r){if(o&1){let e=Ct();te(0,"mat-year-view",5),As("activeDateChange",function(n){Ne(e);let i=ne();return xs(i.activeDate,n)||(i.activeDate=n),He(n)}),qe("monthSelected",function(n){Ne(e);let i=ne();return He(i._monthSelectedInYearView(n))})("selectedChange",function(n){Ne(e);let i=ne();return He(i._goToDateInView(n,"month"))}),ae()}if(o&2){let e=ne();Cs("activeDate",e.activeDate),ie("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function kT(o,r){if(o&1){let e=Ct();te(0,"mat-multi-year-view",6),As("activeDateChange",function(n){Ne(e);let i=ne();return xs(i.activeDate,n)||(i.activeDate=n),He(n)}),qe("yearSelected",function(n){Ne(e);let i=ne();return He(i._yearSelectedInMultiYearView(n))})("selectedChange",function(n){Ne(e);let i=ne();return He(i._goToDateInView(n,"year"))}),ae()}if(o&2){let e=ne();Cs("activeDate",e.activeDate),ie("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function PT(o,r){}var IT=["button"],LT=[[["","matDatepickerToggleIcon",""]]],VT=["[matDatepickerToggleIcon]"];function RT(o,r){o&1&&(uo(),te(0,"svg",2),pt(1,"path",3),ae())}var ol=(()=>{class o{changes=new Wt;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Br({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),FT=0,Sc=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=FT++;constructor(r,e,t,n,i={},s=r,c){this.value=r,this.displayValue=e,this.ariaLabel=t,this.enabled=n,this.cssClasses=i,this.compareValue=s,this.rawValue=c}},NT={passive:!1,capture:!0},nf={passive:!0,capture:!0},Q1={passive:!0},il=(()=>{class o{_elementRef=Ye(ka);_ngZone=Ye(Ma);_platform=Ye(cm);_intl=Ye(ol);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new Xe;previewChange=new Xe;activeDateChange=new Xe;dragStarted=new Xe;dragEnded=new Xe;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=Ye(Bl);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=Ye(ip),t=Ye(ks);this._startDateLabelId=t.getId("mat-calendar-body-start-"),this._endDateLabelId=t.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=t.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=t.getId("mat-calendar-body-comparison-end-"),Ye(Ra).load(gm),this._ngZone.runOutsideAngular(()=>{let n=this._elementRef.nativeElement,i=[Er(e,n,"touchmove",this._touchmoveHandler,NT),Er(e,n,"mouseenter",this._enterHandler,nf),Er(e,n,"focus",this._enterHandler,nf),Er(e,n,"mouseleave",this._leaveHandler,nf),Er(e,n,"blur",this._leaveHandler,nf),Er(e,n,"mousedown",this._mousedownHandler,Q1),Er(e,n,"touchstart",this._mousedownHandler,Q1)];this._platform.isBrowser&&i.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=i})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:n,numCols:i}=this;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/i}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/i}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,t){let n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(e=!0){jl(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Fh(e,this.startValue,this.endValue)}_isRangeEnd(e){return Nh(e,this.startValue,this.endValue)}_isInRange(e){return Hh(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Fh(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,n){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let i=this.rows[t][n-1];if(!i){let s=this.rows[t-1];i=s&&s[s.length-1]}return i&&!this._isRangeEnd(i.compareValue)}_isComparisonBridgeEnd(e,t,n){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let i=this.rows[t][n+1];if(!i){let s=this.rows[t+1];i=s&&s[0]}return i&&!this._isRangeStart(i.compareValue)}_isComparisonEnd(e){return Nh(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Hh(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Fh(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Nh(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Hh(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let t=X1(e),n=t?this._getCellFromElement(t):null;t!==e.target&&(this._didDragSinceMouseDown=!0),Rh(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:n?.enabled?n:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let t=e.target&&this._getCellFromElement(e.target);!t||!this._isInRange(t.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:t.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let t=Rh(e.target);if(!t){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}t.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let n=this._getCellFromElement(t);this.dragEnded.emit({value:n?.rawValue??null,event:e})})};_touchendHandler=e=>{let t=X1(e);t&&this._mouseupHandler({target:t})};_getCellFromElement(e){let t=Rh(e);if(t){let n=t.getAttribute("data-mat-row"),i=t.getAttribute("data-mat-col");if(n&&i)return this.rows[parseInt(n)][parseInt(i)]}return null}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Hn],attrs:bT,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,n){t&1&&(et(0,CT,3,6,"tr",0),Pa(1,ST,4,1,"tr",1,wT,!0),te(3,"span",2),$e(4),ae(),te(5,"span",2),$e(6),ae(),te(7,"span",2),$e(8),ae(),te(9,"span",2),$e(10),ae()),t&2&&(zl(n._firstRowOffset<n.labelMinRequiredCells?0:-1),X(),Ia(n.rows),X(2),ie("id",n._startDateLabelId),X(),qt(" ",n.startDateAccessibleName,`
`),X(),ie("id",n._endDateLabelId),X(),qt(" ",n.endDateAccessibleName,`
`),X(),ie("id",n._comparisonStartDateLabelId),X(),La(" ",n.comparisonDateAccessibleName," ",n.startDateAccessibleName,`
`),X(),ie("id",n._comparisonEndDateLabelId),X(),La(" ",n.comparisonDateAccessibleName," ",n.endDateAccessibleName,`
`))},dependencies:[Hi],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return o})();function Vh(o){return o?.nodeName==="TD"}function Rh(o){let r;return Vh(o)?r=o:Vh(o.parentNode)?r=o.parentNode:Vh(o.parentNode?.parentNode)&&(r=o.parentNode.parentNode),r?.getAttribute("data-mat-row")!=null?r:null}function Fh(o,r,e){return e!==null&&r!==e&&o<e&&o===r}function Nh(o,r,e){return r!==null&&r!==e&&o>=r&&o===e}function Hh(o,r,e,t){return t&&r!==null&&e!==null&&r!==e&&o>=r&&o<=e}function X1(o){let r=o.changedTouches[0];return document.elementFromPoint(r.clientX,r.clientY)}var Ki=class{start;end;_disableStructuralEquivalency;constructor(r,e){this.start=r,this.end=e}},Ec=(()=>{class o{selection;_adapter;_selectionChanged=new Wt;selectionChanged=this._selectionChanged;constructor(e,t){this.selection=e,this._adapter=t,this.selection=e}updateSelection(e,t){let n=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(t){Uv()};static \u0275prov=Br({token:o,factory:o.\u0275fac})}return o})(),HT=(()=>{class o extends Ec{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new o(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(t){return new(t||o)(ys(nr))};static \u0275prov=Br({token:o,factory:o.\u0275fac})}return o})();function BT(o,r){return o||new HT(r)}var o_={provide:Ec,deps:[[new Fv,new Nv,Ec],nr],useFactory:BT};var a_=new fr("MAT_DATE_RANGE_SELECTION_STRATEGY");var Bh=7,jT=0,J1=(()=>{class o{_changeDetectorRef=Ye(xr);_dateFormats=Ye(ao,{optional:!0});_dateAdapter=Ye(nr,{optional:!0});_dir=Ye(oa,{optional:!0});_rangeStrategy=Ye(a_,{optional:!0});_rerenderSubscription=yr.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Ki?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new Xe;_userSelection=new Xe;dragStarted=new Xe;dragEnded=new Xe;activeDateChange=new Xe;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){Ye(Ra).load(Cu),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Oa(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,n=this._getDateFromDayOfMonth(t),i,s;this._selected instanceof Ki?(i=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):i=s=this._getDateInCurrentMonth(this._selected),(i!==t||s!==t)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!Fa(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Bh+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Bh,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let n=t?t.rawValue:null,i=this._rangeStrategy.createPreview(n,this.selected,e);if(this._previewStart=this._getCellCompareValue(i.start),this._previewEnd=this._getCellCompareValue(i.end),this.activeDrag&&n){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,n,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),i=this._dateAdapter.getDayOfWeekNames("long").map((s,c)=>({long:s,narrow:t[c],id:jT++}));this._weekdays=i.slice(e).concat(i.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,i=this._firstWeekOffset;n<e;n++,i++){i==Bh&&(this._weeks.push([]),i=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),c=this._shouldEnableDate(s),u=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Sc(n+1,t[n],u,c,d,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),n=this._dateAdapter.getMonth(e),i=this._dateAdapter.getDate(e);return new Date(t,n,i).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Ki?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["mat-month-view"]],viewQuery:function(t,n){if(t&1&&Dn(il,5),t&2){let i;un(i=dn())&&(n._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Hn],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,n){t&1&&(te(0,"table",0)(1,"thead",1)(2,"tr"),Pa(3,ET,5,2,"th",2,i_),ae(),te(5,"tr",3),pt(6,"th",4),ae()(),te(7,"tbody",5),qe("selectedValueChange",function(s){return n._dateSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("previewChange",function(s){return n._previewChanged(s)})("dragStarted",function(s){return n.dragStarted.emit(s)})("dragEnded",function(s){return n._dragEnded(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),ae()()),t&2&&(X(3),Ia(n._weekdays),X(4),ie("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[il],encapsulation:2,changeDetection:0})}return o})(),Li=24,jh=4,e_=(()=>{class o{_changeDetectorRef=Ye(xr);_dateAdapter=Ye(nr,{optional:!0});_dir=Ye(oa,{optional:!0});_rerenderSubscription=yr.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),s_(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Ki?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new Xe;yearSelected=new Xe;activeDateChange=new Xe;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Oa(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate)-xc(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,i=[];n<Li;n++)i.push(t+n),i.length==jh&&(this._years.push(i.map(s=>this._createCellForYear(s))),i=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,n=this._dateAdapter.createDate(t,0,1),i=this._getDateFromYear(t);this.yearSelected.emit(n),this.selectedChange.emit(i)}_updateActiveDate(e){let t=e.value,n=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-jh);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,jh);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-xc(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Li-xc(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Li*10:-Li);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Li*10:Li);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return xc(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),n=this._dateAdapter.getYearName(t),i=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new Sc(e,n,n,this._shouldEnableYear(e),i)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let n=t;this._dateAdapter.getYear(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ki){let t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["mat-multi-year-view"]],viewQuery:function(t,n){if(t&1&&Dn(il,5),t&2){let i;un(i=dn())&&(n._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,n){t&1&&(te(0,"table",0)(1,"thead",1)(2,"tr"),pt(3,"th",2),ae()(),te(4,"tbody",3),qe("selectedValueChange",function(s){return n._yearSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),ae()()),t&2&&(X(4),ie("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[il],encapsulation:2,changeDetection:0})}return o})();function s_(o,r,e,t,n){let i=o.getYear(r),s=o.getYear(e),c=l_(o,t,n);return Math.floor((i-c)/Li)===Math.floor((s-c)/Li)}function xc(o,r,e,t){let n=o.getYear(r);return zT(n-l_(o,e,t),Li)}function l_(o,r,e){let t=0;return e?t=o.getYear(e)-Li+1:r&&(t=o.getYear(r)),t}function zT(o,r){return(o%r+r)%r}var t_=(()=>{class o{_changeDetectorRef=Ye(xr);_dateFormats=Ye(ao,{optional:!0});_dateAdapter=Ye(nr,{optional:!0});_dir=Ye(oa,{optional:!0});_rerenderSubscription=yr.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Ki?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new Xe;monthSelected=new Xe;activeDateChange=new Xe;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Oa(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(n);let i=this._getDateFromMonth(t);this.selectedChange.emit(i)}_updateActiveDate(e){let t=e.value,n=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(n=>this._createCellForMonth(n,e[n]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),n=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForMonth(e,t){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(n,"year"):void 0;return new Sc(e,t.toLocaleUpperCase(),i,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(t,e,1);for(let i=n;this._dateAdapter.getMonth(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>i}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<i}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Ki?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["mat-year-view"]],viewQuery:function(t,n){if(t&1&&Dn(il,5),t&2){let i;un(i=dn())&&(n._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,n){t&1&&(te(0,"table",0)(1,"thead",1)(2,"tr"),pt(3,"th",2),ae()(),te(4,"tbody",3),qe("selectedValueChange",function(s){return n._monthSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),ae()()),t&2&&(X(4),ie("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[il],encapsulation:2,changeDetection:0})}return o})(),c_=(()=>{class o{_intl=Ye(ol);calendar=Ye(zh);_dateAdapter=Ye(nr,{optional:!0});_dateFormats=Ye(ao,{optional:!0});constructor(){Ye(Ra).load(Cu);let e=Ye(xr);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Li)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Li)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):s_(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-xc(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=t+Li-1,i=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1));return[i,s]}_periodButtonLabelId=Ye(ks).getId("mat-calendar-period-label-");static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:TT,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(t,n){t&1&&(Ul(),te(0,"div",0)(1,"div",1)(2,"span",2),$e(3),ae(),te(4,"button",3),qe("click",function(){return n.currentPeriodClicked()}),te(5,"span",4),$e(6),ae(),uo(),te(7,"svg",5),pt(8,"polygon",6),ae()(),Hl(),pt(9,"div",7),Wl(10),te(11,"button",8),qe("click",function(){return n.previousClicked()}),uo(),te(12,"svg",9),pt(13,"path",10),ae()(),Hl(),te(14,"button",11),qe("click",function(){return n.nextClicked()}),uo(),te(15,"svg",9),pt(16,"path",12),ae()()()()),t&2&&(X(2),ie("id",n._periodButtonLabelId),X(),Kt(n.periodButtonDescription),X(),xn("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),X(2),Kt(n.periodButtonText),X(),jr("mat-calendar-invert",n.calendar.currentView!=="month"),X(4),ie("disabled",!n.previousEnabled()),xn("aria-label",n.prevButtonLabel),X(3),ie("disabled",!n.nextEnabled()),xn("aria-label",n.nextButtonLabel))},dependencies:[up,cp],encapsulation:2,changeDetection:0})}return o})(),zh=(()=>{class o{_dateAdapter=Ye(nr,{optional:!0});_dateFormats=Ye(ao,{optional:!0});_changeDetectorRef=Ye(xr);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof Ki?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new Xe;yearSelected=new Xe;monthSelected=new Xe;viewChanged=new Xe(!0);_userSelection=new Xe;_userDragDrop=new Xe;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}_currentView;_activeDrag=null;stateChanges=new Wt;constructor(){this._intlChanges=Ye(ol).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new sp(this.headerComponent||c_),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,n=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,i=t||n||e.dateFilter;if(i&&!i.firstChange){let s=this._getCurrentViewComponent();s&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let t=e.value;(this.selected instanceof Ki||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["mat-calendar"]],viewQuery:function(t,n){if(t&1&&(Dn(J1,5),Dn(t_,5),Dn(e_,5)),t&2){let i;un(i=dn())&&(n.monthView=i.first),un(i=dn())&&(n.yearView=i.first),un(i=dn())&&(n.multiYearView=i.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[ii([o_]),Hn],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,n){if(t&1&&(et(0,OT,0,0,"ng-template",0),te(1,"div",1),et(2,DT,1,11,"mat-month-view",2)(3,MT,1,6,"mat-year-view",3)(4,kT,1,6,"mat-multi-year-view",3),ae()),t&2){let i;ie("cdkPortalOutlet",n._calendarHeaderPortal),X(2),zl((i=n.currentView)==="month"?2:i==="year"?3:i==="multi-year"?4:-1)}},dependencies:[lp,um,J1,t_,e_],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return o})(),u_=new fr("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let o=Ye(Au);return()=>o.scrollStrategies.reposition()}});function UT(o){return()=>o.scrollStrategies.reposition()}var WT={provide:u_,deps:[Au],useFactory:UT},d_=(()=>{class o{_elementRef=Ye(ka);_animationsDisabled=Ye(jv,{optional:!0})==="NoopAnimations";_changeDetectorRef=Ye(xr);_globalModel=Ye(Ec);_dateAdapter=Ye(nr);_ngZone=Ye(Ma);_rangeSelectionStrategy=Ye(a_,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new Wt;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(Ye(Ra).load(Cu),this._closeButtonText=Ye(ol).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,t=Ye(ip);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"animationstart",this._handleAnimationEvent),t.listen(e,"animationend",this._handleAnimationEvent),t.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,n=e.value,i=t instanceof Ki;if(i&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(n,t,e.event);this._model.updateSelection(s,this)}else n&&(i||!this._dateAdapter.sameDate(n,t))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let t=this._elementRef.nativeElement;e.target!==t||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",t.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["mat-datepicker-content"]],viewQuery:function(t,n){if(t&1&&Dn(zh,5),t&2){let i;un(i=dn())&&(n._calendar=i.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(t,n){t&2&&(An(n.color?"mat-"+n.color:""),jr("mat-datepicker-content-touch",n.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!n._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,n){if(t&1&&(te(0,"div",0)(1,"mat-calendar",1),qe("yearSelected",function(s){return n.datepicker._selectYear(s)})("monthSelected",function(s){return n.datepicker._selectMonth(s)})("viewChanged",function(s){return n.datepicker._viewChanged(s)})("_userSelection",function(s){return n._handleUserSelection(s)})("_userDragDrop",function(s){return n._handleUserDragDrop(s)}),ae(),et(2,PT,0,0,"ng-template",2),te(3,"button",3),qe("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),$e(4),ae()()),t&2){let i;jr("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),xn("aria-modal",!0)("aria-labelledby",(i=n._dialogLabelId)!==null&&i!==void 0?i:void 0),X(),An(n.datepicker.panelClass),ie("id",n.datepicker.id)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),X(),ie("cdkPortalOutlet",n._actionsPortal),X(),jr("cdk-visually-hidden",!n._closeButtonFocused),ie("color",n.color||"primary"),X(),Kt(n._closeButtonText)}},dependencies:[fm,zh,lp,up],styles:["@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,changeDetection:0})}return o})(),n_=(()=>{class o{_overlay=Ye(Au);_viewContainerRef=Ye(hu);_dateAdapter=Ye(nr,{optional:!0});_dir=Ye(oa,{optional:!0});_model=Ye(Ec);_scrollStrategy=Ye(u_);_inputStateChanges=yr.EMPTY;_document=Ye(Zl);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new Xe;monthSelected=new Xe;viewChanged=new Xe(!0);dateClass;openedStream=new Xe;closedStream=new Xe;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=vm(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=Ye(ks).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new Wt;_injector=Ye(Bl);_changeDetectorRef=Ye(xr);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let n=this._overlayRef.getConfig().positionStrategy;n instanceof wm&&(this._setConnectedPositions(n),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=lm(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:n,location:i}=this._componentRef;n._animationDone.pipe(fu(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||i.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),n._startExitAnimation()}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new sp(d_,this._viewContainerRef),n=this._overlayRef=this._overlay.create(new bm({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(n).subscribe(i=>{i&&i.preventDefault(),this.close()}),n.keydownEvents().subscribe(i=>{let s=i.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&i.preventDefault()}),this._componentRef=n.attach(t),this._forwardContentValues(this._componentRef.instance),e||jl(()=>{n.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",n=t==="start"?"end":"start",i=this.yPosition==="above"?"bottom":"top",s=i==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:s,overlayX:t,overlayY:i},{originX:t,originY:i,overlayX:t,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:i},{originX:n,originY:i,overlayX:n,overlayY:s}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return ro(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Iv(n=>n.keyCode===27&&!Fa(n)||this.datepickerInput&&Fa(n,"altKey")&&n.keyCode===38&&t.every(i=>!Fa(n,i)))))}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Eo({type:o,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Ni],disabled:[2,"disabled","disabled",Ni],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Ni],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Ni]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Hn]})}return o})(),f_=(()=>{class o extends n_{static \u0275fac=(()=>{let e;return function(n){return(e||(e=Hv(o)))(n||o)}})();static \u0275cmp=Lt({type:o,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[ii([o_,{provide:n_,useExisting:o}]),Oi],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0})}return o})(),tl=class{target;targetElement;value;constructor(r,e){this.target=r,this.targetElement=e,this.value=this.target.value}},GT=(()=>{class o{_elementRef=Ye(ka);_dateAdapter=Ye(nr,{optional:!0});_dateFormats=Ye(ao,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&n.blur&&n.blur()}_disabled;dateChange=new Xe;dateInput=new Xe;stateChanges=new Wt;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=yr.EMPTY;_localeSubscription=yr.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!t||this._matchesFilter(t)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this._getMinDate();return!n||!t||this._dateAdapter.compareDate(n,t)<=0?null:{matDatepickerMin:{min:n,actual:t}}};_maxValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this._getMaxDate();return!n||!t||this._dateAdapter.compareDate(n,t)>=0?null:{matDatepickerMax:{max:n,actual:t}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let n=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(n),this._cvaOnChange(n),this._onTouched(),this._formatValue(n),this.dateInput.emit(new tl(this,this._elementRef.nativeElement)),this.dateChange.emit(new tl(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){YT(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];Fa(e,"altKey")&&e.keyCode===40&&t.every(i=>!Fa(e,i))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=this._lastValueValid,n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);let i=!this._dateAdapter.sameDate(n,this.value);!n||i?this._cvaOnChange(n):(e&&!this.value&&this._cvaOnChange(n),t!==this._lastValueValid&&this._validatorOnChange()),i&&(this._assignValue(n),this.dateInput.emit(new tl(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new tl(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Eo({type:o,inputs:{value:"value",disabled:[2,"disabled","disabled",Ni]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Hn]})}return o})();function YT(o,r){let e=Object.keys(o);for(let t of e){let{previousValue:n,currentValue:i}=o[t];if(r.isDateInstance(n)&&r.isDateInstance(i)){if(!r.sameDate(n,i))return!0}else return!0}return!1}var ZT={provide:_u,useExisting:Da(()=>lf),multi:!0},KT={provide:tm,useExisting:Da(()=>lf),multi:!0},lf=(()=>{class o extends GT{_formField=Ye(Am,{optional:!0});_closedSubscription=yr.EMPTY;_openedSubscription=yr.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=fo(null);get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=Bi.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Eo({type:o,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,n){t&1&&qe("input",function(s){return n._onInput(s.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)}),t&2&&(Wv("disabled",n.disabled),xn("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",n._ariaOwns())("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[ii([ZT,KT,{provide:$1,useExisting:o}]),Oi]})}return o})(),qT=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=Eo({type:o,selectors:[["","matDatepickerToggleIcon",""]]})}return o})(),Gh=(()=>{class o{_intl=Ye(ol);_changeDetectorRef=Ye(xr);_stateChanges=yr.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=Ye(new Bv("tabindex"),{optional:!0}),t=Number(e);this.tabIndex=t||t===0?t:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:Ti(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ti(),n=this.datepicker?ro(this.datepicker.openedStream,this.datepicker.closedStream):Ti();this._stateChanges.unsubscribe(),this._stateChanges=ro(this._intl.changes,e,t,n).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,n,i){if(t&1&&Gl(i,qT,5),t&2){let s;un(s=dn())&&(n._customIcon=s.first)}},viewQuery:function(t,n){if(t&1&&Dn(IT,5),t&2){let i;un(i=dn())&&(n._button=i.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,n){t&1&&qe("click",function(s){return n._open(s)}),t&2&&(xn("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),jr("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&n.datepicker.color==="accent")("mat-warn",n.datepicker&&n.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Ni],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Hn],ngContentSelectors:VT,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,n){t&1&&(Ul(LT),te(0,"button",1,0),et(2,RT,2,0,":svg:svg",2),Wl(3),ae()),t&2&&(ie("disabled",n.disabled)("disableRipple",n.disableRipple),xn("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex)("aria-expanded",n.datepicker?n.datepicker.opened:null),X(2),zl(n._customIcon?-1:2))},dependencies:[cp],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return o})();var p_=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=ws({type:o});static \u0275inj=ms({providers:[ol,WT],imports:[xm,Cm,pm,_m,hm,d_,Gh,c_,xu]})}return o})();var QT=tp(dp(),1),h_=tp(dp(),1),qa=h_.default||QT,Yh=new fr("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:XT});function XT(){return{useUtc:!1}}function JT(o,r){let e=Array(o);for(let t=0;t<o;t++)e[t]=r(t);return e}var e9=(()=>{class o extends nr{_options=Ye(Yh,{optional:!0});_localeData;constructor(){super();let e=Ye(tf,{optional:!0});this.setLocale(e||qa.locale())}setLocale(e){super.setLocale(e);let t=qa.localeData(e);this._localeData={firstDayOfWeek:t.firstDayOfWeek(),longMonths:t.months(),shortMonths:t.monthsShort(),dates:JT(31,n=>this.createDate(2017,0,n+1).format("D")),longDaysOfWeek:t.weekdays(),shortDaysOfWeek:t.weekdaysShort(),narrowDaysOfWeek:t.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return e=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return e=="long"?this._localeData.longDaysOfWeek:e=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,t,n){let i=this._createMoment({year:e,month:t,date:n}).locale(this.locale);return i.isValid(),i}today(){return this._createMoment().locale(this.locale)}parse(e,t){return e&&typeof e=="string"?this._createMoment(e,t,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,t){return e=this.clone(e),this.isValid(e),e.format(t)}addCalendarYears(e,t){return this.clone(e).add({years:t})}addCalendarMonths(e,t){return this.clone(e).add({months:t})}addCalendarDays(e,t){return this.clone(e).add({days:t})}toIso8601(e){return this.clone(e).format()}deserialize(e){let t;if(e instanceof Date)t=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if(typeof e=="string"){if(!e)return null;t=this._createMoment(e,qa.ISO_8601).locale(this.locale)}return t&&this.isValid(t)?this._createMoment(t).locale(this.locale):super.deserialize(e)}isDateInstance(e){return qa.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return qa.invalid()}setTime(e,t,n,i){return this.clone(e).set({hours:t,minutes:n,seconds:i,milliseconds:0})}getHours(e){return e.hours()}getMinutes(e){return e.minutes()}getSeconds(e){return e.seconds()}parseTime(e,t){return this.parse(e,t)}addSeconds(e,t){return this.clone(e).add({seconds:t})}_createMoment(e,t,n){let{strict:i,useUtc:s}=this._options||{};return s?qa.utc(e,t,n,i):qa(e,t,n,i)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Br({token:o,factory:o.\u0275fac})}return o})(),t9={parse:{dateInput:"l",timeInput:"LT"},display:{dateInput:"l",timeInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY",timeOptionLabel:"LT"}};var g_=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=ws({type:o});static \u0275inj=ms({providers:[n9()]})}return o})();function n9(o=t9,r){let e=[{provide:nr,useClass:e9,deps:[tf,Yh]},{provide:ao,useValue:o}];return r&&e.push({provide:Yh,useValue:r}),e}var r9=["picker"],i9=["elementToFocus"];function o9(o,r){o&1&&(te(0,"span",12),$e(1,"*"),ae())}function a9(o,r){if(o&1){let e=Ct();te(0,"div",3)(1,"form",4)(2,"label",5),$e(3),et(4,o9,2,0,"span",6),ae(),te(5,"div",7),qe("focus",function(){Ne(e);let n=wr(12),i=ne();return He(i._openCalendar(n))})("click",function(){Ne(e);let n=wr(12),i=ne();return He(i._openCalendar(n))}),te(6,"input",8,0),qe("dateChange",function(n){Ne(e);let i=wr(12),s=ne();return He(s.onChange(n,i))})("focus",function(){Ne(e);let n=wr(12),i=ne();return He(i._openCalendar(n))})("click",function(){Ne(e);let n=wr(12),i=ne();return He(i._openCalendar(n))}),ae(),te(8,"div",9)(9,"div"),pt(10,"mat-datepicker-toggle",10),te(11,"mat-datepicker",11,1),qe("closed",function(n){Ne(e);let i=ne();return He(i._closeCalendar(n))}),ae()()()()()()}if(o&2){let e=wr(12),t=ne();X(),ie("formGroup",t.form),X(),ie("for",t.id),X(),qt("",t.label," "),X(),ie("ngIf",t.required),X(2),An(""),ie("type","text")("name",t.id)("id",t.id)("value",t.value)("placeholder",t.placeholder)("formControlName",t.controlName)("matDatepicker",e)("max",t.max?t.max:null)("min",t.min?t.min:null),X(4),ie("for",e)}}var cf=class o{max;min;label;id;value="";type;placeholder;required=!1;form;controlName;formate;dateChange=new Xe;datepicker;_input;static getFormats(r){return{parse:{dateInput:r},display:{dateInput:r,monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}}onChange(r,e){let t=r.value;t&&(this.dateChange.emit(t),e.close())}_openCalendar(r){r.open(),setTimeout(()=>this._input.nativeElement.focus())}_closeCalendar(r){setTimeout(()=>this._input.nativeElement.blur())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=Lt({type:o,selectors:[["rd-calendar"]],viewQuery:function(e,t){if(e&1&&(Dn(r9,5),Dn(i9,5)),e&2){let n;un(n=dn())&&(t.datepicker=n.first),un(n=dn())&&(t._input=n.first)}},inputs:{max:"max",min:"min",label:"label",id:"id",value:"value",type:"type",placeholder:"placeholder",required:"required",form:"form",controlName:"controlName",formate:"formate"},outputs:{dateChange:"dateChange"},features:[ii([{provide:ao,useFactory:r=>o.getFormats(r.formate),deps:[Da(()=>o)]}])],decls:1,vars:1,consts:[["elementToFocus",""],["picker",""],["class","control-container",4,"ngIf"],[1,"control-container"],[1,"form",3,"formGroup"],[3,"for"],["class","required-asterik",4,"ngIf"],[1,"input-wrapper",3,"focus","click"],["matInput","",1,"calendar-input","trailing-icon-input",3,"dateChange","focus","click","type","name","id","value","placeholder","formControlName","matDatepicker","max","min"],[1,"input-btn-group"],["matIconSuffix","",3,"for"],[3,"closed"],[1,"required-asterik"]],template:function(e,t){e&1&&et(0,a9,13,16,"div",2),e&2&&ie("ngIf",t.form)},dependencies:[$t,fn,ci,ra,oi,Sr,ai,zr,si,p_,f_,lf,Gh,g_],encapsulation:2})};function s9(o,r){o&1&&(te(0,"span",9),$e(1,"*"),ae())}function l9(o,r){if(o&1&&(te(0,"label",7),$e(1),et(2,s9,2,0,"span",8),ae()),o&2){let e=ne(2);ie("for",e.id),X(),qt("",e.label," "),X(),ie("ngIf",e.required)}}function c9(o,r){if(o&1&&(te(0,"div",10)(1,"small"),$e(2),ae()()),o&2){let e,t=ne(2);X(2),Kt((e=t.form.get(t.controlName))==null||e.errors==null?null:e.errors.invalid)}}function u9(o,r){if(o&1){let e=Ct();te(0,"div",1)(1,"form",2)(2,"div"),et(3,l9,3,3,"label",3),te(4,"div",4)(5,"input",5),qe("change",function(n){Ne(e);let i=ne();return He(i.timeChange(n))}),ae()()(),et(6,c9,3,1,"div",6),ae()()}if(o&2){let e,t,n=ne();X(),ie("formGroup",n.form),X(2),ie("ngIf",n.label),X(2),ie("min",n.min)("max",n.max)("name",n.id)("id",n.id)("placeholder",n.placeholder)("formControlName",n.controlName)("ngClass",!((e=n.form.get(n.controlName))==null||e.errors==null)&&e.errors.invalid?"invalid":""),X(),ie("ngIf",(t=n.form.get(n.controlName))==null?null:t.hasError("invalid"))}}var uf=class o{label;id;placeholder;required=!1;min="00:00";max="24:00";form;controlName;onChange=new Xe;timeChange(r){this.onChange.emit(r)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=Lt({type:o,selectors:[["rd-timepicker"]],inputs:{label:"label",id:"id",placeholder:"placeholder",required:"required",min:"min",max:"max",form:"form",controlName:"controlName"},outputs:{onChange:"onChange"},decls:1,vars:1,consts:[["class","control-container",4,"ngIf"],[1,"control-container"],[1,"form",3,"formGroup"],[3,"for",4,"ngIf"],[1,"input-wrapper"],["type","time",3,"change","min","max","name","id","placeholder","formControlName","ngClass"],["class","error-msg",4,"ngIf"],[3,"for"],["class","required-asterik",4,"ngIf"],[1,"required-asterik"],[1,"error-msg"]],template:function(e,t){e&1&&et(0,u9,7,10,"div",0),e&2&&ie("ngIf",t.form)},dependencies:[$t,Hi,fn,ci,ra,oi,Sr,ai,zr,si],encapsulation:2})};var d9=o=>({item:o});function f9(o,r){o&1&&(te(0,"span",7),$e(1,"*"),ae())}function p9(o,r){if(o&1&&(te(0,"label",5),$e(1),et(2,f9,2,0,"span",6),ae()),o&2){let e=ne();ie("for",e.id),X(),qt("",e.label," "),X(),ie("ngIf",e.required)}}function h9(o,r){if(o&1){let e=Ct();te(0,"div",10)(1,"small")(2,"span",11),$e(3),ae(),te(4,"span",12),qe("click",function(){let n=Ne(e).$implicit,i=ne().clear;return He(i(n))}),$e(5," \xD7 "),ae()()()}if(o&2){let e=r.$implicit,t=ne(2);X(3),qt(" ",e[t.bindLabel],"")}}function g9(o,r){if(o&1&&(te(0,"div",10)(1,"span",11),$e(2),ae()()),o&2){let e=ne().items,t=ne();X(2),qt("",e.length-t.max," more...")}}function v9(o,r){if(o&1&&et(0,h9,6,1,"div",8)(1,g9,3,1,"div",9),o&2){let e=r.items,t=ne();ie("ngForOf",e.slice(0,t.max)),X(),ie("ngIf",e.length>t.max)}}function m9(o,r){}function y9(o,r){if(o&1&&et(0,m9,0,0,"ng-template",14),o&2){let e=r.item,t=ne(2);ie("ngTemplateOutlet",t.optionTemplate)("ngTemplateOutletContext",Cr(2,d9,e))}}function _9(o,r){o&1&&et(0,y9,1,4,"ng-template",13)}var df=class o{searchInput$=new Wt;items$;id;label;data;placeholder;bindLabel;bindValue;searchKey;controlName;helpingText="Please start typing...";selectedItems=[];required=!1;multiselect=!1;checkbox=!1;loading=!1;disable=!1;form;max;onChange=new Xe;onSelect=new Xe;onDeSelect=new Xe;onClear=new Xe;searchFilter=new Xe;optionTemplate;labelTemplate;ngOnChanges(){this.items$=Ti(this.data)}ngOnInit(){this.loadItems()}trackByFn(r){if(this.searchKey)return r[this.searchKey];if(r.Id)return r.Id;if(r.PropertyId)return r.PropertyId}onDataSelect(r){}onClick(r){this.items$=Ti(this.data)}onDataChange(r){this.onChange.emit(Cn(Yt({},r),{control:this.controlName}))}onAdd(r){this.onSelect.emit(r)}onRemove(r){this.onDeSelect.emit(r)}onFilter(r){this.searchFilter.emit(r?.term)}loadItems(){this.items$=kv(Ti([]),this.searchInput$.pipe(Vv(),Nl(r=>{this.loading=!0}),pu(r=>this.filterData(r).pipe(Lv(()=>Ti([])),Nl(()=>this.loading=!1)))))}filterData(r){let e=this.data.filter(t=>t[this.searchKey].toLocaleLowerCase().indexOf(r?.toLocaleLowerCase())>-1);return Ti(e)}onDataClear(r){this.onClear.emit(r)}compareWith(r,e){let t=!1;return r[this.bindValue]&&e[this.bindValue]||r[this.bindValue]&&e?t=r[this.bindValue]===e[this.bindValue]||r[this.bindValue]===e:r&&e&&(t=r===e),t}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=Lt({type:o,selectors:[["rd-autocomplete"]],contentQueries:function(e,t,n){if(e&1&&(Gl(n,bs,5),Gl(n,bs,5)),e&2){let i;un(i=dn())&&(t.optionTemplate=i.first),un(i=dn())&&(t.labelTemplate=i.first)}},inputs:{id:"id",label:"label",data:"data",placeholder:"placeholder",bindLabel:"bindLabel",bindValue:"bindValue",searchKey:"searchKey",controlName:"controlName",helpingText:"helpingText",selectedItems:"selectedItems",required:"required",multiselect:"multiselect",checkbox:"checkbox",loading:"loading",disable:"disable",form:"form",max:"max"},outputs:{onChange:"onChange",onSelect:"onSelect",onDeSelect:"onDeSelect",onClear:"onClear",searchFilter:"searchFilter"},features:[Hn],decls:5,vars:16,consts:[[1,"control-container","custom-auto-complete"],[3,"for",4,"ngIf"],["aria-label","label",3,"ngModelChange","change","add","remove","clear","search","blur","click","id","addTag","items","bindLabel","bindValue","compareWith","disabled","multiple","trackByFn","loading","typeToSearchText","placeholder","typeahead","ngModel"],["ng-multi-label-tmp",""],[4,"ngIf"],[3,"for"],["class","required-asterik",4,"ngIf"],[1,"required-asterik"],["class","ng-value",4,"ngFor","ngForOf"],["class","ng-value",4,"ngIf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["ng-option-tmp",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){e&1&&(te(0,"div",0),et(1,p9,3,3,"label",1),te(2,"ng-select",2),As("ngModelChange",function(i){return xs(t.selectedItems,i)||(t.selectedItems=i),i}),qe("change",function(i){return t.onDataSelect(i)})("add",function(i){return t.onAdd(i)})("remove",function(i){return t.onRemove(i)})("clear",function(i){return t.onDataClear(i)})("search",function(i){return t.onFilter(i)})("blur",function(i){return t.onFilter(i)})("ngModelChange",function(i){return t.onFilter(i)})("click",function(i){return t.onClick(i)}),et(3,v9,2,2,"ng-template",3)(4,_9,1,0,null,4),ae()()),e&2&&(X(),ie("ngIf",t.label),X(),ie("id",t.id)("addTag",!1)("items",t.data)("bindLabel",t.bindLabel)("bindValue",t.bindValue)("compareWith",t.compareWith)("disabled",t.disable)("multiple",t.multiselect)("trackByFn",t.trackByFn)("loading",t.loading)("typeToSearchText",t.helpingText)("placeholder",t.placeholder)("typeahead",t.searchInput$),Cs("ngModel",t.selectedItems),X(2),ie("ngIf",t.optionTemplate))},dependencies:[$t,Ar,fn,Os,Om,Tm,Sm,Em,Ms,Sr,rm],styles:["rd-autocomplete .ng-select .ng-select-container{min-height:38px;line-height:1.5;font-size:14px;color:#000;background-color:#fff}  rd-autocomplete .ng-select .ng-value-label{color:#000}  rd-autocomplete .ng-select .ng-input input{color:#000!important;background:transparent!important}"]})};function M_(o){let r=o.cloneNode(!0),e=r.querySelectorAll("[id]"),t=o.nodeName.toLowerCase();r.removeAttribute("id");for(let n=0;n<e.length;n++)e[n].removeAttribute("id");return t==="canvas"?y_(o,r):(t==="input"||t==="select"||t==="textarea")&&m_(o,r),v_("canvas",o,r,y_),v_("input, textarea, select",o,r,m_),r}function v_(o,r,e,t){let n=r.querySelectorAll(o);if(n.length){let i=e.querySelectorAll(o);for(let s=0;s<n.length;s++)t(n[s],i[s])}}var b9=0;function m_(o,r){r.type!=="file"&&(r.value=o.value),r.type==="radio"&&r.name&&(r.name=`mat-clone-${r.name}-${b9++}`)}function y_(o,r){let e=r.getContext("2d");if(e)try{e.drawImage(o,0,0)}catch{}}function tg(o){let r=o.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}function qh(o,r,e){let{top:t,bottom:n,left:i,right:s}=o;return e>=t&&e<=n&&r>=i&&r<=s}function Mc(o,r,e){o.top+=r,o.bottom=o.top+o.height,o.left+=e,o.right=o.left+o.width}function __(o,r,e,t){let{top:n,right:i,bottom:s,left:c,width:u,height:d}=o,h=u*r,v=d*r;return t>n-v&&t<s+v&&e>c-h&&e<i+h}var ff=class{_document;positions=new Map;constructor(r){this._document=r}clear(){this.positions.clear()}cache(r){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),r.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:tg(e)})})}handleScroll(r){let e=Kl(r),t=this.positions.get(e);if(!t)return null;let n=t.scrollPosition,i,s;if(e===this._document){let d=this.getViewportScrollPosition();i=d.top,s=d.left}else i=e.scrollTop,s=e.scrollLeft;let c=n.top-i,u=n.left-s;return this.positions.forEach((d,h)=>{d.clientRect&&e!==h&&e.contains(h)&&Mc(d.clientRect,c,u)}),n.top=i,n.left=s,{top:c,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function k_(o,r){let e=o.rootNodes;if(e.length===1&&e[0].nodeType===r.ELEMENT_NODE)return e[0];let t=r.createElement("div");return e.forEach(n=>t.appendChild(n)),t}function ng(o,r,e){for(let t in r)if(r.hasOwnProperty(t)){let n=r[t];n?o.setProperty(t,n,e?.has(t)?"important":""):o.removeProperty(t)}return o}function al(o,r){let e=r?"":"none";ng(o.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function b_(o,r,e){ng(o.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},e)}function pf(o,r){return r&&r!="none"?o+" "+r:o}function w_(o,r){o.style.width=`${r.width}px`,o.style.height=`${r.height}px`,o.style.transform=hf(r.left,r.top)}function hf(o,r){return`translate3d(${Math.round(o)}px, ${Math.round(r)}px, 0)`}function C_(o){let r=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*r}function w9(o){let r=getComputedStyle(o),e=Zh(r,"transition-property"),t=e.find(c=>c==="transform"||c==="all");if(!t)return 0;let n=e.indexOf(t),i=Zh(r,"transition-duration"),s=Zh(r,"transition-delay");return C_(i[n])+C_(s[n])}function Zh(o,r){return o.getPropertyValue(r).split(",").map(t=>t.trim())}var C9=new Set(["position"]),$h=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(r,e,t,n,i,s,c,u,d,h){this._document=r,this._rootElement=e,this._direction=t,this._initialDomRect=n,this._previewTemplate=i,this._previewClass=s,this._pickupPositionOnPage=c,this._initialTransform=u,this._zIndex=d,this._renderer=h}attach(r){this._preview=this._createPreview(),r.appendChild(this._preview),x_(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(r){this._preview.style.transform=r}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(r){this._preview.classList.add(r)}getTransitionDuration(){return w9(this._preview)}addEventListener(r,e){return this._renderer.listen(this._preview,r,e)}_createPreview(){let r=this._previewTemplate,e=this._previewClass,t=r?r.template:null,n;if(t&&r){let i=r.matchSize?this._initialDomRect:null,s=r.viewContainer.createEmbeddedView(t,r.context);s.detectChanges(),n=k_(s,this._document),this._previewEmbeddedView=s,r.matchSize?w_(n,i):n.style.transform=hf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=M_(this._rootElement),w_(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return ng(n.style,{"pointer-events":"none",margin:x_(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},C9),al(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(i=>n.classList.add(i)):n.classList.add(e)),n}};function x_(o){return"showPopover"in o}var x9={passive:!0},A_={passive:!1},A9={passive:!1,capture:!0},S9=800,S_=new Set(["position"]),Qh=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=fo(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Wt;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=yr.EMPTY;_pointerUpSubscription=yr.EMPTY;_scrollSubscription=yr.EMPTY;_resizeSubscription=yr.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(r){r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(e=>al(e,r)))}_disabled=!1;beforeStarted=new Wt;started=new Wt;released=new Wt;ended=new Wt;entered=new Wt;exited=new Wt;dropped=new Wt;moved=this._moveEvents;data;constrainPosition;constructor(r,e,t,n,i,s,c){this._config=e,this._document=t,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=s,this._renderer=c,this.withRootElement(r).withParent(e.parentDragRef||null),this._parentPositions=new ff(t),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(r){this._handles=r.map(t=>ia(t)),this._handles.forEach(t=>al(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(r){return this._previewTemplate=r,this}withPlaceholderTemplate(r){return this._placeholderTemplate=r,this}withRootElement(r){let e=ia(r);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[Er(this._renderer,e,"mousedown",this._pointerDown,A_),Er(this._renderer,e,"touchstart",this._pointerDown,x9),Er(this._renderer,e,"dragstart",this._nativeDragStart,A_)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(r){return this._boundaryElement=r?ia(r):null,this._resizeSubscription.unsubscribe(),r&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(r){return this._parentDragRef=r,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(r){!this._disabledHandles.has(r)&&this._handles.indexOf(r)>-1&&(this._disabledHandles.add(r),al(r,!0))}enableHandle(r){this._disabledHandles.has(r)&&(this._disabledHandles.delete(r),al(r,this.disabled))}withDirection(r){return this._direction=r,this}_withDropContainer(r){this._dropContainer=r}getFreeDragPosition(){let r=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:r.x,y:r.y}}setFreeDragPosition(r){return this._activeTransform={x:0,y:0},this._passiveTransform.x=r.x,this._passiveTransform.y=r.y,this._dropContainer||this._applyRootElementTransform(r.x,r.y),this}withPreviewContainer(r){return this._previewContainer=r,this}_sortFromLastPointerPosition(){let r=this._lastKnownPointerPosition;r&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(r),r)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=r=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(r);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,r)}else this.disabled||this._initializeDragSequence(this._rootElement,r)};_pointerMove=r=>{let e=this._getPointerPositionOnPage(r);if(!this._hasStartedDragging()){let n=Math.abs(e.x-this._pickupPositionOnPage.x),i=Math.abs(e.y-this._pickupPositionOnPage.y);if(n+i>=this._config.dragStartThreshold){let c=Date.now()>=this._dragStartTime+this._getDragStartDelay(r),u=this._dropContainer;if(!c){this._endDragSequence(r);return}(!u||!u.isDragging()&&!u.isReceiving())&&(r.cancelable&&r.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(r)))}return}r.cancelable&&r.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,i=this._activeTransform;i.x=t.x-n.x+this._passiveTransform.x,i.y=t.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(i.x,i.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:r,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=r=>{this._endDragSequence(r)};_endDragSequence(r){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:r}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(r),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(r);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:r})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(r){Oc(r)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=Er(this._renderer,e,"selectstart",E9,A9)}),t){let n=this._rootElement,i=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(c,n),this._initialTransform=n.style.transform||"",this._preview=new $h(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(i,e)),b_(n,!1,S_),this._document.body.appendChild(i.replaceChild(s,n)),this.started.next({source:this,event:r}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:r}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(r,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),n=Oc(e),i=!n&&e.button!==0,s=this._rootElement,c=Kl(e),u=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+S9>Date.now(),d=n?sm(e):am(e);if(c&&c.draggable&&e.type==="mousedown"&&e.preventDefault(),t||i||u||d)return;if(this._handles.length){let m=s.style;this._rootElementTapHighlight=m.webkitTapHighlightColor||"",m.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=tg(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,r,e);let v=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:v.x,y:v.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(r){b_(this._rootElement,!0,S_),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),n=this._getPointerPositionOnPage(r),i=this._getDragDistance(n),s=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:i,dropPoint:n,event:r}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i,dropPoint:n,event:r}),e.drop(this,t,this._initialIndex,this._initialContainer,s,i,n,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:r,y:e},{x:t,y:n}){let i=this._initialContainer._getSiblingContainerFromPosition(this,r,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,r,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,n),this._dropContainer._sortItem(this,r,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(r,e):this._applyPreviewTransform(r-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let r=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(r.left,r.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let n=c=>{(!c||this._preview&&Kl(c)===this._preview.element&&c.propertyName==="transform")&&(s(),t(),clearTimeout(i))},i=setTimeout(n,e*1.5),s=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let r=this._placeholderTemplate,e=r?r.template:null,t;return e?(this._placeholderRef=r.viewContainer.createEmbeddedView(e,r.context),this._placeholderRef.detectChanges(),t=k_(this._placeholderRef,this._document)):t=M_(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(r,e,t){let n=e===this._rootElement?null:e,i=n?n.getBoundingClientRect():r,s=Oc(t)?t.targetTouches[0]:t,c=this._getViewportScrollPosition(),u=s.pageX-i.left-c.left,d=s.pageY-i.top-c.top;return{x:i.left-r.left+u,y:i.top-r.top+d}}_getPointerPositionOnPage(r){let e=this._getViewportScrollPosition(),t=Oc(r)?r.touches[0]||r.changedTouches[0]||{pageX:0,pageY:0}:r,n=t.pageX-e.left,i=t.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let c=this._ownerSVGElement.createSVGPoint();return c.x=n,c.y=i,c.matrixTransform(s.inverse())}}return{x:n,y:i}}_getConstrainedPointerPosition(r){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:n}=this.constrainPosition?this.constrainPosition(r,this,this._initialDomRect,this._pickupPositionInElement):r;if(this.lockAxis==="x"||e==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:i,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,c=this._boundaryRect,{width:u,height:d}=this._getPreviewRect(),h=c.top+s,v=c.bottom-(d-s),m=c.left+i,_=c.right-(u-i);t=E_(t,m,_),n=E_(n,h,v)}return{x:t,y:n}}_updatePointerDirectionDelta(r){let{x:e,y:t}=r,n=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),c=Math.abs(t-i.y);return s>this._config.pointerDirectionChangeThreshold&&(n.x=e>i.x?1:-1,i.x=e),c>this._config.pointerDirectionChangeThreshold&&(n.y=t>i.y?1:-1,i.y=t),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let r=this._handles.length>0||!this.isDragging();r!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=r,al(this._rootElement,r))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(r=>r()),this._rootElementCleanups=void 0}_applyRootElementTransform(r,e){let t=1/this.scale,n=hf(r*t,e*t),i=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=i.transform&&i.transform!="none"?i.transform:""),i.transform=pf(n,this._initialTransform)}_applyPreviewTransform(r,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,n=hf(r,e);this._preview.setTransform(pf(n,t))}_getDragDistance(r){let e=this._pickupPositionOnPage;return e?{x:r.x-e.x,y:r.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:r,y:e}=this._passiveTransform;if(r===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||t.width===0&&t.height===0)return;let i=n.left-t.left,s=t.right-n.right,c=n.top-t.top,u=t.bottom-n.bottom;n.width>t.width?(i>0&&(r+=i),s>0&&(r-=s)):r=0,n.height>t.height?(c>0&&(e+=c),u>0&&(e-=u)):e=0,(r!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:r})}_getDragStartDelay(r){let e=this.dragStartDelay;return typeof e=="number"?e:Oc(r)?e.touch:e?e.mouse:0}_updateOnScroll(r){let e=this._parentPositions.handleScroll(r);if(e){let t=Kl(r);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&Mc(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=wu(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(r,e){let t=this._previewContainer||"global";if(t==="parent")return r;if(t==="global"){let n=this._document;return e||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return ia(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=r=>{if(this._handles.length){let e=this._getTargetHandle(r);e&&!this._disabledHandles.has(e)&&!this.disabled&&r.preventDefault()}else this.disabled||r.preventDefault()};_getTargetHandle(r){return this._handles.find(e=>r.target&&(r.target===e||e.contains(r.target)))}};function E_(o,r,e){return Math.max(r,Math.min(e,o))}function Oc(o){return o.type[0]==="t"}function E9(o){o.preventDefault()}function vf(o,r,e){let t=T_(r,o.length-1),n=T_(e,o.length-1);if(t===n)return;let i=o[t],s=n<t?-1:1;for(let c=t;c!==n;c+=s)o[c]=o[c+s];o[n]=i}function T_(o,r){return Math.max(0,Math.min(r,o))}var gf=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(r){this._dragDropRegistry=r}_previousSwap={drag:null,delta:0,overlaps:!1};start(r){this.withItems(r)}sort(r,e,t,n){let i=this._itemPositions,s=this._getItemIndexFromPointerPosition(r,e,t,n);if(s===-1&&i.length>0)return null;let c=this.orientation==="horizontal",u=i.findIndex(E=>E.drag===r),d=i[s],h=i[u].clientRect,v=d.clientRect,m=u>s?1:-1,_=this._getItemOffsetPx(h,v,m),w=this._getSiblingOffsetPx(u,i,m),x=i.slice();return vf(i,u,s),i.forEach((E,F)=>{if(x[F]===E)return;let U=E.drag===r,R=U?_:w,W=U?r.getPlaceholderElement():E.drag.getRootElement();E.offset+=R;let de=Math.round(E.offset*(1/E.drag.scale));c?(W.style.transform=pf(`translate3d(${de}px, 0, 0)`,E.initialTransform),Mc(E.clientRect,0,R)):(W.style.transform=pf(`translate3d(0, ${de}px, 0)`,E.initialTransform),Mc(E.clientRect,R,0))}),this._previousSwap.overlaps=qh(v,e,t),this._previousSwap.drag=d.drag,this._previousSwap.delta=c?n.x:n.y,{previousIndex:u,currentIndex:s}}enter(r,e,t,n){let i=n==null||n<0?this._getItemIndexFromPointerPosition(r,e,t):n,s=this._activeDraggables,c=s.indexOf(r),u=r.getPlaceholderElement(),d=s[i];if(d===r&&(d=s[i+1]),!d&&(i==null||i===-1||i<s.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(d=s[0]),c>-1&&s.splice(c,1),d&&!this._dragDropRegistry.isDragging(d)){let h=d.getRootElement();h.parentElement.insertBefore(u,h),s.splice(i,0,r)}else this._element.appendChild(u),s.push(r);u.style.transform="",this._cacheItemPositions()}withItems(r){this._activeDraggables=r.slice(),this._cacheItemPositions()}withSortPredicate(r){this._sortPredicate=r}reset(){this._activeDraggables?.forEach(r=>{let e=r.getRootElement();if(e){let t=this._itemPositions.find(n=>n.drag===r)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(r){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===r)}updateOnScroll(r,e){this._itemPositions.forEach(({clientRect:t})=>{Mc(t,r,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(r){this._element=r}_cacheItemPositions(){let r=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:tg(t)}}).sort((e,t)=>r?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getItemOffsetPx(r,e,t){let n=this.orientation==="horizontal",i=n?e.left-r.left:e.top-r.top;return t===-1&&(i+=n?e.width-r.width:e.height-r.height),i}_getSiblingOffsetPx(r,e,t){let n=this.orientation==="horizontal",i=e[r].clientRect,s=e[r+t*-1],c=i[n?"width":"height"]*t;if(s){let u=n?"left":"top",d=n?"right":"bottom";t===-1?c-=s.clientRect[u]-i[d]:c+=i[u]-s.clientRect[d]}return c}_shouldEnterAsFirstChild(r,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,n=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let s=t[t.length-1].clientRect;return n?r>=s.right:e>=s.bottom}else{let s=t[0].clientRect;return n?r<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(r,e,t,n){let i=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:c,clientRect:u})=>{if(c===r)return!1;if(n){let d=i?n.x:n.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return i?e>=Math.floor(u.left)&&e<Math.floor(u.right):t>=Math.floor(u.top)&&t<Math.floor(u.bottom)});return s===-1||!this._sortPredicate(s,r)?-1:s}},Xh=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(r,e){this._document=r,this._dragDropRegistry=e}start(r){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let n=e[t];this._relatedNodes.push([n,n.nextSibling])}this.withItems(r)}sort(r,e,t,n){let i=this._getItemIndexFromPointerPosition(r,e,t),s=this._previousSwap;if(i===-1||this._activeItems[i]===r)return null;let c=this._activeItems[i];if(s.drag===c&&s.overlaps&&s.deltaX===n.x&&s.deltaY===n.y)return null;let u=this.getItemIndex(r),d=r.getPlaceholderElement(),h=c.getRootElement();i>u?h.after(d):h.before(d),vf(this._activeItems,u,i);let v=this._getRootNode().elementFromPoint(e,t);return s.deltaX=n.x,s.deltaY=n.y,s.drag=c,s.overlaps=h===v||h.contains(v),{previousIndex:u,currentIndex:i}}enter(r,e,t,n){let i=n==null||n<0?this._getItemIndexFromPointerPosition(r,e,t):n;i===-1&&(i=this._getClosestItemIndexToPointer(r,e,t));let s=this._activeItems[i],c=this._activeItems.indexOf(r);c>-1&&this._activeItems.splice(c,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(i,0,r),s.getRootElement().before(r.getPlaceholderElement())):(this._activeItems.push(r),this._element.appendChild(r.getPlaceholderElement()))}withItems(r){this._activeItems=r.slice()}withSortPredicate(r){this._sortPredicate=r}reset(){let r=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[n,i]=this._relatedNodes[t];n.parentNode===r&&n.nextSibling!==i&&(i===null?r.appendChild(n):i.parentNode===r&&r.insertBefore(n,i))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(r){return this._activeItems.indexOf(r)}updateOnScroll(){this._activeItems.forEach(r=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(r){r!==this._element&&(this._element=r,this._rootNode=void 0)}_getItemIndexFromPointerPosition(r,e,t){let n=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),i=n?this._activeItems.findIndex(s=>{let c=s.getRootElement();return n===c||c.contains(n)}):-1;return i===-1||!this._sortPredicate(i,r)?-1:i}_getRootNode(){return this._rootNode||(this._rootNode=wu(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(r,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let n=1/0,i=-1;for(let s=0;s<this._activeItems.length;s++){let c=this._activeItems[s];if(c!==r){let{x:u,y:d}=c.getRootElement().getBoundingClientRect(),h=Math.hypot(e-u,t-d);h<n&&(n=h,i=s)}}return i}},O_=.05,P_=.05,qi=function(o){return o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.DOWN=2]="DOWN",o}(qi||{}),Kr=function(o){return o[o.NONE=0]="NONE",o[o.LEFT=1]="LEFT",o[o.RIGHT=2]="RIGHT",o}(Kr||{}),Jh=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Wt;entered=new Wt;exited=new Wt;dropped=new Wt;sorted=new Wt;receivingStarted=new Wt;receivingStopped=new Wt;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=yr.EMPTY;_verticalScrollDirection=qi.NONE;_horizontalScrollDirection=Kr.NONE;_scrollNode;_stopScrollTimers=new Wt;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(r,e,t,n,i){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=i;let s=this.element=ia(r);this._document=t,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new ff(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(r,e,t,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(r)),this._sortStrategy.enter(r,e,t,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:r,container:this,currentIndex:this.getItemIndex(r)})}exit(r){this._reset(),this.exited.next({item:r,container:this})}drop(r,e,t,n,i,s,c,u={}){this._reset(),this.dropped.next({item:r,currentIndex:e,previousIndex:t,container:this,previousContainer:n,isPointerOverContainer:i,distance:s,dropPoint:c,event:u})}withItems(r){let e=this._draggables;return this._draggables=r,r.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(n=>n.isDragging()).every(n=>r.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(r){return this._direction=r,this._sortStrategy instanceof gf&&(this._sortStrategy.direction=r),this}connectedTo(r){return this._siblings=r.slice(),this}withOrientation(r){if(r==="mixed")this._sortStrategy=new Xh(this._document,this._dragDropRegistry);else{let e=new gf(this._dragDropRegistry);e.direction=this._direction,e.orientation=r,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(r){let e=this._container;return this._scrollableElements=r.indexOf(e)===-1?[e,...r]:r.slice(),this}withElementContainer(r){if(r===this._container)return this;let e=ia(this.element),t=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(r);return t>-1&&this._scrollableElements.splice(t,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(r),this._cachedShadowRoot=null,this._scrollableElements.unshift(r),this._container=r,this}getScrollableParents(){return this._scrollableElements}getItemIndex(r){return this._isDragging?this._sortStrategy.getItemIndex(r):this._draggables.indexOf(r)}isReceiving(){return this._activeSiblings.size>0}_sortItem(r,e,t,n){if(this.sortingDisabled||!this._domRect||!__(this._domRect,O_,e,t))return;let i=this._sortStrategy.sort(r,e,t,n);i&&this.sorted.next({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:r})}_startScrollingIfNecessary(r,e){if(this.autoScrollDisabled)return;let t,n=qi.NONE,i=Kr.NONE;if(this._parentPositions.positions.forEach((s,c)=>{c===this._document||!s.clientRect||t||__(s.clientRect,O_,r,e)&&([n,i]=T9(c,s.clientRect,this._direction,r,e),(n||i)&&(t=c))}),!n&&!i){let{width:s,height:c}=this._viewportRuler.getViewportSize(),u={width:s,height:c,top:0,right:s,bottom:c,left:0};n=I_(u,e),i=L_(u,r),t=window}t&&(n!==this._verticalScrollDirection||i!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=i,this._scrollNode=t,(n||i)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let r=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=r.msScrollSnapType||r.scrollSnapType||"",r.scrollSnapType=r.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let r=this._container.style;r.scrollSnapType=r.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Pv(0,Dv).pipe(ea(this._stopScrollTimers)).subscribe(()=>{let r=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===qi.UP?r.scrollBy(0,-e):this._verticalScrollDirection===qi.DOWN&&r.scrollBy(0,e),this._horizontalScrollDirection===Kr.LEFT?r.scrollBy(-e,0):this._horizontalScrollDirection===Kr.RIGHT&&r.scrollBy(e,0)})};_isOverContainer(r,e){return this._domRect!=null&&qh(this._domRect,r,e)}_getSiblingContainerFromPosition(r,e,t){return this._siblings.find(n=>n._canReceive(r,e,t))}_canReceive(r,e,t){if(!this._domRect||!qh(this._domRect,e,t)||!this.enterPredicate(r,this))return!1;let n=this._getShadowRoot().elementFromPoint(e,t);return n?n===this._container||this._container.contains(n):!1}_startReceiving(r,e){let t=this._activeSiblings;!t.has(r)&&e.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(t.add(r),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:r,receiver:this,items:e}))}_stopReceiving(r){this._activeSiblings.delete(r),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:r,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(r=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(r);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let r=wu(this._container);this._cachedShadowRoot=r||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let r=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,r))}};function I_(o,r){let{top:e,bottom:t,height:n}=o,i=n*P_;return r>=e-i&&r<=e+i?qi.UP:r>=t-i&&r<=t+i?qi.DOWN:qi.NONE}function L_(o,r){let{left:e,right:t,width:n}=o,i=n*P_;return r>=e-i&&r<=e+i?Kr.LEFT:r>=t-i&&r<=t+i?Kr.RIGHT:Kr.NONE}function T9(o,r,e,t,n){let i=I_(r,n),s=L_(r,t),c=qi.NONE,u=Kr.NONE;if(i){let d=o.scrollTop;i===qi.UP?d>0&&(c=qi.UP):o.scrollHeight-d>o.clientHeight&&(c=qi.DOWN)}if(s){let d=o.scrollLeft;e==="rtl"?s===Kr.RIGHT?d<0&&(u=Kr.RIGHT):o.scrollWidth+d>o.clientWidth&&(u=Kr.LEFT):s===Kr.LEFT?d>0&&(u=Kr.LEFT):o.scrollWidth-d>o.clientWidth&&(u=Kr.RIGHT)}return[c,u]}var Dc={capture:!0},Kh={passive:!1,capture:!0},O9=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Lt({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return o})(),V_=(()=>{class o{_ngZone=Ye(Ma);_document=Ye(Zl);_styleLoader=Ye(Ra);_renderer=Ye(rp).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=fo([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new Wt;pointerUp=new Wt;scroll=new Wt;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=Er(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Kh)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(O9),this._activeDragInstances.update(n=>[...n,e]),this._activeDragInstances().length===1)){let n=t.type.startsWith("touch"),i=c=>this.pointerUp.next(c),s=[["scroll",c=>this.scroll.next(c),Dc],["selectstart",this._preventDefaultWhileDragging,Kh]];n?s.push(["touchend",i,Dc],["touchcancel",i,Dc]):s.push(["mouseup",i,Dc]),n||s.push(["mousemove",c=>this.pointerMove.next(c),Kh]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([c,u,d])=>Er(this._renderer,this._document,c,u,d))})}}stopDragging(e){this._activeDragInstances.update(t=>{let n=t.indexOf(e);return n>-1?(t.splice(n,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this.scroll];return e&&e!==this._document&&t.push(new np(n=>this._ngZone.runOutsideAngular(()=>{let i=Er(this._renderer,e,"scroll",s=>{this._activeDragInstances().length&&n.next(s)},Dc);return()=>{i()}}))),ro(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Br({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),D9={dragStartThreshold:5,pointerDirectionChangeThreshold:5},rg=(()=>{class o{_document=Ye(Zl);_ngZone=Ye(Ma);_viewportRuler=Ye(ym);_dragDropRegistry=Ye(V_);_renderer=Ye(rp).createRenderer(null,null);constructor(){}createDrag(e,t=D9){return new Qh(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new Jh(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Br({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),eg=new fr("CDK_DRAG_PARENT");var M9=new fr("CdkDragHandle");var R_=new fr("CDK_DRAG_CONFIG"),F_=new fr("CdkDropList"),N_=(()=>{class o{element=Ye(ka);dropContainer=Ye(F_,{optional:!0,skipSelf:!0});_ngZone=Ye(Ma);_viewContainerRef=Ye(hu);_dir=Ye(oa,{optional:!0});_changeDetectorRef=Ye(xr);_selfHandle=Ye(M9,{optional:!0,self:!0});_parentDrag=Ye(eg,{optional:!0,skipSelf:!0});_dragDropRegistry=Ye(V_);_destroyed=new Wt;_handles=new Ov([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Xe;released=new Xe;ended=new Xe;entered=new Xe;exited=new Xe;dropped=new Xe;moved=new np(e=>{let t=this._dragRef.moved.pipe(Mv(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=Ye(Bl);constructor(){let e=this.dropContainer,t=Ye(R_,{optional:!0}),n=Ye(rg);this._dragRef=n.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(ea(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){jl(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),n=t.indexOf(e);n>-1&&(t.splice(n,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):ia(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof n=="object"&&n?n:ap(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(fu(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let n=this._dragDropRegistry.getDragDirectiveForNode(t);if(n){e.withParent(n._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:n,constrainPosition:i,previewClass:s,boundaryElement:c,draggingDisabled:u,rootElementSelector:d,previewContainer:h}=e;this.disabled=u??!1,this.dragStartDelay=n||0,t&&(this.lockAxis=t),i&&(this.constrainPosition=i),s&&(this.previewClass=s),c&&(this.boundaryElement=c),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(Nl(e=>{let t=e.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),pu(e=>ro(...e.map(t=>t._stateChanges.pipe(Oa(t))))),ea(this._destroyed)).subscribe(e=>{let t=this._dragRef,n=e.element.nativeElement;e.disabled?t.disableHandle(n):t.enableHandle(n)})}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Eo({type:o,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,n){t&2&&jr("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Ni],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Yv]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ii([{provide:eg,useExisting:o}]),Hn]})}return o})(),D_=new fr("CdkDropListGroup");var H_=(()=>{class o{element=Ye(ka);_changeDetectorRef=Ye(xr);_scrollDispatcher=Ye(mm);_dir=Ye(oa,{optional:!0});_group=Ye(D_,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new Wt;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=Ye(ks).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new Xe;entered=new Xe;exited=new Xe;sorted=new Xe;_unsortedItems=new Set;constructor(){let e=Ye(rg),t=Ye(R_,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(n,i)=>this.enterPredicate(n.data,i.data),this._dropListRef.sortPredicate=(n,i,s)=>this.sortPredicate(n,i.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),o._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let t=this._latestSortedRefs.indexOf(e._dragRef);t>-1&&(this._latestSortedRefs.splice(t,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=o._dropLists.indexOf(this);e>-1&&o._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Oa(this._dir.value),ea(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{let t=dm(this.connectedTo).map(n=>{if(typeof n=="string"){let i=o._dropLists.find(s=>s.id===n);return i}return n});if(this._group&&this._group._items.forEach(n=>{t.indexOf(n)===-1&&t.push(n)}),!this._scrollableParentsResolved){let n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(i=>i.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let n=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(n)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=ap(this.autoScrollStep,2),e.connectedTo(t.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),ro(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:t,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:s,listOrientation:c}=e;this.disabled=n??!1,this.sortingDisabled=i??!1,this.autoScrollDisabled=s??!1,this.orientation=c||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Eo({type:o,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,n){t&2&&(xn("id",n.id),jr("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Ni],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Ni],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Ni],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ii([{provide:D_,useValue:void 0},{provide:F_,useExisting:o}])]})}return o})();var k9=new fr("CdkDragPlaceholder"),B_=(()=>{class o{templateRef=Ye(bs);_drag=Ye(eg,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Eo({type:o,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[ii([{provide:k9,useExisting:o}])]})}return o})();var j_=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=ws({type:o});static \u0275inj=ms({providers:[rg],imports:[xu]})}return o})();var mf=class o{constructor(r){this.httpClient=r}viewPdf(r){if(r!=""&&r!=null){let e=r.split("/").pop();window.open("/view-file/"+e,"_blank")}}pdfDownload(r){let e=r;this.httpClient.get(e,{responseType:"arraybuffer"}).subscribe(t=>{let n=r.split("/"),i=n[n.length-1],s=i.split(".")[1];if(s=="pdf"||i.includes(".pdf")){let c=new Blob([t],{type:Ds.PDF})}else if(s=="xlsx"||s=="xls"){let c=new Blob([t],{type:Ds.MS_EXCEL})}},t=>{})}static \u0275fac=function(e){return new(e||o)(ys(Qv))};static \u0275prov=Br({token:o,factory:o.\u0275fac,providedIn:"root"})};var z_=o=>({data:o});function L9(o,r){if(o&1&&(te(0,"div",7)(1,"label"),$e(2),ae()()),o&2){let e=ne(2);X(2),Kt(e.label)}}function V9(o,r){o&1&&pt(0,"div",13)}function R9(o,r){if(o&1&&(te(0,"div",10),et(1,V9,1,0,"div",11),na(2,12),ae()),o&2){let e=r.$implicit;ne(3);let t=wr(2);X(2),ie("ngTemplateOutlet",t)("ngTemplateOutletContext",Cr(2,z_,e))}}function F9(o,r){if(o&1){let e=Ct();te(0,"div",8),qe("cdkDropListDropped",function(n){Ne(e);let i=ne(2);return He(i.drop(n))}),et(1,R9,3,4,"div",9),ae()}if(o&2){let e=ne(2);X(),ie("ngForOf",e.fileList)}}function N9(o,r){if(o&1&&(te(0,"div"),na(1,12),ae()),o&2){let e=ne().$implicit;ne(3);let t=wr(2);X(),ie("ngTemplateOutlet",t)("ngTemplateOutletContext",Cr(2,z_,e))}}function H9(o,r){if(o&1&&(te(0,"div",16),et(1,N9,2,4,"div",2),ae()),o&2){let e=r.$implicit;X(),ie("ngIf",e!=null&&e!=null&&e.Name&&e.Url)}}function B9(o,r){if(o&1&&(te(0,"div",14),et(1,H9,2,1,"div",15),ae()),o&2){let e=ne(2);X(),ie("ngForOf",e.fileList)}}function j9(o,r){if(o&1&&(_r(0),te(1,"div",3),et(2,L9,3,1,"div",4)(3,F9,2,1,"div",5)(4,B9,2,1,"div",6),ae(),br()),o&2){let e=ne();X(2),ie("ngIf",e.label),X(),ie("ngIf",e.reorder),X(),ie("ngIf",!e.reorder)}}function z9(o,r){if(o&1&&(te(0,"div",30),pt(1,"img",31),ae()),o&2){let e=ne(2).data;X(),ie("src",e.Url,pr)}}function U9(o,r){if(o&1&&(te(0,"div",32),pt(1,"img",33),ae()),o&2){let e=ne(2).data,t=ne();X(),ie("src",t.getThumbnail(e.Name),pr)}}function W9(o,r){o&1&&(te(0,"button",34)(1,"span",35),uo(),te(2,"svg",36),pt(3,"path",37),ae()()())}function G9(o,r){if(o&1){let e=Ct();te(0,"button",38),qe("click",function(){Ne(e);let n=ne(2).data,i=ne();return He(i.deleteFile(n))}),te(1,"span",35),uo(),te(2,"svg",36),pt(3,"path",39),ae()()()}}function Y9(o,r){if(o&1&&(te(0,"div",20),et(1,z9,2,1,"div",21)(2,U9,2,1,"div",22),te(3,"div",23)(4,"p",24)(5,"a",25),$e(6),Ss(7,"titlecase"),ae()(),te(8,"p",26)(9,"small"),$e(10),Ss(11,"date"),ae()()(),te(12,"div",27),et(13,W9,4,0,"button",28)(14,G9,4,0,"button",29),ae()()),o&2){let e=ne().data,t=ne();X(),ie("ngIf",t.preview),X(),ie("ngIf",!t.preview),X(3),ie("href",e.Url,pr),X(),Kt(vu(7,7,e.Name)),X(4),Kt(mu(11,9,e.CreatedOn,"medium")),X(3),ie("ngIf",t.reorder),X(),ie("ngIf",t.delete)}}function Z9(o,r){if(o&1&&(_r(0),te(1,"div",40)(2,"a",41)(3,"span"),$e(4,"Direct link:"),ae(),te(5,"span",42),$e(6),ae()()(),br()),o&2){let e=ne().data,t=ne();X(2),ie("href",t.getTransformedUrl(e.Url),pr),X(4),Kt(t.getTransformedUrl(e.Url))}}function K9(o,r){if(o&1&&(te(0,"div",40)(1,"a",41)(2,"span"),$e(3,"Direct link:"),ae(),te(4,"span",42),$e(5),ae()()()),o&2){let e=ne().data;X(),ie("href",e.Url,pr),X(4),Kt(e.Url)}}function q9(o,r){if(o&1&&(et(0,Y9,15,12,"div",17),te(1,"div",18),et(2,Z9,7,2,"ng-container",19)(3,K9,6,2,"ng-template",null,1,Yl),ae()),o&2){let e=r.data,t=wr(4);ie("ngIf",e.Name&&e.Url),X(2),ie("ngIf",e.Url.endsWith(".pdf"))("ngIfElse",t)}}var yf=class o{constructor(r){this.fileService=r}label;file;delete=!0;preview=!1;reorder=!1;fileList;onDelete=new Xe;onReorder=new Xe;drop(r){vf(this.fileList,r.previousIndex,r.currentIndex),r.previousIndex!=r.currentIndex&&this.onReorder.emit(this.fileList)}deleteFile(r){this.onDelete.emit(r)}getThumbnail(r){switch(r.split(".")[1]){case"jpg":case"jpeg":return"assets/images/jpg.svg";case"png":return"assets/images/png.svg";case"pdf":return"assets/images/pdf.svg";case"xlsx":return"assets/images/excel.svg";case"xls":return"assets/images/excel.svg";default:return"assets/images/file.svg"}}download(r,e){r.preventDefault(),e.split(".").pop()=="pdf"?this.fileService.viewPdf(e):this.fileService.pdfDownload(e)}getTransformedUrl(r){let e=window.location.origin,t=r.substring(r.lastIndexOf("/")+1);return r.endsWith(".pdf")?`${e}/view-file/${t}`:`${e}/${t}`}static \u0275fac=function(e){return new(e||o)(Gt(mf))};static \u0275cmp=Lt({type:o,selectors:[["file-container"]],inputs:{label:"label",file:"file",delete:"delete",preview:"preview",reorder:"reorder",fileList:"fileList"},outputs:{onDelete:"onDelete",onReorder:"onReorder"},decls:3,vars:1,consts:[["file_info",""],["showUrl",""],[4,"ngIf"],[1,"files-container"],["class","control-container",4,"ngIf"],["cdkDropList","","class","file-list-container",3,"cdkDropListDropped",4,"ngIf"],["class","file-list-container",4,"ngIf"],[1,"control-container"],["cdkDropList","",1,"file-list-container",3,"cdkDropListDropped"],["class","file-container-wrapper","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"file-container-wrapper"],["class","custom-placeholder",4,"cdkDragPlaceholder"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"custom-placeholder"],[1,"file-list-container"],["class","file-container-wrapper",4,"ngFor","ngForOf"],[1,"file-container-wrapper"],["class","file-container",4,"ngIf"],[1,"pb-2"],[4,"ngIf","ngIfElse"],[1,"file-container"],["class","image-preview",4,"ngIf"],["class","file-icon",4,"ngIf"],[1,"file-info"],[1,"file-name"],["target","_blank",3,"href"],[1,"file-desc"],[1,"file-actions"],["type","button","class","rd-btn rd-btn-text","title","Move",4,"ngIf"],["type","button","class","rd-btn rd-btn-text rd-text-deep-red","title","Delete file",3,"click",4,"ngIf"],[1,"image-preview"],["alt","preview",3,"src"],[1,"file-icon"],["alt","file",3,"src"],["type","button","title","Move",1,"rd-btn","rd-btn-text"],[1,"btn-icon"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 256 256"],["d","M90.34,61.66a8,8,0,0,1,0-11.32l32-32a8,8,0,0,1,11.32,0l32,32a8,8,0,0,1-11.32,11.32L136,43.31V96a8,8,0,0,1-16,0V43.31L101.66,61.66A8,8,0,0,1,90.34,61.66Zm64,132.68L136,212.69V160a8,8,0,0,0-16,0v52.69l-18.34-18.35a8,8,0,0,0-11.32,11.32l32,32a8,8,0,0,0,11.32,0l32-32a8,8,0,0,0-11.32-11.32Zm83.32-72-32-32a8,8,0,0,0-11.32,11.32L212.69,120H160a8,8,0,0,0,0,16h52.69l-18.35,18.34a8,8,0,0,0,11.32,11.32l32-32A8,8,0,0,0,237.66,122.34ZM43.31,136H96a8,8,0,0,0,0-16H43.31l18.35-18.34A8,8,0,0,0,50.34,90.34l-32,32a8,8,0,0,0,0,11.32l32,32a8,8,0,0,0,11.32-11.32Z"],["type","button","title","Delete file",1,"rd-btn","rd-btn-text","rd-text-deep-red",3,"click"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"d-flex","direct-link-text"],["target","_blank",1,"link","rd-text-ellipsis-line",3,"href"],[1,"linkText"]],template:function(e,t){e&1&&et(0,j9,5,3,"ng-container",2)(1,q9,5,3,"ng-template",null,0,Yl),e&2&&ie("ngIf",t.fileList==null?null:t.fileList.length)},dependencies:[$t,Ar,fn,Os,qv,$v,j_,H_,N_,B_],encapsulation:2})};var $9=["fileInput"];function Q9(o,r){o&1&&(te(0,"span",13),$e(1,"*"),ae())}function X9(o,r){if(o&1&&(te(0,"label",11),$e(1),et(2,Q9,2,0,"span",12),ae()),o&2){let e=ne(2);ie("for",e.id),X(),qt("",e.label," "),X(),ie("ngIf",e.required)}}function J9(o,r){if(o&1&&(te(0,"small")(1,"em"),$e(2),ae()()),o&2){let e=ne(2);X(2),Kt(e.note)}}function eO(o,r){if(o&1){let e=Ct();te(0,"div",2)(1,"div",3)(2,"div",4),qe("drop",function(n){Ne(e);let i=ne();return He(i.onDrop(n))})("dragover",function(n){Ne(e);let i=ne();return He(i.onDragOver(n))}),te(3,"div",5),et(4,X9,3,3,"label",6),te(5,"input",7,0),qe("change",function(n){Ne(e);let i=ne();return He(i.onFileSelected(n,!1))}),ae()()(),te(7,"div"),et(8,J9,3,1,"small",8),ae(),te(9,"div",9)(10,"file-container",10),qe("onDelete",function(n){Ne(e);let i=ne();return He(i.removeFile(n))})("onReorder",function(n){Ne(e);let i=ne();return He(i.onImageReorder(n))}),ae()()()()}if(o&2){let e=ne();X(),ie("formGroup",e.form),X(3),ie("ngIf",e.label),X(),ie("name",e.controlname)("id",e.id)("multiple",e.multiple)("formControlName",e.controlname)("accept",e.types?e.types.toString():""),X(3),ie("ngIf",e.note),X(2),ie("label","Uploaded Images")("preview",e.preview)("reorder",e.reorder)("fileList",e.files)}}var _f=class o{constructor(r,e,t){this.dialog=r;this.toasterService=e;this.cdr=t}fileSelected=new Xe;accept="*/*";label;note;types;id;controlname;form;maxFiles=10;files;multiple=!1;required=!1;filesChanged=new Xe;filesRemove=new Xe;imageReorder=new Xe;reorder=!1;preview=!0;fileInput;fileName="";imageChangedEvent=null;croppedImage="";rawObjectUrl;croppedFile;loadingSkeleton=!0;ngOnInit(){this.converobjecttoarray()}ngOnChanges(r){r.files&&!r.files.firstChange&&this.converobjecttoarray()}converobjecttoarray(){if(this.files&&!Array.isArray(this.files)){let r=[];r.push(this.files),this.files=r}}onFileSelected(r,e){let t=e?r.files:r.target.files;t&&(Ou.IMAGE_CROP&&t.length==1&&(t[0].type==Ds.IMAGE_JPEG||t[0].type==Ds.IMAGE_PNG)?this.openModal(t,r):this.addFiles(t))}openModal(r,e){this.dialog.open(Qs,{width:"400px",data:{files:r,event:e}}).afterClosed().subscribe(n=>{n?.data&&this.addFiles(n.data)})}onDrop(r){r.preventDefault(),r.stopPropagation(),r.dataTransfer?.files&&this.addFiles(r.dataTransfer.files)}onDragOver(r){r.preventDefault(),r.stopPropagation()}removeFile(r){r.Id?(Array.isArray(this.files)?this.files.splice(r.Id,1):this.files=[],this.filesRemove.emit(r)):this.toasterService.error("id not found")}onImageReorder(r){this.imageReorder.emit(r)}addFiles(r){let e=Array.from(r);this.filesChanged.emit(e),this.cdr.detectChanges()}static \u0275fac=function(e){return new(e||o)(Gt(Ps),Gt(Is),Gt(xr))};static \u0275cmp=Lt({type:o,selectors:[["rd-file-upload"]],viewQuery:function(e,t){if(e&1&&Dn($9,5),e&2){let n;un(n=dn())&&(t.fileInput=n.first)}},inputs:{accept:"accept",label:"label",note:"note",types:"types",id:"id",controlname:"controlname",form:"form",maxFiles:"maxFiles",files:"files",multiple:"multiple",required:"required",reorder:"reorder",preview:"preview"},outputs:{fileSelected:"fileSelected",filesChanged:"filesChanged",filesRemove:"filesRemove",imageReorder:"imageReorder"},features:[Hn],decls:1,vars:1,consts:[["fileInput",""],["class","control-container cropper-image",4,"ngIf"],[1,"control-container","cropper-image"],[1,"form",3,"formGroup"],[1,"upload-dropzone",3,"drop","dragover"],[1,"file-input"],[3,"for",4,"ngIf"],["type","file",3,"change","name","id","multiple","formControlName","accept"],[4,"ngIf"],[1,"image-container"],[3,"onDelete","onReorder","label","preview","reorder","fileList"],[3,"for"],["class","required-asterik",4,"ngIf"],[1,"required-asterik"]],template:function(e,t){e&1&&et(0,eO,11,12,"div",1),e&2&&ie("ngIf",t.form)},dependencies:[$t,fn,ci,oi,Sr,ai,zr,si,Ms,yf],styles:[".file-upload[_ngcontent-%COMP%]{margin:10px 0}input[type=file][_ngcontent-%COMP%]{cursor:pointer}.upload-dropzone[_ngcontent-%COMP%]{text-align:center;cursor:pointer;margin-bottom:10px;background-color:#f9f9f9}.upload-dropzone[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})};var W_=tp(dp());var tO=[[["","page-builder",""]]],nO=["[page-builder]"],rO=o=>({flexiClass:o}),ig=()=>[];function iO(o,r){if(o&1){let e=Ct();te(0,"rd-input",24),qe("change",function(n){Ne(e);let i=ne().$implicit,s=ne(3);return He(s.onInputChange(n,i.changedField))})("forgotPasswordEvent",function(){Ne(e);let n=ne(4);return He(n.forgotPassword())}),ae()}if(o&2){let e,t=ne().$implicit,n=ne(3);An(n.getFieldClass(t)),ie("label",t.label)("id",t.id||"")("name",t.name)("placeholder",t.placeholder||"")("required",(e=t.validators==null?null:t.validators.required)!==null&&e!==void 0?e:!1)("type",t.type)("controlName",t.name?t.name:"")("form",n.form)("readonly",t.readonly?"readonly":"")("forgot",n.forgot)}}function oO(o,r){if(o&1){let e=Ct();te(0,"rd-textarea",25),qe("change",function(n){Ne(e);let i=ne().$implicit,s=ne(3);return He(s.onTextareaChange(n,i.changedField))}),ae()}if(o&2){let e,t,n=ne().$implicit,i=ne(3);An(i.getFieldClass(n)),ie("id",n.name)("controlName",n.name)("form",i.form)("placeholder",n.placeholder||"")("rows",(e=n.rows)!==null&&e!==void 0?e:3)("required",(t=n.validators==null?null:n.validators.required)!==null&&t!==void 0?t:!1)("label",n.label)}}function aO(o,r){if(o&1){let e=Ct();te(0,"div",26)(1,"rd-select",27),qe("onChange",function(n){Ne(e);let i=ne().$implicit,s=ne(3);return He(s.onSelectChange(n,i.name))}),ae()()}if(o&2){let e,t,n=ne().$implicit,i=ne(3);X(),ie("form",i.form)("id",n.id||"")("controlName",n.name)("data",n.options)("groupBy",n.groupBy||"")("placeholder",n.placeholder||"")("bindLabel",n.bindLabel||"")("bindValue",n.bindValue||"")("multiselect",n.multiple||!1)("disable",(e=n.disabled)!==null&&e!==void 0?e:!1)("label",n.label)("labelClass",n.labelClass||"")("required",(t=n.validators==null?null:n.validators.required)!==null&&t!==void 0?t:!1)}}function sO(o,r){o&1&&(te(0,"span",32),$e(1,"*"),ae())}function lO(o,r){if(o&1&&(te(0,"div",28),pt(1,"input",29),te(2,"label",30),$e(3),et(4,sO,2,0,"span",31),ae()()),o&2){let e=ne().$implicit,t=ne(3);X(),An(t.getFieldClass(e)),ie("type",e.type)("id",e.name)("formControlName",e.name),X(),An(e.labelClass||""),ie("for",e.name),X(),qt(" ",e.label," "),X(),ie("ngIf",e.validators==null?null:e.validators.required)}}function cO(o,r){if(o&1&&(te(0,"div",28),pt(1,"input",34),te(2,"label",30),$e(3),ae()()),o&2){let e=r.$implicit,t=r.index,n=ne(2).$implicit,i=ne(3);X(),An(i.getFieldClass(n)),ie("id",n.name+t)("name",n.name)("formControlName",n.name)("value",e.value),X(),ie("for",n.name+t),X(),qt(" ",e.label," ")}}function uO(o,r){if(o&1&&(te(0,"div"),et(1,cO,4,8,"div",33),ae()),o&2){let e=ne().$implicit;X(),ie("ngForOf",e.options||gu(1,ig))}}function dO(o,r){if(o&1){let e=Ct();te(0,"div")(1,"rd-switch",35),qe("onChange",function(n){Ne(e);let i=ne(4);return He(i.onSwitchToggle(n))}),ae(),te(2,"label",36),$e(3),ae()()}if(o&2){let e=ne().$implicit;X(),ie("label",e.label)("id",e.id)("onLabel","")("offLabel",""),X(2),qt(" ",e.label," ")}}function fO(o,r){if(o&1){let e=Ct();te(0,"div")(1,"rd-calendar",37),qe("dateChange",function(n){Ne(e);let i=ne().$implicit,s=ne(3);return He(s.dateChange(n,i.name,i.format))}),ae()()}if(o&2){let e,t=ne().$implicit,n=ne(3);X(),An(n.getFieldClass(t)),ie("label",t.label)("required",(e=t.validators==null?null:t.validators.required)!==null&&e!==void 0?e:!1)("id",t.id||"")("type",t.type)("controlName",t.name)("placeholder",t.placeholder||"")("form",n.form)("formate",t.format)}}function pO(o,r){if(o&1){let e=Ct();te(0,"rd-timepicker",38),qe("onChange",function(n){Ne(e);let i=ne(4);return He(i.onTimeChange(n))}),ae()}if(o&2){let e,t=ne().$implicit,n=ne(3);ie("label",t.label)("required",(e=t.validators==null?null:t.validators.required)!==null&&e!==void 0?e:!1)("id",t.id||"")("controlName",t.name)("placeholder",t.placeholder||"")("form",n.form)}}function hO(o,r){if(o&1){let e=Ct();te(0,"rd-autocomplete",39),qe("onChange",function(n){Ne(e);let i=ne(4);return He(i.onAutocompleteChange(n))}),ae()}if(o&2){let e,t,n=ne().$implicit,i=ne(3);ie("id",n.id||"")("label",n.label)("data",(e=n.options)!==null&&e!==void 0?e:gu(10,ig))("bindLabel",n.bindLabel||"")("bindValue",n.bindValue||"")("controlName",n.name)("form",i.form)("searchKey",n.searchKey||"")("placeholder",n.placeholder||"")("required",(t=n.validators==null?null:n.validators.required)!==null&&t!==void 0?t:!1)}}function gO(o,r){if(o&1){let e=Ct();te(0,"div")(1,"rd-file-upload",40),qe("imageReorder",function(n){Ne(e);let i=ne(4);return He(i.onImageReorder(n))})("filesChanged",function(n){Ne(e);let i=ne().$implicit,s=ne(3);return He(s.onFileSelect(n,i.name))})("filesRemove",function(n){Ne(e);let i=ne().$implicit,s=ne(3);return He(s.onFileRemove(n,i.name))}),ae()()}if(o&2){let e=ne().$implicit,t=ne(3);X(),ie("form",t.form)("label",e.label)("id",e.id)("types",e.fileType)("note",e.note)("multiple",e.multiple)("controlname",e.name)("files",e.value?e.value:gu(10,ig))("preview",e.preview)("reorder",e.reorder)}}function vO(o,r){if(o&1){let e=Ct();te(0,"app-page-builder-editor",41),qe("contentChange",function(n){Ne(e);let i=ne().$implicit,s=ne(3);return He(s.pagebuilderChange(n,i.name))}),ae()}if(o&2){let e,t=ne().$implicit,n=ne(3);An((e=n.form.get(t.name))!=null&&e.invalid?"is-invalid":""),ie("id",t.id)("label",t.label)("required",t.required)("content",t.value)}}function mO(o,r){o&1&&(te(0,"div",42)(1,"span"),$e(2,"Please add editor content "),ae()())}function yO(o,r){if(o&1&&(te(0,"div",43),$e(1),ae()),o&2){let e=ne().$implicit;X(),Kt(e.helpText)}}function _O(o,r){if(o&1&&(te(0,"span"),$e(1),ae()),o&2){let e=ne(2).$implicit;X(),qt("",e.label," is required")}}function bO(o,r){if(o&1&&(te(0,"span"),$e(1),ae()),o&2){let e,t=ne(2).$implicit,n=ne(3);X(),qt(" Minimum length is ",(e=n.form.get(t.name))==null||e.errors==null||e.errors.minlength==null?null:e.errors.minlength.requiredLength," characters ")}}function wO(o,r){if(o&1&&(te(0,"span"),$e(1),ae()),o&2){let e,t=ne(2).$implicit,n=ne(3);X(),qt(" Maximum length is ",(e=n.form.get(t.name))==null||e.errors==null||e.errors.maxlength==null?null:e.errors.maxlength.requiredLength," characters ")}}function CO(o,r){if(o&1&&(te(0,"span"),$e(1),ae()),o&2){let e,t=ne(2).$implicit,n=ne(3);X(),qt(" Minimum value is ",(e=n.form.get(t.name))==null||e.errors==null||e.errors.min==null?null:e.errors.min.min," ")}}function xO(o,r){if(o&1&&(te(0,"span"),$e(1),ae()),o&2){let e,t=ne(2).$implicit,n=ne(3);X(),qt(" Maximum value is ",(e=n.form.get(t.name))==null||e.errors==null||e.errors.max==null?null:e.errors.max.max," ")}}function AO(o,r){o&1&&(te(0,"span"),$e(1," Please enter a valid email address "),ae())}function SO(o,r){if(o&1&&(te(0,"span"),$e(1),ae()),o&2){let e=ne(2).$implicit;X(),La(" ",e.label," ",e==null||e.validators==null||e.validators.pattern==null?null:e.validators.pattern.MESSAGE," ")}}function EO(o,r){if(o&1&&(te(0,"span"),$e(1),ae()),o&2){let e=ne(2).$implicit;X(),qt(" ",e.label," Cannot contain only spaces. ")}}function TO(o,r){if(o&1&&(te(0,"div",42),et(1,_O,2,1,"span",9)(2,bO,2,1,"span",9)(3,wO,2,1,"span",9)(4,CO,2,1,"span",9)(5,xO,2,1,"span",9)(6,AO,2,0,"span",9)(7,SO,2,2,"span",9)(8,EO,2,1,"span",9),ae()),o&2){let e,t,n,i,s,c,u,d,h=ne().$implicit,v=ne(3);X(),ie("ngIf",(e=v.form.get(h.name))==null||e.errors==null?null:e.errors.required),X(),ie("ngIf",(t=v.form.get(h.name))==null||t.errors==null?null:t.errors.minlength),X(),ie("ngIf",(n=v.form.get(h.name))==null||n.errors==null?null:n.errors.maxlength),X(),ie("ngIf",(i=v.form.get(h.name))==null||i.errors==null?null:i.errors.min),X(),ie("ngIf",(s=v.form.get(h.name))==null||s.errors==null?null:s.errors.max),X(),ie("ngIf",(c=v.form.get(h.name))==null||c.errors==null?null:c.errors.email),X(),ie("ngIf",(u=v.form.get(h.name))==null||u.errors==null?null:u.errors.pattern),X(),ie("ngIf",(d=v.form.get(h.name))==null||d.errors==null?null:d.errors.whitespace)}}function OO(o,r){if(o&1&&(te(0,"div",12),_r(1,13),et(2,iO,1,12,"rd-input",14)(3,oO,1,9,"rd-textarea",15)(4,aO,2,13,"div",16)(5,lO,5,10,"div",17)(6,uO,2,2,"div",18)(7,dO,4,5,"div",18)(8,fO,2,10,"div",18)(9,pO,1,6,"rd-timepicker",19)(10,hO,1,11,"rd-autocomplete",20)(11,gO,2,11,"div",18)(12,vO,1,6,"app-page-builder-editor",21)(13,mO,3,0,"div",22),br(),et(14,yO,2,1,"div",23)(15,TO,9,8,"div",22),ae()),o&2){let e,t,n=r.$implicit,i=ne(3);An(n.wrapperClass),X(),ie("ngSwitch",n.type),X(),ie("ngIf",n.type=="text"||n.type=="email"||n.type=="password"||n.type=="number"||n.type=="tel"||n.type=="url"),X(),ie("ngSwitchCase","textarea"),X(),ie("ngSwitchCase","select"),X(),ie("ngSwitchCase","checkbox"),X(),ie("ngSwitchCase","radio"),X(),ie("ngSwitchCase","switch"),X(),ie("ngSwitchCase","date"),X(),ie("ngSwitchCase","time"),X(),ie("ngSwitchCase","autocomplete"),X(),ie("ngSwitchCase","file"),X(),ie("ngSwitchCase","pagebuilder"),X(),ie("ngIf",(e=i.form.get(n.name))==null||e.errors==null?null:e.errors.pagebuilder),X(),ie("ngIf",n.helpText),X(),ie("ngIf",((t=i.form.get(n.name))==null?null:t.invalid)&&((t=i.form.get(n.name))==null?null:t.touched))}}function DO(o,r){if(o&1&&(te(0,"div",10),Pa(1,OO,16,17,"div",11,op),ae()),o&2){let e=r.$implicit;ie("ngClass",e.id),X(),Ia(e.value)}}function MO(o,r){if(o&1&&(_r(0),Pa(1,DO,3,1,"div",10,op),br()),o&2){let e=ne();X(),Ia(e.columns)}}function kO(o,r){o&1&&pt(0,"div",44)}function PO(o,r){o&1&&na(0)}function IO(o,r){o&1&&na(0)}function LO(o,r){if(o&1){let e=Ct();te(0,"button",46),qe("click",function(){Ne(e);let n=ne(2);return He(n.cancel())}),$e(1),ae()}if(o&2){let e=ne(2);An(e.cancelButtonClass),X(),qt(" ",e.cancelButtonText," ")}}function VO(o,r){if(o&1&&(te(0,"div"),et(1,LO,2,3,"button",45),ae()),o&2){let e=ne();X(),ie("ngIf",e.cancelButtonText&&e.cancelButtonText.trim())}}function RO(o,r){if(o&1&&(te(0,"button",48),$e(1),ae()),o&2){let e=ne(2);An(e.submitButtonClass),ie("disabled",e.form.invalid||e.additionalForm.invalid),X(),qt(" ",e.submitButtonText," ")}}function FO(o,r){if(o&1&&(te(0,"div"),et(1,RO,2,4,"button",47),ae()),o&2){let e=ne();X(),ie("ngIf",e.submitButtonText&&e.submitButtonText.trim())}}function NO(o,r){if(o&1&&(te(0,"button",48),$e(1),ae()),o&2){let e=ne(2);An(e.submitButtonClass),ie("disabled",e.form.invalid||e.isDisabled),X(),qt(" ",e.submitButtonText," ")}}function HO(o,r){if(o&1&&(te(0,"div"),et(1,NO,2,4,"button",47),ae()),o&2){let e=ne();X(),ie("ngIf",e.submitButtonText&&e.submitButtonText.trim())}}function BO(o,r){if(o&1){let e=Ct();te(0,"div"),_r(1,null,1),te(3,"div",49)(4,"button",50)(5,"span"),$e(6,"Save"),ae(),te(7,"span",51),uo(),te(8,"svg",52),pt(9,"polyline",53),ae()()(),Hl(),te(10,"mat-menu",null,2)(12,"div",54)(13,"button",55),qe("click",function(){Ne(e);let n=ne();return He(n.onformSubmit(0))}),te(14,"span"),pt(15,"img",56),ae(),te(16,"span"),$e(17,"Save as draft"),ae()(),te(18,"button",55),qe("click",function(){Ne(e);let n=ne();return He(n.onformSubmit(1))}),te(19,"span"),pt(20,"img",57),ae(),te(21,"span"),$e(22,"Save & Publish"),ae()()()()(),br(),ae()}if(o&2){let e=wr(11),t=ne();X(4),ie("matMenuTriggerFor",e)("disabled",t.form.invalid)}}var U_=class o{constructor(r,e,t){this.fb=r;this.router=e;this.cdr=t;this.form=this.fb.group({})}child;fields=[];columns=[];submitButtonText="Submit";cancelButtonText="Cancel";submitButtonClass="rd-btn-primary rd-btn-lg";cancelButtonClass="rd-btn-secondary rd-btn-lg";formClass="form rd-form form-container";additionalColumn;pageBuilder;showcancelbutton=!0;additionalForm;additionalTest=!1;forgot=!1;extrabutton;formSubmit=new Xe;formCancel=new Xe;uploadfile=new Xe;sendPasswordMail=new Xe;deletefile=new Xe;imageReorder=new Xe;flexiWidth=!1;form;isDisabled=!1;destroySubject=new Wt;ngOnChanges(r){r.fields&&!r.fields.firstChange&&this.createForm()}ngOnInit(){this.createForm(),this.cdr.detectChanges()}createForm(){let r={};this.fields.forEach(e=>{let t=this.buildValidators(e);e.value&&e.type!="file"?r[e.name]=[{value:e.value??(e.type==="checkbox"?!1:""),disabled:e.disabled||!1},t]:r[e.name]=new Va(null,t)}),this.form=this.fb.group(r)}buildValidators(r){let e=[];return r.validators&&(r.validators.required&&e.push(Bi.required),r.validators.minLength&&e.push(Bi.minLength(r.validators.minLength)),r.validators.maxLength&&e.push(Bi.maxLength(r.validators.maxLength)),r.validators.min&&e.push(Bi.min(r.validators.min)),r.validators.max&&e.push(Bi.max(r.validators.max)),r.validators.email&&e.push(Bi.email),r.validators?.pattern?.PATTERN&&e.push(Bi.pattern(r.validators.pattern.PATTERN)),r.validators.whitespace===!0&&e.push(Cc.noWhitespaceValidator),r.validators.pagebuilder===!0&&e.push(Cc.pageBuilderRequired)),e}onformSubmit(r){this.onSubmit(r)}onSubmit(r){return dr(this,null,function*(){if(this.form.valid){this.isDisabled=!0;let e=Yt({},this.form.value);this.fields.forEach(t=>{t.type==="select"&&(t.multiple||e[t.name]!==null&&e[t.name]!==void 0&&e[t.name]!==""&&(e[t.name]=parseInt(e[t.name],10)))}),e.status=r,this.formSubmit.emit(e),yield this.fakeAsyncOperation(),this.isDisabled=!1}else this.markAllAsTouched()})}cancel(){this.formCancel.emit()}markAllAsTouched(){Object.values(this.form.controls).forEach(r=>{r.markAsTouched()})}getFieldClass(r){let e=r.className??"",t=this.form.get(r.name)?.invalid&&this.form.get(r.name)?.touched;return`${e} ${t?"is-invalid":""}`.trim()}fakeAsyncOperation(){return new Promise(r=>setTimeout(r,2e3))}onInputChange(r,e){if(e){let t=this.fields.find(i=>i.name===e),n=r.target.value;n&&(n=n.replaceAll(" ","-"),this.form.get(e)?.setValue(n.toLowerCase()),t&&(t.value=n.toLowerCase()))}}onAutocompleteChange(r){}onTextareaChange(r,e){}dateChange(r,e,t){this.form.get(e)?.setValue((0,W_.default)(r).format(Jv.DATE_FORMAT_1))}onSelectChange(r,e){}onFileSelect(r,e){this.uploadfile.emit({fileList:r,controlname:e})}onFileRemove(r,e){this.deletefile.emit({data:r,controlname:e})}onTimeChange(r){}onSwitchToggle(r){}pagebuilderChange(r,e){this.form.controls[e].setValue(r)}forgotPassword(){this.sendPasswordMail.emit()}onImageReorder(r){this.imageReorder.emit(r)}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}static \u0275fac=function(e){return new(e||o)(Gt(li),Gt(Xv),Gt(xr))};static \u0275cmp=Lt({type:o,selectors:[["app-dynamic-form"]],viewQuery:function(e,t){if(e&1&&Dn(wc,5),e&2){let n;un(n=dn())&&(t.child=n.first)}},inputs:{fields:"fields",columns:"columns",submitButtonText:"submitButtonText",cancelButtonText:"cancelButtonText",submitButtonClass:"submitButtonClass",cancelButtonClass:"cancelButtonClass",formClass:"formClass",additionalColumn:"additionalColumn",pageBuilder:"pageBuilder",showcancelbutton:"showcancelbutton",additionalForm:"additionalForm",additionalTest:"additionalTest",forgot:"forgot",extrabutton:"extrabutton",flexiWidth:"flexiWidth"},outputs:{formSubmit:"formSubmit",formCancel:"formCancel",uploadfile:"uploadfile",sendPasswordMail:"sendPasswordMail",deletefile:"deletefile",imageReorder:"imageReorder"},features:[ii([Jd]),Hn],ngContentSelectors:nO,decls:15,vars:14,consts:[["flatFields",""],["save_btn",""],["saveMenu","matMenu"],[1,"control-container"],[3,"ngSubmit","formGroup","ngClass"],[1,"col-12","col-md-12"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"rd-form-footer","mt-2","justify-content-between"],[4,"ngIf"],[1,"row",3,"ngClass"],[1,"mb-3",3,"class"],[1,"mb-3"],[1,"input-wrapper",3,"ngSwitch"],[3,"label","id","name","placeholder","required","type","class","controlName","form","readonly","forgot","change","forgotPasswordEvent",4,"ngIf"],["class","form-control",3,"id","class","controlName","form","placeholder","rows","required","label","change",4,"ngSwitchCase"],["class","",4,"ngSwitchCase"],["class","form-check",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"label","required","id","controlName","placeholder","form","onChange",4,"ngSwitchCase"],[3,"id","label","data","bindLabel","bindValue","controlName","form","searchKey","placeholder","required","onChange",4,"ngSwitchCase"],[3,"id","label","required","class","content","contentChange",4,"ngSwitchCase"],["class","invalid-error",4,"ngIf"],["class","form-text",4,"ngIf"],[3,"change","forgotPasswordEvent","label","id","name","placeholder","required","type","controlName","form","readonly","forgot"],[1,"form-control",3,"change","id","controlName","form","placeholder","rows","required","label"],[1,""],[3,"onChange","form","id","controlName","data","groupBy","placeholder","bindLabel","bindValue","multiselect","disable","label","labelClass","required"],[1,"form-check"],[1,"form-check-input",3,"type","id","formControlName"],[1,"form-check-label",3,"for"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["class","form-check",4,"ngFor","ngForOf"],["type","radio",1,"form-check-input",3,"id","name","formControlName","value"],[1,"field.class",3,"onChange","label","id","onLabel","offLabel"],["for","searchByPropertySwitch"],[3,"dateChange","label","required","id","type","controlName","placeholder","form","formate"],[3,"onChange","label","required","id","controlName","placeholder","form"],[3,"onChange","id","label","data","bindLabel","bindValue","controlName","form","searchKey","placeholder","required"],[3,"imageReorder","filesChanged","filesRemove","form","label","id","types","note","multiple","controlname","files","preview","reorder"],[3,"contentChange","id","label","required","content"],[1,"invalid-error"],[1,"form-text"],[1,"row"],["type","button","class","",3,"class","click",4,"ngIf"],["type","button",1,"",3,"click"],["type","submit",3,"class","disabled",4,"ngIf"],["type","submit",3,"disabled"],[1,"save-btn-dropdown-wrapper"],["type","button",1,"rd-btn-primary","rd-btn-lg","rd-dropdown-btn",3,"matMenuTriggerFor","disabled"],[1,"drop-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-chevron-down"],["points","6 9 12 15 18 9"],[1,"save-dropdown-menu"],["type","button",1,"rd-btn-text","rd-btn-lg",3,"click"],["src","assets/images/edit-pencile.svg","alt","icon"],["src","assets/images/upload.svg","alt","icon"]],template:function(e,t){if(e&1){let n=Ct();Ul(tO),te(0,"div",3)(1,"form",4),qe("ngSubmit",function(){return Ne(n),He(t.onSubmit())}),te(2,"div",5),et(3,MO,3,0,"ng-container",6)(4,kO,1,0,"ng-template",null,0,Yl)(6,PO,1,0,"ng-container",7),te(7,"div",8),Wl(8),et(9,IO,1,0,"ng-container",7)(10,VO,2,1,"div",9),te(11,"div"),et(12,FO,2,1,"div",9)(13,HO,2,1,"div",9)(14,BO,23,2,"div",9),ae()()()()()}if(e&2){let n=wr(5);X(),An(t.formClass),ie("formGroup",t.form)("ngClass",Cr(12,rO,t.flexiWidth)),X(2),ie("ngIf",t.columns&&t.columns.length>0)("ngIfElse",n),X(3),ie("ngTemplateOutlet",t.additionalColumn),X(3),ie("ngTemplateOutlet",t.extrabutton),X(),ie("ngIf",t.showcancelbutton),X(2),ie("ngIf",t.additionalForm&&!t.additionalTest),X(),ie("ngIf",!t.additionalForm&&!t.additionalTest),X(),ie("ngIf",t.additionalTest)}},dependencies:[Js,$t,Hi,Ar,fn,Os,Es,Ts,ci,ra,oi,bu,Sr,ai,zr,si,Su,Xs,ef,cf,uf,df,_f,km,Dm,Mm,wc],styles:[".form-container[_ngcontent-%COMP%]{width:100%;max-width:800px;height:100%;padding:0 10%}.form-row[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.submit-button[_ngcontent-%COMP%]{color:#fff;background-color:#c00018;border:2px solid transparent;font-size:15px;font-weight:600;padding:5px 10px;transition:all .3s}.width-50[_ngcontent-%COMP%]{width:50%}.width-80[_ngcontent-%COMP%]{width:80%}.width-100[_ngcontent-%COMP%]{width:100%}.btn-wrapper[_ngcontent-%COMP%]{width:100%;margin:30px 0 20px;display:flex;align-items:center;justify-content:flex-end}.rd-form-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:30px 0;border:.5px solid transparent;border-top-color:#dfdfdf}.rd-btn-secondary[_ngcontent-%COMP%]:hover{filter:drop-shadow(0px 0px 8px rgba(102,102,102,.4))}label[_ngcontent-%COMP%]{margin:0}.control-container[_ngcontent-%COMP%]{animation:fadeIn .3s}.control-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:2px;font-size:16px;color:var(--text-color);transition:all .3s ease-in}input[type=checkbox][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{color:inherit}.required-asterik[_ngcontent-%COMP%]{color:#e63f3d}.control-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;position:relative;padding:38px 32px 10px;transition:all .3s ease-in;animation:fadeIn .3s}.invalid[_ngcontent-%COMP%]{border-color:#e63f3d!important}.error-msg[_ngcontent-%COMP%]{color:#e63f3d;transition:all .3s ease-in;animation:fadeIn .3s}.form-control-note[_ngcontent-%COMP%]{position:absolute;right:5px;top:0;font-size:12px;color:#e63f3d}.invalid-error[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:.875em;color:var(--bs-form-invalid-color);display:flex}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   img[data-type=email][_ngcontent-%COMP%], .input-wrapper[_ngcontent-%COMP%]   img[data-type=password][_ngcontent-%COMP%]{position:absolute;left:15px;margin:auto;transition:all .3s ease-in;width:15px}.control-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .control-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:4px;font-weight:500;color:var(--text-color);background-color:var(--input-bg-color);transition:all .3s ease-in;box-shadow:var(--input-box-shadow)}.control-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .control-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#58595b!important}.control-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .control-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:hover{outline:none;border-color:#b8b8b8}.control-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .control-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#b8b8b8;font-weight:500}.control-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .control-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{border-color:transparent;color:#b8b8b8}.input-btn-group[_ngcontent-%COMP%]{position:absolute;right:0;padding:.4rem .5rem;display:flex;justify-content:space-evenly;width:auto;background-color:#f9fafb;background-color:transparent}.btn-forgot-password[_ngcontent-%COMP%]{position:relative;color:#c00018!important;font-weight:600!important}button.btn-password-visibility[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;transition:all .3s}button.btn-password-visibility[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:17px}button.btn-password-visibility[_ngcontent-%COMP%]:disabled{pointer-events:none;color:#b8b8b8!important;opacity:.3}input[_ngcontent-%COMP%]::-ms-reveal, input[_ngcontent-%COMP%]::-ms-clear{display:none}.control-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .control-container[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%!important;padding:.8rem .5rem!important}.control-container[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{-webkit-appearance:none;appearance:none;background-image:url(/assets/images/clock.svg);background-size:contain;background-repeat:no-repeat}.control-container[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator:hover{cursor:pointer}.control-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .control-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .control-container[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .control-container[_ngcontent-%COMP%]   input[type=text].password-input[_ngcontent-%COMP%], .control-container[_ngcontent-%COMP%]   input[type=text].trailing-icon-input[_ngcontent-%COMP%]{width:100%!important;padding:.8rem 3.5rem .8rem .5rem!important}.control-container[_ngcontent-%COMP%]   input[type=email].icon-input[_ngcontent-%COMP%]{width:100%!important;padding:.8rem .5rem .8rem 2.5rem!important}.control-container[_ngcontent-%COMP%]   input[type=text].icon-input[_ngcontent-%COMP%]{width:100%!important;padding:.8rem 3rem .8rem .8rem!important}.rd-form[_ngcontent-%COMP%]{background:#fff;border:1.12666px solid #f0f0f0;border-radius:12px;padding:38px 32px 10px;width:100%;margin:0 auto;animation:fadeIn 1s}rd-textarea.form-control[_ngcontent-%COMP%]{padding:0;border:none}.flexiClass[_ngcontent-%COMP%]{max-width:1280px}"]})};export{wc as a,Cc as b,U_ as c};
