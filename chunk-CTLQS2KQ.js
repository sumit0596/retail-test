import{c as s,f as S,n as f,o as v,p as g}from"./chunk-IPZIKDLO.js";import{f as l}from"./chunk-TBJJFKUM.js";import{$ as c,a,ca as m,g as n,ha as t,x as p}from"./chunk-4KZPWME3.js";var U=class o{constructor(i,r,e){this.httpClient=i;this.userStore=r;this.storageService=e}login(i){let r=`${g.apiBaseUrl+S.USER_LOGIN}`;return this.httpClient.post(r,i).pipe(p(e=>e.data),c(e=>{console.log(e),this.storageService.set(s.JWT_TOKEN,e.Token),this.storageService.set(s.TOKEN_TAT,e.ExpiresIn),this.userStore.setUser(a({},e.User))}))}logout(){return n(this,null,function*(){sessionStorage.clear(),localStorage.clear()})}static \u0275fac=function(r){return new(r||o)(t(l),t(v),t(f))};static \u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"})};export{U as a};
