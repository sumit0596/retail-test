import{c as T}from"./chunk-5DBK4ZXR.js";import"./chunk-7IPKTMG7.js";import"./chunk-23ETMDCW.js";import{w as C}from"./chunk-FQU4EXR4.js";import"./chunk-7GNHLM6X.js";import{$ as E,ba as P}from"./chunk-FLJC444F.js";import{c as a,f as y,n as w,o as _}from"./chunk-IPZIKDLO.js";import{p as b}from"./chunk-TBJJFKUM.js";import{Gb as v,N as p,Qb as i,Rb as r,Sb as m,Yb as u,a as l,ib as g,jc as S,kd as h,nb as o,ub as f}from"./chunk-4KZPWME3.js";var I=class s{constructor(n,e,t,d,c){this.router=n;this.toasterService=e;this.commonService=t;this.storageService=d;this.userService=c}fields=[{type:"email",label:"Email Address",name:"Email",placeholder:"Enter Email Address",value:"",wrapperClass:"col-md-12",id:"email",validators:{required:!0,email:!0}},{type:"password",label:"Password",name:"Password",placeholder:"Enter Password",value:"",wrapperClass:"col-md-12",id:"Password",validators:{required:!0}}];createcolumns;ngOnInit(){this.createcolumns=[{id:"col-12 d-flex flex-wrap gap-3 justify-content-center",value:this.fields}]}onSubmit(n){this.commonService.post(`${y.USER_LOGIN}`,n).pipe(p(1)).subscribe({next:e=>{this.storageService.set(a.TOKEN_TAT,e.data.ExpiresIn),this.storageService.set(a.JWT_TOKEN,e.data.Token),this.storageService.set(a.USER,e.data),this.userService.setUser(l({},e.data)),this.toasterService.success(e.message),this.router.navigate(["admin/dashboard"])},error:e=>{this.toasterService.error(e?.message||"Login failed")}})}forgotPassword(){this.router.navigate(["admin/forgot-password"])}brokersignup(){this.router.navigate(["admin/signup"])}static \u0275fac=function(e){return new(e||s)(o(b),o(E),o(P),o(w),o(_))};static \u0275cmp=f({type:s,selectors:[["app-login"]],decls:13,vars:5,consts:[[1,"container-fluid","login-section","vh-100"],[1,"row","h-100"],[1,"col-md-6","px-0","login-bg-container"],["src","assets/images/user-vector.svg","alt","Login",1,"w-100","vh-100","image-login-custom"],[1,"col-md-6","h-100","login-form-wrapper"],[1,"d-flex","flex-column","justify-content-center","login-form-container","py-2"],[1,"mb-3"],["href","/"],["src","assets/images/logo.svg","alt","logo"],[1,"greeting-msg","mb-2"],["id","greeting-msg",1,"rd-heading","rd-heading-lg","mb-3"],[3,"formSubmit","sendPasswordMail","fields","columns","submitButtonText","forgot","showcancelbutton"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),m(3,"img",3),r(),i(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),m(8,"img",8),r()(),i(9,"div",9)(10,"div",10),S(11," Hello and Welcome! "),r()(),i(12,"app-dynamic-form",11),u("formSubmit",function(c){return t.onSubmit(c)})("sendPasswordMail",function(){return t.forgotPassword()}),r()()()()()),e&2&&(g(12),v("fields",t.fields)("columns",t.createcolumns)("submitButtonText","Login")("forgot",!0)("showcancelbutton",!1))},dependencies:[h,C,T],styles:[".login-form-container[_ngcontent-%COMP%]{width:100%;max-width:800px;height:100%;padding:0 10%}[_nghost-%COMP%]     .form.form-container{padding:0!important;border:none}[_nghost-%COMP%]     .rd-form-footer{border:none!important;align-items:center}.login-form-wrapper[_ngcontent-%COMP%]{overflow:auto}.image-login-custom[_ngcontent-%COMP%]{object-fit:cover;object-position:left}  .rd-form-footer{justify-content:end!important}"],changeDetection:0})};export{I as LoginComponent};
