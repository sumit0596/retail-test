import{a as P}from"./chunk-EKHDGTRP.js";import"./chunk-B2JWDLBT.js";import{a as F}from"./chunk-CYK5HLCI.js";import{a as B}from"./chunk-FJTDMGYD.js";import{a as k}from"./chunk-F2AWUHRW.js";import{a as j}from"./chunk-6ZT7OVEF.js";import{c as L}from"./chunk-5DBK4ZXR.js";import"./chunk-7IPKTMG7.js";import"./chunk-23ETMDCW.js";import"./chunk-FQU4EXR4.js";import"./chunk-7GNHLM6X.js";import{$ as E,ba as V}from"./chunk-FLJC444F.js";import{e as R,f as D,r as T}from"./chunk-IPZIKDLO.js";import{n as U,p as x}from"./chunk-TBJJFKUM.js";import{Fc as _,Gb as s,Qb as a,Rb as n,Sb as d,Wb as S,Yb as l,Zb as c,ad as b,g as v,ib as m,jc as p,kd as w,nb as r,qa as C,ra as h,ub as g,yb as y,zb as I}from"./chunk-4KZPWME3.js";function W(o,f){if(o&1){let t=S();a(0,"div")(1,"app-dynamic-form",8),l("formCancel",function(){C(t);let i=c();return h(i.cancelUser())}),n()()}if(o&2){let t=c();m(),s("flexiWidth",!0)("fields",t.fields)("columns",t.viewColumns)("submitButtonText","")}}function q(o,f){if(o&1&&(a(0,"div"),d(1,"app-skeleton-loader",9),n()),o&2){let t=c();m(),s("type",t.hasPageBuilderField()?"user-form-page-builder":"user-form")}}var N=class o extends P{constructor(t,e,i,u,A,O,M,$){super(e,u,O,A,i,M,$);this.route=t}viewColumns;roleId;PropertyIdVal=[];showPropertyList=!1;propertyNameList$;userId;ngOnInit(){this.configureForm()}configureForm(){return v(this,null,function*(){this.formConfig=yield this.commonStore.getFormConfig(),this.formConfig.id&&(this.userId=this.formConfig.id,this.getUserById())})}getUserById(){this.commonService.get(`${D.USER_DETAIL}/${this.userId}`).subscribe({next:t=>{this.userDetails=t.data,this.roleId=this.userDetails.RoleId,this.PropertyIdVal=this.userDetails.PropertyIds,this.fields.forEach(e=>{if(e.type=="select"&&e.name=="RoleId")e.type="text",e.name="RoleName",e.value=this.userDetails.RoleName??"";else{let i=this.userDetails[e.name];e.value=i??""}e.disabled=!0}),this.viewColumns=[{value:this.fields}],this.cdr.markForCheck()},complete:()=>{},error:t=>{}})}editUser(){this.router.navigate([R.EDIT_USER])}hasPageBuilderField(){return this.fields?.some(t=>t.type==="pagebuilder")??!1}static \u0275fac=function(e){return new(e||o)(r(U),r(x),r(F),r(T),r(V),r(E),r(B),r(_))};static \u0275cmp=g({type:o,selectors:[["app-view-user"]],features:[y],decls:12,vars:3,consts:[[1,"rd-container"],[1,"rd-container-header"],[1,"rd-container-header-left"],[3,"url"],[1,"rd-heading","rd-heading-lg"],[1,"rd-container-header-right"],["type","button",1,"rd-btn-primary","rd-btn-lg",3,"click"],[4,"ngIf"],[3,"formCancel","flexiWidth","fields","columns","submitButtonText"],[3,"type"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),d(4,"back-button",3),n(),a(5,"div",4),p(6,"View User"),n()(),a(7,"div",5)(8,"button",6),l("click",function(){return i.editUser()}),p(9," Edit User "),n()()(),I(10,W,2,4,"div",7)(11,q,2,1,"div",7),n()),e&2&&(m(4),s("url",i.userlistUrl),m(6),s("ngIf",i.viewColumns),m(),s("ngIf",!i.viewColumns))},dependencies:[L,w,b,k,j],encapsulation:2})};export{N as ViewUserComponent};
