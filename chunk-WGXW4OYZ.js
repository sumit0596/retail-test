import{a as Le}from"./chunk-CTLQS2KQ.js";import{c as u,e as Ie,f as Ne,n as Ee,o as ke,p as Ae,q as Re,r as Te}from"./chunk-IPZIKDLO.js";import{f as we,m as Me,o as Oe,p as N,q as F,r as Pe,t as g}from"./chunk-TBJJFKUM.js";import{$ as de,$c as _e,Aa as w,Ba as le,Fb as q,Fc as I,Gb as d,H as ae,Hb as ue,J as se,Ma as A,Qb as o,Rb as s,Sb as c,Tb as L,Ub as j,Wb as P,Yb as p,Zb as m,_c as D,ad as U,bd as be,ca as y,cd as Se,da as k,dc as K,dd as xe,eb as R,ec as W,fc as G,g as v,gd as ye,ha as f,hb as ce,ia as Z,ib as a,jc as b,kd as _,lc as X,mb as me,mc as ge,n as ne,nb as l,nd as H,pb as pe,qa as h,ra as C,sc as ve,t as ie,tc as fe,u as oe,ub as M,vb as T,x as re,xc as he,yc as Ce,zb as O}from"./chunk-4KZPWME3.js";var ee=u.JWT_TOKEN,V=class t{constructor(i){this.storageService=i}getToken(){return this.storageService.get(ee)??""}setToken(i){this.storageService.set(ee,i)}removeToken(){this.storageService.remove(ee)}isAuthenticated(){return!!this.getToken()}isLoggedIn(){return!!this.storageService.get(Re.USER)}static \u0275fac=function(e){return new(e||t)(f(Ee))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};var $=class t{constructor(i,e,n){this.router=i;this.authService=e;this.platformId=n}canActivate(i,e){return H(this.platformId)&&(!this.authService.isAuthenticated()||!this.authService.isLoggedIn())&&this.router.navigate([Ie.LOGIN]),this.authService.isLoggedIn()}static \u0275fac=function(e){return new(e||t)(f(N),f(V),f(A))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};var Fe=()=>["dashboard"];function Ve(t,i){if(t&1){let e=P();o(0,"li",9)(1,"div",10)(2,"button",11)(3,"span"),b(4),s(),c(5,"img",12),s(),o(6,"div",13)(7,"ul",14)(8,"li")(9,"button",15),p("click",function(){h(e);let r=m();return C(r.profile())}),o(10,"span"),c(11,"img",16),s(),o(12,"span"),b(13,"Profile"),s()()(),o(14,"li",17)(15,"button",18),p("click",function(){h(e);let r=m();return C(r.logout())}),o(16,"span"),c(17,"img",19),s(),o(18,"span"),b(19,"Logout"),s()()()()()()()}if(t&2){let e=i.ngIf;a(4),ge(" ",(e==null||e.User==null?null:e.User.FirstName)||(e==null?null:e.FirstName)," ",(e==null||e.User==null?null:e.User.LastName)||(e==null?null:e.LastName)," ")}}var B=class t{constructor(i,e,n){this.router=i;this.loginService=e;this.renderer=n;this.userSub=this.userStore.user$.subscribe(r=>{this.currentUser=r})}userStore=Z(ke);user$=this.userStore.user$;currentUser;userSub;sidenavStatus;sideNavToggled=new w;cdr=Z(I);ngOnDestroy(){this.userSub.unsubscribe()}logout(){return v(this,null,function*(){yield this.loginService.logout(),this.router.navigate(["login"])})}sideNavToggle(){this.sidenavStatus=!this.sidenavStatus,this.sideNavToggled.emit(this.sidenavStatus),this.stickyHeaderPosition(this.sidenavStatus)}onClickOutSide(i){console.log("onClickOutSide called"),i.target.classList.contains("menu-icon")||(this.sideNavToggled.emit(!1),this.stickyHeaderPosition(!1))}stickyHeaderPosition(i){document.querySelectorAll(".scroll-fixed").forEach(n=>{i?this.renderer.addClass(n,"sideBaropenHeader"):this.renderer.removeClass(n,"sideBaropenHeader")})}profile(){this.router.navigate(["admin/profile"])}static \u0275fac=function(e){return new(e||t)(l(N),l(Le),l(me))};static \u0275cmp=M({type:t,selectors:[["app-admin-header"]],inputs:{sidenavStatus:"sidenavStatus"},outputs:{sideNavToggled:"sideNavToggled"},decls:12,vars:5,consts:[[1,"navbar-left"],["type","button","tabindex","0",1,"menu-btn",3,"click","keydown.enter","keydown.space"],["src","assets/images/menu.svg","alt","menu icon",1,"menu-icon"],[1,"navbar-brand"],[3,"routerLink"],["src","assets/images/logo.svg","alt","company logo",1,"logo"],[1,"navbar-right"],[1,"nav-list"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"user-details"],["type","",1,"user-name-btn"],["src","assets/images/chevron-down.svg","alt","dropdown-icon",1,"dropdown-icon"],[1,"user-actions"],[1,""],["type","button",3,"click"],["src","assets/images/user.svg","alt","user"],[1,"hr-top-line"],["type","button",1,"rd-btn-logout",3,"click"],["src","assets/images/log-out.svg","alt","logout"]],template:function(e,n){e&1&&(o(0,"nav")(1,"div",0)(2,"button",1),p("click",function(){return n.sideNavToggle()})("keydown.enter",function(){return n.sideNavToggle()})("keydown.space",function(){return n.sideNavToggle()}),o(3,"span"),c(4,"img",2),s()(),o(5,"div",3)(6,"a",4),c(7,"img",5),s()()(),o(8,"div",6)(9,"ul",7),O(10,Ve,20,2,"li",8),he(11,"async"),s()()()),e&2&&(a(6),d("routerLink",ve(4,Fe)),a(4),d("ngIf",Ce(11,2,n.user$)))},dependencies:[g,F,_,U,ye],styles:["nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;height:80px}.navbar-left[_ngcontent-%COMP%]{display:flex;align-items:center}nav[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{width:88px;text-align:center}.navbar-right[_ngcontent-%COMP%]{display:flex;gap:15px;justify-items:center}button[_ngcontent-%COMP%]   .bell-icon[_ngcontent-%COMP%]{width:18px}.nav-list[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;padding:0 10px;list-style:none}li.nav-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{position:relative}.user-details[_ngcontent-%COMP%]:hover   .user-actions[_ngcontent-%COMP%]{-webkit-transform:scaleY(1);-ms-transform:scaleY(1);transform:scaleY(1);opacity:1;visibility:visible}li.nav-item[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]{display:block;opacity:0;visibility:hidden;position:absolute;top:30px;right:0;min-width:170px;width:auto;height:auto;overflow:hidden;background-color:#fff;border-radius:5px;animation:fadeIn .3s;box-shadow:#63636333 0 2px 8px;-webkit-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);-webkit-transition:all .2s ease-in;-o-transition:all .2s ease-in;transition:all .2s ease-in}.user-actions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none}.user-actions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0}.user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:left;transition:all .3s ease-in}.user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;margin:0 10px}.user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}button.user-name-btn[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{margin-left:10px;width:15px}div#stickyHeader.scroll-fixed[_ngcontent-%COMP%]{position:fixed;top:80px;background:#fff;right:10px;box-shadow:-4px 2px 4px #6666664d;margin:0 auto;width:calc(100% - 100px);z-index:1;padding:10px 38px}div#stickyHeader.scroll-fixed.sideBaropenHeader[_ngcontent-%COMP%]{width:calc(100% - 300px)}@media (max-width: 768px){#stickyHeader.scroll-fixed[_ngcontent-%COMP%]{left:20px;width:calc(100% - 40px)}}@media (max-width: 480px){#stickyHeader.scroll-fixed[_ngcontent-%COMP%]{left:10px;width:calc(100% - 20px);top:60px}}"]})};var J=class t{constructor(i){this.httpClient=i}userMenuSubject=new ne([]);userMenu$=this.userMenuSubject.asObservable();getMenu(){return v(this,null,function*(){return this.userMenu$})}loadMenu(){return v(this,null,function*(){let i=`${Ae.apiBaseUrl+Ne.ADMIN_LEFT_MENU}`;return this.httpClient.get(i).pipe(re(n=>(sessionStorage.setItem(u.USER_MENU,JSON.stringify(n.data)),n.data)),se(n=>oe(()=>new n(n))),de(n=>this.userMenuSubject.next(n)))})}static \u0275fac=function(e){return new(e||t)(f(we))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};function Be(t,i){if(t&1&&(L(0),o(1,"a",8),c(2,"img",9),o(3,"div",10),b(4),s()(),j()),t&2){let e=m().$implicit,n=m(2);a(),d("href",e.Url,R)("title",e.Title),q("data-id",e.AdminMenuId),a(),d("src","assets/images/"+e.Code+".svg",R),a(),d("ngClass",n.sideNavStatus?"active":""),a(),X(" ",e.Title," ")}}function Je(t,i){if(t&1){let e=P();L(0),o(1,"a",11),p("click",function(){h(e);let r=m().$implicit,x=m(2);return C(x.handleMenuClick(r.AdminMenuId))}),c(2,"img",9),o(3,"div",10),b(4),s()(),j()}if(t&2){let e=m().$implicit,n=m(2);a(),d("routerLink",e.Url)("title",e.Title),q("data-id",e.AdminMenuId),a(),d("src","assets/images/"+e.Code+".svg",R),a(),d("ngClass",n.sideNavStatus?"active":""),a(),X(" ",e.Title," ")}}function Ye(t,i){if(t&1&&(o(0,"li",4),L(1,5),O(2,Be,5,6,"ng-container",6)(3,Je,5,6,"ng-container",7),j(),s()),t&2){let e=i.$implicit;a(),d("ngSwitch",e.Title),a(),d("ngSwitchCase","Offer To Lease")}}function ze(t,i){if(t&1&&(o(0,"ul",2),O(1,Ye,4,2,"li",3),s()),t&2){let e=m();a(),d("ngForOf",e.menuItems)}}var E=class t{constructor(i,e,n,r,x){this.adminService=i;this.loaderService=e;this.platformId=n;this.cdr=r;this.ngZone=x;this.isBrowser=H(this.platformId)}menuId=0;menuItems;menuItems$;sideNavStatus;sidenavEvent=new w;isBrowser=!1;menuItemsSubscription;ngOnDestroy(){this.menuItemsSubscription&&this.menuItemsSubscription.unsubscribe()}ngOnInit(){return v(this,null,function*(){this.isBrowser&&(this.menuId=JSON.parse(localStorage.getItem(u.MENU_ID)??"0"),yield this.getLeftMenu())})}getLeftMenu(){return v(this,null,function*(){let i=sessionStorage.getItem(u.USER_MENU);i?(this.menuItems$=ie(JSON.parse(i)),this.adminService.loadMenu().then(e=>{e.subscribe({next:n=>{this.ngZone.run(()=>{this.menuItems=n,sessionStorage.setItem(u.USER_MENU,JSON.stringify(n)),this.cdr.markForCheck()})},error:n=>{}})})):(this.menuItems$=yield this.adminService.loadMenu(),this.menuItems$.subscribe({next:e=>{this.ngZone.run(()=>{this.menuItems=e,sessionStorage.setItem(u.USER_MENU,JSON.stringify(e)),this.cdr.markForCheck()})},error:e=>{}}))})}toggleSidenav(i){this.menuId=i,localStorage.setItem(u.MENU_ID,JSON.stringify(this.menuId))}sideNavToggle(){this.sidenavEvent.emit(!this.sideNavStatus)}forceCloseSidebar(){this.sidenavEvent.emit(!1)}closeSidebar(){this.sidenavEvent.emit(!1)}toggleSidebar(){this.sidenavEvent.emit(!this.sideNavStatus)}handleMenuClick(i){this.toggleSidenav(i),this.sideNavStatus&&this.closeSidebar()}static \u0275fac=function(e){return new(e||t)(l(J),l(Te),l(A),l(I),l(le))};static \u0275cmp=M({type:t,selectors:[["app-admin-sidebar"]],inputs:{sideNavStatus:"sideNavStatus"},outputs:{sidenavEvent:"sidenavEvent"},decls:2,vars:1,consts:[[1,"rd-sidenav"],["class","nav-list",4,"ngIf"],[1,"nav-list"],["class","nav-list-item",4,"ngFor","ngForOf"],[1,"nav-list-item"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank",3,"href","title"],["alt","menu svg",3,"src"],[1,"nav-item-title",3,"ngClass"],["routerLinkActive","active-menu",3,"click","routerLink","title"]],template:function(e,n){e&1&&(o(0,"div",0),O(1,ze,2,1,"ul",1),s()),e&2&&(a(),d("ngIf",n.menuItems))},dependencies:[_,D,_e,U,be,Se,xe,g,F,Pe],styles:[".rd-sidenav[_ngcontent-%COMP%]{transition:width .25s ease-in;padding:20px 0;text-decoration:none}.nav-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;padding:0;list-style:none;animation:slideInFromLeft .3s;text-decoration:none}.nav-sub-list[_ngcontent-%COMP%]{width:100%;padding-left:40px;padding-top:10px;transition:all .3s ease-in}.nav-list-item[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;min-height:50px;font-weight:600;padding:5px 15px}.nav-list-sub-item[_ngcontent-%COMP%]{padding:0 15px;font-weight:500}.nav-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;position:relative;width:100%;display:flex;padding:10px 15px;border-radius:12px;opacity:.8;transition:opacity .3s ease;text-decoration:none;color:var(--black)}.active-menu[_ngcontent-%COMP%]{color:var(--dominant-red-color)!important}.nav-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;background-color:#e4e9e6}.nav-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:18px}.nav-list-item[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{position:absolute;right:10px;transition:all 1s ease-in}.dropdown-arrow.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotateX(180deg)}.nav-list-item[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:0;transition:all .3s ease-in}.nav-list-item[_ngcontent-%COMP%]   .nav-item-title[_ngcontent-%COMP%]{width:100%;opacity:0;transition:opacity .25s ease;text-decoration:none}.active[_ngcontent-%COMP%]{opacity:1!important}.active-menu[_ngcontent-%COMP%], .active-item[_ngcontent-%COMP%]{background-color:#e4e9e6;font-weight:600}.active-menu.active-item[_ngcontent-%COMP%]{background-color:transparent}"]})};var Qe=["container"],Ze=t=>({"admin-layout":t}),Y=class t{constructor(i,e){this.cdr=i;this.router=e;this.router.events.pipe(ae(n=>n instanceof Me)).subscribe(()=>{this.cdr.detectChanges()})}sideNavStatus=!1;myEvent=new w;container;sidebarRef;sidebarWrapper;handleOutsideClick(i){let e=i.target,n=this.sidebarWrapper?.nativeElement.contains(e),r=e.classList.contains("menu-btn")||e.closest(".menu-btn");!n&&!r&&this.sideNavStatus&&this.sidebarRef.closeSidebar()}static \u0275fac=function(e){return new(e||t)(l(I),l(N))};static \u0275cmp=M({type:t,selectors:[["app-admin-layout"]],viewQuery:function(e,n){if(e&1&&(K(Qe,5,pe),K(E,5)),e&2){let r;W(r=G())&&(n.container=r.first),W(r=G())&&(n.sidebarRef=r.first)}},hostBindings:function(e,n){e&1&&p("click",function(x){return n.handleOutsideClick(x)},!1,ce)},outputs:{myEvent:"myEvent"},decls:9,vars:8,consts:[["content",""],[1,"rd-container","rd-fixed"],[1,"rd-header-container"],[3,"sideNavToggled","sidenavStatus"],[1,"main-container","d-flex"],[1,"rd-sidenav-container",3,"ngClass"],[3,"sidenavEvent","sideNavStatus"],[1,"rd-main-container",3,"ngClass"]],template:function(e,n){if(e&1){let r=P();o(0,"div",1,0)(2,"div",2)(3,"app-admin-header",3),p("sideNavToggled",function(Q){return h(r),C(n.sideNavStatus=Q)}),s()(),o(4,"div",4)(5,"div",5)(6,"app-admin-sidebar",6),p("sidenavEvent",function(Q){return h(r),C(n.sideNavStatus=Q)}),s()(),o(7,"div",7),c(8,"router-outlet"),s()()()}e&2&&(a(3),d("sidenavStatus",n.sideNavStatus),a(2),d("ngClass",n.sideNavStatus?"rd-sidenav-open":""),a(),d("sideNavStatus",n.sideNavStatus),a(),ue("margin-left",n.sideNavStatus?"280px":"88px"),d("ngClass",fe(6,Ze,n.sideNavStatus)))},dependencies:[g,Oe,B,E,_,D],styles:[".admin-layout[_ngcontent-%COMP%]{min-height:100vh;padding-top:10px;padding-left:40px}app-admin-navbar[_ngcontent-%COMP%]{position:absolute!important}.rd-container[_ngcontent-%COMP%]{display:flex;flex-flow:column}.rd-header-container[_ngcontent-%COMP%]{position:sticky;top:0;flex:0 1 auto;height:80px;background:#fff;box-shadow:1px 0 4px #6666664d;z-index:1099;width:100%;transition:all .25s ease-in}.main-container[_ngcontent-%COMP%]{flex:1 1 auto}.rd-sidenav-container[_ngcontent-%COMP%]{position:fixed;left:0rem;width:88px;height:100%;background:#fff;box-shadow:1px 0 4px #6666664d;z-index:9;overflow-x:hidden;white-space:nowrap;transition:all .25s ease-in}.rd-sidenav-open[_ngcontent-%COMP%]{width:310px}.rd-main-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:auto;overflow-x:hidden;padding:25px 40px 0;transition:all .25s ease-in;margin-left:88px}.close-nav-bar[_ngcontent-%COMP%]{position:fixed;width:80px;padding:0 5px 0 0;height:100%;box-shadow:0 0 5px #00000080;background-color:#222;border-top:1px solid white}.open-nav-bar[_ngcontent-%COMP%]{position:fixed;width:200px;padding:0 5px 0 0;height:100%;box-shadow:0 0 5px #00000080;background-color:#222;border-top:1px solid white}@media only screen and (max-width: 991px){.admin-layout[_ngcontent-%COMP%]{min-height:100vh;padding-top:10px;padding-left:20px}.close-nav-bar[_ngcontent-%COMP%]{position:fixed;width:0px;padding:0;height:100%;box-shadow:0 0 5px #00000080;background-color:#222;border-top:1px solid white}}"],changeDetection:0})};var qe=[{path:"",component:Y,canActivate:[$],children:[{path:"dashboard",loadComponent:()=>import("./chunk-NGP2MF3N.js").then(t=>t.DashboardComponent)},{path:"profile",loadComponent:()=>import("./chunk-7VTRQJ4I.js").then(t=>t.ProfileDetailsComponent)},{path:"form",loadComponent:()=>import("./chunk-YGDHO6M3.js").then(t=>t.EnquiryFormComponent)},{path:"users",loadComponent:()=>import("./chunk-VN6AWQKQ.js").then(t=>t.AdminSettingsComponent)},{path:"manage-users",loadComponent:()=>import("./chunk-6TUGXHC6.js").then(t=>t.UsersComponent)},{path:"manage-roles",loadComponent:()=>import("./chunk-OKIA6GDF.js").then(t=>t.RolesComponent)},{path:"manage-roles/create-role",loadComponent:()=>import("./chunk-Q3P5YAPT.js").then(t=>t.CreateRoleComponent)},{path:"manage-roles/edit-role",loadComponent:()=>import("./chunk-7EO2DSRK.js").then(t=>t.EditRolesComponent)},{path:"manage-users/create-user",loadComponent:()=>import("./chunk-2CL3CS35.js").then(t=>t.CreateUserComponent)},{path:"manage-users/view-user",loadComponent:()=>import("./chunk-2ICP7INI.js").then(t=>t.ViewUserComponent)},{path:"manage-users/edit-user",loadComponent:()=>import("./chunk-P55REWRN.js").then(t=>t.EditUserComponent)},{path:"manage-custom-pages/create-custom-page",loadComponent:()=>import("./chunk-ZTLQ4FYO.js").then(t=>t.DummyPageComponent)},{path:"manage-custom-pages",loadComponent:()=>import("./chunk-5IPPMCP2.js").then(t=>t.DummyListingComponent)},{path:"builder",loadComponent:()=>import("./chunk-TOUFZKGI.js").then(t=>t.PageBuilderComponent)},{path:"**",loadComponent:()=>import("./chunk-GMYWHNJP.js").then(t=>t.NotFoundComponent)}]}];var z=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=T({type:t});static \u0275inj=k({imports:[g.forChild(qe),g]})};var Ue=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=T({type:t});static \u0275inj=k({imports:[_,z]})};export{Ue as AdminModule};
