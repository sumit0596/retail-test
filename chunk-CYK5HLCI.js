import{c as f,n as b,p as v}from"./chunk-IPZIKDLO.js";import{f as S}from"./chunk-TBJJFKUM.js";import{$ as p,J as c,ca as m,g as i,ha as a,n as s,u as n,x as l}from"./chunk-4KZPWME3.js";var y=class e{constructor(t,o){this.http=t;this.storageService=o}rolesSubject=new s([]);roles$=this.rolesSubject.asObservable();getRoles(){return i(this,null,function*(){return yield this.loadRoles(),this.roles$})}loadRoles(){return i(this,null,function*(){let t=`${v.apiBaseUrl}/role/list`;this.http.get(t).pipe(l(r=>r.data),c(r=>n(()=>new Error(r))),p(r=>{this.storageService.set(f.USER_ROLES,JSON.stringify(r)),this.rolesSubject.next(r)})).subscribe()})}static \u0275fac=function(o){return new(o||e)(a(S),a(b))};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})};export{y as a};
